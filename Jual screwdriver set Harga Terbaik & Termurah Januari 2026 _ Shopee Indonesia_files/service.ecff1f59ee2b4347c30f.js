(self.miniJsonp=self.miniJsonp||[]).push([[9631],{27449:function(e,t,n){var r,o,c,i,u,a,s,l,f,_,d;e.exports=(r=n(58518),o=n(29494),c=n(36808),i=n(67429),u=n(94301),a=n(44900),s=n(59065),l=n(67677),f=n(58397),_=n(82677),d=n(34857),function(){"use strict";var e={9701:function(e,t,n){n.d(t,{t:function(){return c}});var r=n(8661),o=n.n(r),c=o().t.bind(o())},7187:function(e){var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function c(){c.init.call(this)}e.exports=c,e.exports.once=function(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,c),r(n)}function c(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}S(e,t,c,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&S(e,"error",t,n)}(e,o,{once:!0})}))},c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var i=10;function u(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function a(e){return void 0===e._maxListeners?c.defaultMaxListeners:e._maxListeners}function s(e,t,n,r){var o,c,i,s;if(u(n),void 0===(c=e._events)?(c=e._events=Object.create(null),e._eventsCount=0):(void 0!==c.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),c=e._events),i=c[t]),void 0===i)i=c[t]=n,++e._eventsCount;else if("function"==typeof i?i=c[t]=r?[n,i]:[i,n]:r?i.unshift(n):i.push(n),(o=a(e))>0&&i.length>o&&!i.warned){i.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=i.length,s=l,console&&console.warn&&console.warn(s)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=l.bind(r);return o.listener=n,r.wrapFn=o,o}function _(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):p(o,o.length)}function d(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function S(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(c){r.once&&e.removeEventListener(t,o),n(c)}))}}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");i=e}}),c.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},c.prototype.getMaxListeners=function(){return a(this)},c.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var o="error"===e,c=this._events;if(void 0!==c)o=o&&void 0===c.error;else if(!o)return!1;if(o){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var u=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw u.context=i,u}var a=c[e];if(void 0===a)return!1;if("function"==typeof a)r(a,this,t);else{var s=a.length,l=p(a,s);for(n=0;n<s;++n)r(l[n],this,t)}return!0},c.prototype.addListener=function(e,t){return s(this,e,t,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(e,t){return s(this,e,t,!0)},c.prototype.once=function(e,t){return u(t),this.on(e,f(this,e,t)),this},c.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,f(this,e,t)),this},c.prototype.removeListener=function(e,t){var n,r,o,c,i;if(u(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,c=n.length-1;c>=0;c--)if(n[c]===t||n[c].listener===t){i=n[c].listener,o=c;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,i||t)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,c=Object.keys(n);for(r=0;r<c.length;++r)"removeListener"!==(o=c[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},c.prototype.listeners=function(e){return _(this,e,!0)},c.prototype.rawListeners=function(e){return _(this,e,!1)},c.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},c.prototype.listenerCount=d,c.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},6782:function(e){e.exports=s},3830:function(e){e.exports=l},5292:function(e){e.exports=f},8661:function(e){e.exports=r},7444:function(e){e.exports=u},6598:function(e){e.exports=c},1383:function(e){e.exports=_},4944:function(e){e.exports=d},1855:function(e){e.exports=o},4672:function(e){e.exports=a},459:function(e){e.exports=i}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var c=t[r]={exports:{}};return e[r](c,c.exports,n),c.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var p={};return function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,n){return t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(e,n)}function r(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&t(e,n)}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?c(e):t}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function f(e,n,r){return f=l()?Reflect.construct:function(e,n,r){var o=[null];o.push.apply(o,n);var c=new(Function.bind.apply(e,o));return r&&t(c,r.prototype),c},f.apply(null,arguments)}function _(e){var n="function"==typeof Map?new Map:void 0;return _=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,o)}function o(){return f(e,arguments,u(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),t(o,e)},_(e)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return i(this,n)}}n.r(p),n.d(p,{$tracker:function(){return st},Blacklist:function(){return L},CancelOrderWarning:function(){return U},CustomError:function(){return g},EventBus:function(){return lt},ExceptionName:function(){return Pe},Forbidden:function(){return E},HTTPError:function(){return G},InternalServerError:function(){return j},Limiting:function(){return w},MarkName:function(){return Ae},NeedCaptchaVerify:function(){return k},NotFound:function(){return D},ReportComponent:function(){return Ce},ReportPoint:function(){return Be},TemporyError:function(){return M},Unauthoried:function(){return P},UnprocessableEntity:function(){return I},UntrustedNetwork:function(){return N},UnverifiedPhoneNumber:function(){return x},Webview:function(){return A},affiliateSchema:function(){return Et},agentConversationSchema:function(){return Ct},clearApiCache:function(){return oe},collectAsyncTask:function(){return ze},collectComponentTask:function(){return Qe},collectConversationLoadTask:function(){return We},collectLoadTask:function(){return Ve},configTrackerUser:function(){return ut},contactsSchema:function(){return Pt},conversationSchema:function(){return Tt},exceptionTag:function(){return De},fetch:function(){return ot},getReportManager:function(){return we},getTranslation:function(){return kt},initMDAPSdk:function(){return Xe},isError:function(){return F},isInServiceDownDuration:function(){return ae},mdapConfig:function(){return ke},messageSchema:function(){return ht},messageShortcutsSchema:function(){return Rt},normalize:function(){return wt},offerSchema:function(){return mt},orderSchema:function(){return Ot},productSchema:function(){return gt},rateCardsSchema:function(){return At},reportApiTime:function(){return Je},shopSchema:function(){return yt},shopService:function(){return Z},stickerSchema:function(){return bt},userSchema:function(){return vt},vouchersSchema:function(){return Dt}});var S=function(t){r(o,t);var n=d(o);function o(t,r,c){var i;return e(this,o),(i=n.call(this,t)).name=i.constructor.name,i.errors=r,i.data=c,i}return o}(_(Error));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return i(this,n)}}var E=function(t){r(o,t);var n=v(o);function o(t,r,c){var i;return e(this,o),(i=n.call(this,t,r,c)).name=i.constructor.name,i}return s(o,[{key:"handler",value:function(){}}]),o}(S),h=n(9701).t;function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return i(this,n)}}var O=["unauthorized_for_shop","target_subaccount_unauthorized_for_shop","target_group_unauthorized_for_shop","conversation_not_belong_to_you","conversation_not_dispatch","cannot_move_conversation_to_yourself","target_subaccount_not_online","subaccount_conversation_not_found","conversation_closed"],g=function(t){r(o,t);var n=T(o);function o(t,r,i){var u;return e(this,o),(u=n.call(this,t,r,i)).name=u.constructor.name,u.handler=u.handler.bind(c(u)),u}return s(o,[{key:"handler",value:function(){var e="";if(O.includes(this.errors))e="forward.error.".concat(this.errors);else switch(this.errors){case"user_have_delete_disable":e="forward.error.user_deleted";break;case"user_has_pending_order":e="conversation_detail.workstation.block_fail_modal.title";break;case"too_many_requests_for_unique_fields":e="feedback_modal.too_many_requests_for_unique_fields";break;default:e="common.server_error.warning_tips"}return{show:!0,type:"fail",message:h(e)}}}]),o}(S),m=n(1855),b=n(9701).t;function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return i(this,n)}}var R={rating_card_expired:"conversation_detail.message_list.csat_expired",have_submited_csat:"conversation_detail.message_list.csat_have_submited",no_organic_within_24hr:"conversation_detail.message_list.csat_no_organic_within_24hr",send_rating_card_too_frequently:"conversation_detail.message_list.csat_send_rating_card_too_frequently",buyer_receiver_too_many_rating_card:"conversation_detail.message_list.csat_buyer_receiver_too_many_rating_card",buyer_active_feedback_off:"conversation_detail.message_list.csat_buyer_active_feedback_off",not_chat_with_agent:"conversation_detail.message_list.csat_not_chat_with_agent",have_received_rating_card_today:"conversation_detail.message_list.csat_have_received_rating_card_today",can_not_rate_now:"conversation_detail.message_list.csat_can_not_rate_now",can_not_rate_bot_now:"cast.error.can_not_rate_bot_now",bot_frequency_limit:"cast.error.bot_frequency_limit",not_chat_with_bot:"cast.error.not_chat_with_bot"},A=function(t){r(o,t);var n=y(o);function o(t,r,c){var i;return e(this,o),(i=n.call(this,t,r,c)).name=i.constructor.name,i}return s(o,[{key:"handler",value:function(e){var t,n=null!==(t=R[this.errors])&&void 0!==t?t:"common.server_error.warning_tips";"cast.error.can_not_rate_bot_now"===n&&(0,m.checkSpecialShops)(e)&&(n="".concat(n,"_idscs"));var r=b(n);if("buyer_receiver_too_many_rating_card"===this.errors){var o,c,i=null!==(o=null===(c=this.data)||void 0===c?void 0:c.limit)&&void 0!==o?o:"";r=b(R.buyer_receiver_too_many_rating_card,{count:i})}return{message:r,show:!0,type:"fail"}}}]),o}(S);function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return i(this,n)}}var P=function(t){r(o,t);var n=C(o);function o(){return e(this,o),n.apply(this,arguments)}return o}(S),D=function(t){r(o,t);var n=C(o);function o(){return e(this,o),n.apply(this,arguments)}return o}(S),I=function(t){r(o,t);var n=C(o);function o(){return e(this,o),n.apply(this,arguments)}return o}(S),w=function(t){r(o,t);var n=C(o);function o(){return e(this,o),n.apply(this,arguments)}return o}(S),N=function(t){r(o,t);var n=C(o);function o(){return e(this,o),n.apply(this,arguments)}return o}(S),M=function(t){r(o,t);var n=C(o);function o(){return e(this,o),n.apply(this,arguments)}return o}(S),L=function(t){r(o,t);var n=C(o);function o(){return e(this,o),n.apply(this,arguments)}return o}(S),U=function(t){r(o,t);var n=C(o);function o(){return e(this,o),n.apply(this,arguments)}return o}(S),x=function(t){r(o,t);var n=C(o);function o(){return e(this,o),n.apply(this,arguments)}return o}(S),j=function(t){r(o,t);var n=C(o);function o(){return e(this,o),n.apply(this,arguments)}return o}(S),k=function(t){r(o,t);var n=C(o);function o(){return e(this,o),n.apply(this,arguments)}return o}(S),G=function(e){switch(e){case 401:return P;case 403:return E;case 404:return D;case 422:return I;case 429:return w;case 451:return N;case 452:return M;case 491:return g;case 492:return L;case 493:return A;case 494:return U;case 495:return x;case 499:return k;case 500:return j;default:return Error}},F=function(e){return"".concat(e).startsWith("4")||"".concat(e).startsWith("5")};function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(e,t){if(e){if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,t):void 0}}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,c=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return c}}(e,t)||B(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t,n,r,o,c,i){try{var u=e[c](i),a=u.value}catch(e){return void n(e)}u.done?t(a):Promise.resolve(a).then(r,o)}function Q(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var c=e.apply(t,n);function i(e){W(c,r,o,i,u,"next",e)}function u(e){W(c,r,o,i,u,"throw",e)}i(void 0)}))}}var z=n(6598),q=n.n(z),K=n(459);function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $=function(){function t(){e(this,t),this.shopsMap={}}var n;return s(t,[{key:"updateShopMap",value:function(e){this.shopsMap=J(J({},this.shopsMap),e)}},{key:"getRegion",value:(n=Q(regeneratorRuntime.mark((function e(t,n){var r,o,c,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=11;break}if(o=null===(r=this.shopsMap[n])||void 0===r?void 0:r.country){e.next=8;break}return e.next=5,ot({resource:"shop",id:n,params:{need_cache:1,cache_expires:600}});case 5:return c=e.sent,this.updateShopMap(H({},c.id,c)),e.abrupt("return",c.country);case 8:return e.abrupt("return",o);case 11:if(i=(0,m.getRuntimeRegion)().toUpperCase(),!["KR","CN"].includes(i)&&!t){e.next=14;break}return e.abrupt("return","GLOBAL");case 14:return e.abrupt("return",i);case 15:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})}]),t}(),Z=new $;function ee(e){return function(e){if(Array.isArray(e))return Y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||B(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}"live"!==(0,m.getRuntimeServer)()&&(window.shopService=Z);var te=n(7444),ne=n.n(te),re="CHAT_API",oe=function(){window.caches&&window.caches.delete(re)};function ce(e,t){return ie.apply(this,arguments)}function ie(){return(ie=Q(regeneratorRuntime.mark((function e(t,n){var r,o,c,i,u,a,s,l,f,_,d,p,S,v,E,h,T,O,g,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=new URL(t),o=r.searchParams,c=o.get("need_cache"),i=o.get("force_update"),u=o.get("_ts"),a=n.method&&"get"===n.method.toLowerCase(),s="&csrf_token=".concat(encodeURIComponent(o.get("csrf_token")||"")),l="&force_update=".concat(String(i)),f=t.replace(s,"").replace(l,"").replace(u||"",""),!(a&&c&&window.caches)){e.next=44;break}return e.next=13,window.caches.open(re);case 13:return _=e.sent,e.next=16,_.match(f);case 16:if(d=e.sent,p=Date.now(),!d){e.next=25;break}if(!(p<Number(d.headers.get("cache-expires")))||i){e.next=23;break}return e.abrupt("return",d);case 23:return e.next=25,_.delete(f);case 25:return e.next=27,ne()(t,n);case 27:if(S=e.sent,v=S.clone(),200!==S.status){e.next=41;break}return E=ee(S.headers.entries()),h={},T=Number(o.get("cache_expires"))||3600,O=p+1e3*T,e.next=36,S.blob();case 36:g=e.sent,E.forEach((function(e){h[e[0]]=e[1]})),h["cache-expires"]=O,m=new Response(g,{headers:new Headers(h)});try{_.put(f,m)}catch(e){window.caches.delete(re)}case 41:return e.abrupt("return",v);case 44:return e.abrupt("return",ne()(t,n));case 45:e.next=50;break;case 47:return e.prev=47,e.t0=e.catch(0),e.abrupt("return",ne()(t,n));case 50:case"end":return e.stop()}}),e,null,[[0,47]])})))).apply(this,arguments)}var ue=n(4672),ae=function(){var e=window.__SERVICEDOWN_STATT_TIME__,t=window.__SERVICEDOWN_END_TIME__,n=void 0!==e&&void 0!==t,r=Math.ceil(Date.now()/1e3);return n&&r>=e&&r<=t},se=function(e){F(e)||!ae()&&window.__CHAT_GLOBAL__.setServiceDownStatus&&ue.store.dispatch(window.__CHAT_GLOBAL__.setServiceDownStatus({alert:!1,closed:!1,list:!1,message:!1}))},le=function(e,t){var n=new(G(e))(t.message,t.errors||t.error_code||t.errcode,t.data);if(n)throw n},fe=function(e,t,n){if(F(e)){var r=n.uri,o=n.resource;"br_site_is_close"===(t||{}).error_code&&function(e){var t;ae()?(t=e.split("?")[0]).endsWith("conversations")||t.endsWith("conversation/list")?window.__CHAT_GLOBAL__.setServiceDownStatus&&ue.store.dispatch(window.__CHAT_GLOBAL__.setServiceDownStatus({alert:!0,list:!0})):window.__CHAT_GLOBAL__.setServiceDownStatus&&ue.store.dispatch(window.__CHAT_GLOBAL__.setServiceDownStatus({alert:!0,message:!0})):window.__CHAT_GLOBAL__.setServiceDownStatus&&ue.store.dispatch(window.__CHAT_GLOBAL__.setServiceDownStatus({alert:!1,closed:!1,list:!1,message:!1}))}(r),[400,404].includes(e),[491,493].includes(e)?le(e,t):401===e?((0,m.removeItem)("mini-session"),(0,m.removeItem)("mini-sc_redirect"),"login"===o&&le(e,t)):le(e,t)}},_e=function(e){var t=e.uri,n=e.id,r=e.parentId;if(void 0!==n&&parseInt(n)<=0&&!t.includes("message_shortcuts/group")||void 0!==r&&parseInt(r)<=0)throw new Error},de=function(e,t,n){throw e||(t.offlineError=!0),t};function pe(e){return Se.apply(this,arguments)}function Se(){return Se=Q(regeneratorRuntime.mark((function e(t){var n,r,o,c,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=function(){return(i=Q(regeneratorRuntime.mark((function e(){var t,i,u,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.read();case 2:if(t=e.sent,i=t.done,u=t.value,!i){e.next=7;break}return e.abrupt("return",JSON.parse(o.join("")));case 7:return a=r.decode(u,{stream:!0}),o.push(a),e.abrupt("return",c());case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)},c=function(){return i.apply(this,arguments)},n=t.getReader(),r=new TextDecoder,o=[],e.abrupt("return",c());case 6:case"end":return e.stop()}}),e)}))),Se.apply(this,arguments)}var ve,Ee,he=n(6782),Te=n(3830),Oe=n.n(Te),ge=n(5292),me=n.n(ge),be={"18a6f08d7326025b60ded61f60c9ea20":"LOAD_HTML","0d2968a6996a60fee2db1270a70ef563":"LOAD_STATIC",ea02fc90bd3663f3179be7a1b7847a83:"APP_PREPARE","4e0b71ed91b3eacb1dfc4ec7f63b2966":"LOGIN_API","9d4a48b69fed6d1001e63ee668a05488":"LOGIN_SUCCEEDED","84fcedc144bfce212ae8db9f6ebb84ec":"SHOW_WEBCHAT"},ye={"94a2f272c378ddf18f5c88f4e951c709":"SHOW_HOME_PAGE",a5707a9d6695fc50e257b51aee9ec03b:"LOAD_RESOURCE",dd25761ed961c46f4a0725abf6325b3a:"RENDER_HOME_PAGE","65d0f06861e011436277b54e32e0e702":"SEND_MESSAGE_API",b2bad090fbb5b6eb526af0423326ba91:"SEND_MESSAGE_CONSUMING","00f7d4cb0b968ed35a91ae83c0346fe1":"FETCH_CONV_API",b7b04ad90caccf19961c3dcdf7063294:"FETCH_MESSAGE_API","7ce993bd22dee11001514ad2b8e760bf":"RENDER_MESSAGE_LIST_FROM_CONV"};ve={LOAD_HTML:"31b7f223943eee895738ce50e49a359a",LOAD_STATIC:"0ec7c5189cc4ada79908cfe5d6bd97ca",APP_PREPARE:"a61675f22b23600e51007c24a9b8aaf2",LOGIN_API:"75cbf76696b4f8d988de72cdfeb1877c",LOGIN_SUCCEEDED:"05c0e68ee42384c7e07e47fec4400e28",SHOW_WEBCHAT:"1b16553696a08e9f016235005a5a0678",SHOW_HOME_PAGE:"94a2f272c378ddf18f5c88f4e951c709",VIDEO_UPLOAD:"334a26e8a6dc82c95a47430f8af2e198",SERVICE_DONE:"19f2ea17be2d1d80257667787e54c882",MESSAGE_SOCKET:"f76ebd29ea3ed4571c9ea48ca893ac14",READ_SOCKET:"37e5b36437f0166056d3312fcea2b592",LOGIN_FAILED:"df8a83f83c949bb6a2b84c6f0048e203",SOCKET_FAILED:"13ddf42d9169b2ce05feb84224d79057",SHARED_TABS:"94e8d83005c95982268ff1c8b036313e",LOGIN_IN_HTML:"4075993c600862e7c604e35cd692a297",LOGIN_IN_SERVICE:"2845ad2751849e3d43b26a805a25dbb4",PRE_FETCH_USER_INFO:"36a82dac2154de34fa4c6d7e3da73a19",NON_PRE_FETCH_USER_INFO:"a9de236c14047b42eec108bf7f22f2ac",TRANSLATION_IN_HTML:"b3105979b5cc6448de8272e177db5741",TRANSLATION_IN_SERVICE:"acfba493a8c2d11ad323bc09c2d06603",CONVERSATION_MOUNTED:"53ddb086a61674f59a9d84e1a02f04a5",CONVERSATION_LOADED:"800c5562450216bccfad6cd11847c160",RECEIVE_CHATBOT_RESPONSE:"a6f37d623af1c31b5ae3eb333fc571c8",REPORT_T3:"b16720c32b08d2c2b4b9cebb66205520",REPORT_T4:"20749fffb5583f720b3eacf5013c4398",REPORT_ERROR:"ce4cc92284f6ed31f8266c8e676744c5",MESSAGE_LATENCY:"4cb5dab311e98cba8ecb48c5e3df9e12",LOAD_RESOURCE:"a5707a9d6695fc50e257b51aee9ec03b",RENDER_HOME_PAGE:"dd25761ed961c46f4a0725abf6325b3a",SEND_MESSAGE_API:"65d0f06861e011436277b54e32e0e702",SEND_MESSAGE_CONSUMING:"b2bad090fbb5b6eb526af0423326ba91",FETCH_CONV_API:"00f7d4cb0b968ed35a91ae83c0346fe1",FETCH_MESSAGE_API:"b7b04ad90caccf19961c3dcdf7063294",RENDER_MESSAGE_LIST_FROM_CONV:"7ce993bd22dee11001514ad2b8e760bf",FETCH_TRANSLATION_ASYNC:"961879cce46dc871cea546c825daf31d",FETCH_TRANSLATION_SYNC:"9f3d370e38d01f43e13f3e7465c1734c",RENDER_OLD_ENTRY:"34be4e989931224dfd8363a07ff0f896",RENDER_NEW_ENTRY:"99502b156aba4099d7e2fa2316f211cd",USER_SETTING:"6ec802950c6974b45c8a9080a70e7017",SEND_MESSAGES:"407610332f95a6a3bde8f720195f5a40"},Ee={LOAD_HTML:"18a6f08d7326025b60ded61f60c9ea20",LOAD_STATIC:"0d2968a6996a60fee2db1270a70ef563",APP_PREPARE:"ea02fc90bd3663f3179be7a1b7847a83",LOGIN_API:"4e0b71ed91b3eacb1dfc4ec7f63b2966",LOGIN_SUCCEEDED:"9d4a48b69fed6d1001e63ee668a05488",SHOW_WEBCHAT:"84fcedc144bfce212ae8db9f6ebb84ec",SHOW_HOME_PAGE:"94a2f272c378ddf18f5c88f4e951c709",VIDEO_UPLOAD:"cc0dbd7370b7ade934cfe7c01bbd4ae9",SERVICE_DONE:"26ba92fb54150fe3bd6f827bb08ce8c9",MESSAGE_SOCKET:"a01882e94fde5237ca815e13b0e2a88b",READ_SOCKET:"e46fdcb42cae43a7e6f49213f150fa8e",LOGIN_FAILED:"87df9f73fb8b93629ae8a08822cfcf77",SOCKET_FAILED:"3a74221d64cf853a5c3ca65c3c3339eb",SHARED_TABS:"22557ca0a2caca6bae43f1932f088d47",LOAD_RESOURCE:"a5707a9d6695fc50e257b51aee9ec03b",RENDER_HOME_PAGE:"dd25761ed961c46f4a0725abf6325b3a",SEND_MESSAGE_API:"65d0f06861e011436277b54e32e0e702",SEND_MESSAGE_CONSUMING:"b2bad090fbb5b6eb526af0423326ba91",FETCH_CONV_API:"00f7d4cb0b968ed35a91ae83c0346fe1",FETCH_MESSAGE_API:"b7b04ad90caccf19961c3dcdf7063294",RENDER_MESSAGE_LIST_FROM_CONV:"7ce993bd22dee11001514ad2b8e760bf",FETCH_TRANSLATION_ASYNC:"961879cce46dc871cea546c825daf31d",FETCH_TRANSLATION_SYNC:"9f3d370e38d01f43e13f3e7465c1734c"};var Re,Ae={HTML_LOADED:"HTML_LOADED",STATIC_LOADED:"STATIC_LOADED",APP_PREPARED:"APP_PREPARED",LOGIN_API_RESPONSED:"LOGIN_API_RESPONSED",APP_RENDERING:"APP_RENDERING",RENDER_CONVERSATION_LIST:"RENDER_CONVERSATION_LIST",RENDER_MESSAGE_LIST:"RENDER_MESSAGE_LIST",RENDER_WELCOME_PAGE:"RENDER_WELCOME_PAGE",START_SEND_MESSAGE:"START_SEND_MESSAGE",START_HANDLE_RESPONSE:"START_HANDLE_RESPONSE"},Ce={WELCOME_PAGE:"WELCOME_PAGE",MESSAGE_LIST:"MESSAGE_LIST",CONVERSATION_LIST:"CONVERSATION_LIST",APP:"APP"},Pe={TYPE_ERROR:"TypeError",RANGE_ERROR:"RangeError",SYNTAX_ERROR:"SyntaxError",REFERENCE_ERROR:"ReferenceError",SAGA_ERROR:"Saga Error",ERROR_BOUNDARY:"Error Boundary",PRELOAD_ERROR:"Preload Error",SOCKET_LOGIN_FAILED:"Socket Login Failed",LOGIN_ERROR:"Login Error",PARAMETER_ERROR:"Parameter Error",API_UNCAUGHT_ERROR:"Api Uncaught Error",API_CLIENT_ERROR:"Api Client Error",FETCH_CONV_ERROR:"Fetch Conversation Error",FETCH_SERVE_TODAY_CONV_ERROR:"Fetch Serve Today Conversation Error"},De={TYPE_ERROR:"type_error",RANGE_ERROR:"range_error",SYNTAX_ERROR:"syntax_error",REFERENCE_ERROR:"reference_error",ERROR_BOUNDARY:"error_boundary",PRELOAD_ERROR:"preload_error",SOCKET_LOGIN_FAILED:"socket_login_failed",LOGIN_ERROR:"login_error",PARAMETER_ERROR:"parameter_error",API_CLIENT_ERROR:"api_client_error",API_UNCAUGHT_ERROR:"api_uncaught_error",FETCH_CONV_ERROR:"fetch_conversation_error",FETCH_SERVE_TODAY_CONV_ERROR:"fetch_serve_today_conversation_error"},Ie=(Pe.TYPE_ERROR,Pe.RANGE_ERROR,Pe.SYNTAX_ERROR,Pe.REFERENCE_ERROR,De.TYPE_ERROR,De.RANGE_ERROR,De.SYNTAX_ERROR,De.REFERENCE_ERROR,function(){function t(){e(this,t)}return s(t,[{key:"reportLoadResource",value:function(){ze(Be.LOAD_RESOURCE,0)}},{key:"reportRenderHomePage",value:function(e){ze(Be.RENDER_HOME_PAGE,0,{isSidebar:e})}},{key:"reportShowHomePage",value:function(e){if(window.__MINICHAT_ENTRY_CLICKED__){var t=window.__MINICHAT_ENTRY_CLICKED__,n=t.startTime,r=t.fromPage,o=Date.now()-n;window.__MINICHAT_ENTRY_CLICKED__=void 0,e?setTimeout((function(){Qe(Ce.APP,{duration:o,id:Be.SHOW_HOME_PAGE,extra:{isSidebar:e,fromPage:r}})}),1e3):Qe(Ce.APP,{duration:o,id:Be.SHOW_HOME_PAGE,extra:{isSidebar:e,fromPage:r}})}}},{key:"reportWhetherPrefetchUserInfo",value:function(){window.__CHATEASY_LOCALE__?ze(Be.PRE_FETCH_USER_INFO,0):ze(Be.NON_PRE_FETCH_USER_INFO,0)}},{key:"reportShowMinichat",value:function(){var e=Date.now()-window.__START_MINICHAT__;Qe(Ce.APP,{duration:e,id:Be.SHOW_WEBCHAT})}},{key:"reportFetchTranslationAsync",value:function(){ze(Be.FETCH_TRANSLATION_ASYNC,0)}},{key:"reportFetchTranslationSync",value:function(){ze(Be.FETCH_TRANSLATION_SYNC,0)}},{key:"reportUserSettingApi",value:function(e){Be.USER_SETTING&&ze(Be.USER_SETTING,e)}},{key:"newReportSendMessagesApi",value:function(e){Be.SEND_MESSAGES&&ze(Be.SEND_MESSAGES,e)}},{key:"reportSendMessageApi",value:function(e){ze(Be.SEND_MESSAGE_API,0,{value:e})}},{key:"reportSendMessageConsuming",value:function(e){var t,n,r=null===(t=(performance.getEntriesByName("".concat(Ae.START_SEND_MESSAGE,"_").concat(null===(n=JSON.parse(e).content)||void 0===n?void 0:n.uid),"mark")||[])[0])||void 0===t?void 0:t.startTime,o=Date.now()-Math.round(performance.timeOrigin+r);Qe(Ce.APP,{duration:o,id:Be.SEND_MESSAGE_CONSUMING})}},{key:"reportFetchConvApi",value:function(e){var t=e.value,n=e.resource;ze(Be.FETCH_CONV_API,0,{value:t,resource:n})}},{key:"reportFetchMessageApi",value:function(e){ze(Be.FETCH_MESSAGE_API,0,{value:e})}},{key:"reportRenderMessageListFromConv",value:function(e){window.__CLICK_CONV__&&(Qe(Ce.APP,{duration:Date.now()-window.__CLICK_CONV__,id:Be.RENDER_MESSAGE_LIST_FROM_CONV,extra:{isFirstRender:e}}),window.__CLICK_CONV__=null)}},{key:"reportVideoUpload",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ze(Be.VIDEO_UPLOAD,performance.now()-e,t)}},{key:"reportVideoServiceDone",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=performance.getEntriesByName("REPORT_UPLOAD_".concat(e),"mark")[0];if(n){performance.mark("SERVICE_DONE_".concat(e));var r=performance.getEntriesByName("SERVICE_DONE_".concat(e))[0].startTime-n.startTime;performance.clearMarks("REPORT_UPLOAD_".concat(e)),performance.clearMarks("SERVICE_DONE_".concat(e)),ze(Be.SERVICE_DONE,r,t)}}},{key:"reportMessageSocket",value:function(e){var t=+new Date-+e;ze(Be.MESSAGE_SOCKET,t)}},{key:"reportReadSocket",value:function(e){ze(Be.READ_SOCKET,Date.now()-e)}},{key:"reportLoginFailed",value:function(e){ze(Be.LOGIN_FAILED,0,e)}},{key:"reportSocketFailed",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ze(Be.SOCKET_FAILED,0,e)}},{key:"reportSharedTabs",value:function(e){ze(Be.SHARED_TABS,e)}},{key:"reportLoginInHtml",value:function(){ze(Be.LOGIN_IN_HTML,0)}},{key:"reportLoginInService",value:function(){ze(Be.LOGIN_IN_SERVICE,0)}},{key:"reportFetchTranslationInHtml",value:function(){ze(Be.TRANSLATION_IN_HTML,0)}},{key:"reportFetchTranslationInService",value:function(){ze(Be.TRANSLATION_IN_SERVICE,0)}},{key:"reportT3OrT4",value:function(e){ze(e,0)}},{key:"reportChatbotApiError",value:function(){ze(Be.REPORT_ERROR,0)}},{key:"reportAsyncTask",value:function(e,t){ze(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}},{key:"reportReceiveChatbotResponse",value:function(){ze(Be.RECEIVE_CHATBOT_RESPONSE,0)}}]),t}()),we=function(){return window.chatReportManager||(window.chatReportManager=new Ie),window.chatReportManager};function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Le,Ue,xe,je,ke=function(e){Re=e},Ge=!1,Fe=location.host.includes("shopee.cn"),He=[],Ye=window.requestIdleCallback,Be="live"===(0,m.getRuntimeServer)()?ve:Ee,Ve=function(){try{var e=performance.getEntriesByName(Ae.HTML_LOADED,"mark")[0].startTime,t=performance.getEntriesByName(Ae.STATIC_LOADED,"mark")[0].startTime,n=performance.getEntriesByName(Ae.APP_PREPARED,"mark")[0].startTime,r=performance.getEntriesByName(Ae.LOGIN_API_RESPONSED,"mark")[0].startTime,o=performance.getEntriesByName(Ae.APP_RENDERING,"mark")[0].startTime;He.push({id:Be.LOAD_HTML,duration:window.__INDEX_HTML_LOADED__},{id:Be.LOAD_STATIC,duration:Math.floor(t-e)},{id:Be.APP_PREPARE,duration:Math.floor(n-t)},{id:Be.LOGIN_API,duration:Math.floor(r-n)},{id:Be.LOGIN_SUCCEEDED,duration:Math.floor(o-r)})}catch(e){}},We=function(){try{var e=performance.getEntriesByName("ENTRY_CLICKED","mark")[0].startTime,t=performance.getEntriesByName("CONVERSATION_LIST_MOUNTED","mark")[0].startTime,n=performance.getEntriesByName("CONVERSATION_LIST_MOUNTED","mark")[0].startTime;Be.CONVERSATION_MOUNTED&&e&&t&&He.push({id:Be.CONVERSATION_MOUNTED,duration:Math.floor(t-e)}),Be.CONVERSATION_LOADED&&t&&n&&He.push({id:Be.CONVERSATION_LOADED,duration:Math.floor(n-t)})}catch(e){}},Qe=function(e,t){try{var n,r=null,o=null===(n=performance.getEntriesByName(Ae.APP_RENDERING,"mark")[0])||void 0===n?void 0:n.startTime;switch(e){case Ce.WELCOME_PAGE:r=performance.getEntriesByName(Ae.RENDER_WELCOME_PAGE,"mark")[0].startTime,He.push({id:Be.RENDER_WELCOME_PAGE,duration:Math.floor(r-o)});break;case Ce.MESSAGE_LIST:r=performance.getEntriesByName(Ae.RENDER_MESSAGE_LIST,"mark")[0].startTime,He.push({id:Be.RENDER_MESSAGE_LIST,duration:Math.floor(r-o)});break;case Ce.CONVERSATION_LIST:r=performance.getEntriesByName(Ae.RENDER_CONVERSATION_LIST,"mark")[0].startTime,He.push({id:Be.RENDER_CONVERSATION_LIST,duration:Math.floor(r-o)})}He.push(t),Ye(qe,{timeout:2e3})}catch(e){}},ze=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{He.push({id:e,duration:t,extra:n}),Ye(qe,{timeout:2e3})}catch(e){}};function qe(e){for(;(e.timeRemaining()>5||e.didTimeout)&&He.length;){var t=He.shift(),n=t.id,r=t.duration,o=t.extra;n&&Je(n,r,o),"live"!==(0,m.getRuntimeServer)()&&be[n]&&console.log("|-- 上报阶段: ",be[n],", 耗时为: ".concat(r),", 数据: ",o),ye[n]&&console.log("|-- 新加上报点上报阶段: ",ye[n],", 耗时为: ".concat(r,", 数据："),o)}He.length&&Ye(qe,{timeout:2e3})}var Ke,Xe=function(){if(!Ge){var e=(0,m.getRuntimeServer)(),t="live"===e,n=(0,m.getRuntimeRegion)(),r=(0,m.getRuntimeVersion)();Le=new he.MdapSdk({app_name:"minichat",secret_key:t?"b23651c629e54c7bc1c9a743f25dbb5825cb1ed4e7bb7f8a78cd788dfc769127":"2b74d02be173856bde260473166da16b83fcc18d18057ce8b4a73eab5f1c7280",environment:e,region:n,app_version:r,sample:.6}),Ue=new(Oe())({path:[/[\\/]webchat[\\/]api[\\/].*[\\/](login|(conversations[\\/](\d+)[\\/]messages)|conversations|orders_by_buyer_id|vouchers|products|items|(offer[\\/]given)|read|(video[\\/](in_whitelist|preupload|report_upload|upload_status)))[\\?]/,"/webchat/api/v1.2/messages","webchat/api/v1.2/mini/messages",/[\\/]api[\\/]tsp[\\/].*/]}),xe=new(me())({path:[/.*[\\/]chateasy[\\/].*\.(js|css)/]}),je=new he.CustomPlugin({}),Le.use(Ue),Le.use(xe),Le.use(je),Ge=!0}};function Je(e,t,n){Ge||Xe();var r={point_id:e,data:{userType:Re,localOrCn:void 0!==Ke?Ke:Ke=Fe&&"CN"!==(0,m.getRuntimeRegion)().toUpperCase()?"cn":"local",chatHost:"pcmall",hasSandbox:String(!!window.__MMF_MODULE_BY_SANDBOX__)}};t&&(r=Me(Me({},r),{},{duration:t})),n&&(r.data=Me(Me({},r.data),n)),je.sendData(r)}function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var et=(0,m.getRuntimeVersion)(),tt=function(){var e=Q(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=null;try{t=m.LS.getItem("mini-session",!0)}catch(e){t=null}if(t){e.next=8;break}return e.next=7,(0,m.getItem)("mini-session");case 7:t=e.sent;case 8:return e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),nt={404:"Resource not found",452:"Tempory Error",500:"Internal server error",502:"Bad Gateway"},rt=90309999;function ot(e){return ct.apply(this,arguments)}function ct(){return ct=Q(regeneratorRuntime.mark((function e(t){var n,r,o,c,i,u,a,s,l,f,_,d,p,S,v,E,h,T,O,g,b,y,R,A,C,P,D,I,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,r=t.server,o=t.subServer,c=t.version,i=void 0===c?"v1.2":c,u=t.parent,a=t.parentId,s=t.resource,l=t.id,f=t.suffix,_=t.method,d=void 0===_?"GET":_,p=t.credentials,S=void 0===p?"include":p,v=t.extension,E=t.params,h=void 0===E?{}:E,T=t.payload,O=t.headers,g=void 0===O?{}:O,b=t.namespace,y=void 0===b?"mini":b,R=t.fetcher,A=function(){if("sc"===f)return l;if("auth"===s)return a;if(h.shop_id)return h.shop_id;if(T)try{return JSON.parse(T).shop_id}catch(e){}},C=function(e,t){var n,r=t.session,o=t.shouldAddHeader,c=t.region,i=t.spcToken,u=null==r||null===(n=r.user)||void 0===n?void 0:n.uid;u&&(e._uid=u),et&&(e._v=et);var a=q().get("CTOKEN");a&&(e.csrf_token=a),i&&(e.SPC_CDS_CHAT=i),o&&(e["x-shop-region"]=c),e._api_source="pcmall"},P=function(e,t){return[e,Object.entries(t).filter((function(e){var t=V(e,2),n=(t[0],t[1]);return n||0===n})).map((function(e){var t=V(e,2),n=t[0],r=t[1];return"".concat(n,"=").concat(encodeURIComponent(r))})).join("&")].filter(Boolean).join("?")},D=function(){var e=q().get("SPC_CDS_CHAT");if(!e){e=(0,K.v4)();var t=window.location.host.split(".");["seller","banhang"].includes(t[0])&&t.shift(),q().set("SPC_CDS_CHAT",e,{domain:".".concat(t.join("."))})}return e},I=function(){var e=Q(regeneratorRuntime.mark((function e(t){var c,_,p,E,O,b,I,w,N,M,L,U,x,j,k,G,F,Y,B,V,W,Q,z,q,K,X,J,$;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}return e.next=3,tt();case 3:t=e.sent;case 4:if(_=(c=t||{}).token,p=c.user,E=(p=void 0===p?{}:p).type,O=0,"subaccount"!==E){e.next=15;break}return N=A(),e.next=12,Z.getRegion(!0,N);case 12:w=e.sent,e.next=16;break;case 15:w=(0,m.getRuntimeRegion)().toUpperCase();case 16:return L=(M=_&&"include"===S||!r)?{Authorization:"Bearer ".concat(_),"x-shop-region":w}:{},!r&&(r=(0,m.getApiServer)()),U=D(),n?(I=n,x={},U&&(x.SPC_CDS_CHAT=U),I=P(I,x)):(j=["https:/",r,o,i,y,u,a,s,l,f].filter(Boolean).join("/"),k=v?"".concat(j,".").concat(v):j,C(h,{session:t,shouldAddHeader:M,region:w,spcToken:U}),I=P(k,h)),e.prev=21,_e({uri:I,id:l,parentId:a}),F=Date.now(),Y={method:d,credentials:S,headers:Ze(Ze({},L),g),body:T},B=R||ce,e.next=28,B(I,Y);case 28:if(V=e.sent,O="number"==typeof V.status?V.status:(null===(G=V.__raw)||void 0===G?void 0:G.status)||200,R&&200===O&&T&&(null==(W=we())||W.reportSendMessageConsuming(T)),R?V.error===rt?le(O=499,{message:"need captcha",errcode:O,data:null}):O=(null===(Q=V.__raw)||void 0===Q?void 0:Q.status)||200:O=V.status,[200,204].includes(O)&&"report_upload"===s&&T&&(z=JSON.parse(T),q=z.vid,performance.mark("REPORT_UPLOAD_".concat(q))),se(O),200!==O){e.next=50;break}return K=null,e.prev=36,e.next=39,V.json();case 39:K=e.sent,e.next=45;break;case 42:e.prev=42,e.t0=e.catch(36),K=V;case 45:return X=K instanceof Array?H({},s,K):K,R&&T&&(b=JSON.parse(T).request_id,(0,m.setItem)(b,F)),e.abrupt("return",X);case 50:if(204!==O){e.next=54;break}return e.abrupt("return",null);case 54:e.t1=O,e.next=404===e.t1||452===e.t1||500===e.t1||502===e.t1?57:59;break;case 57:return J={message:nt[O]},e.abrupt("break",74);case 59:if(!R){e.next=71;break}return e.prev=60,e.next=63,pe(null==V||null===($=V.__raw)||void 0===$?void 0:$.body);case 63:J=e.sent,e.next=69;break;case 66:e.prev=66,e.t2=e.catch(60),J={message:"Server Error"};case 69:e.next=74;break;case 71:return e.next=73,V.json();case 73:J=e.sent;case 74:fe(O,J,{uri:I,resource:s});case 75:e.next=80;break;case 77:e.prev=77,e.t3=e.catch(21),de(O,e.t3);case 80:case"end":return e.stop()}}),e,null,[[21,77],[36,42],[60,66]])})));return function(t){return e.apply(this,arguments)}}(),w=window.__WEBCHAT_SESSION__,e.abrupt("return",I(w));case 8:case"end":return e.stop()}}),e)}))),ct.apply(this,arguments)}var it=null,ut=function(e){e&&(it=e)},at=null,st=function(e){var t=e.data,n=e.operation,r=void 0===n?m.TrackerOperation.CLICK:n,o=e.page,c=e.shopId,i=e.section,u=void 0===i?"":i,a=e.type,s=void 0===a?"":a;try{at||(at=window.BITrack?window.BITrack:window.trackingSDK);var l=function(e){var t=e.data,n=e.operation,r=e.page,o=e.shopId,c=e.section,i=e.type,u=it||{},a=u.shop_id,s=void 0===a?"":a,l=u.role,f=void 0===l?"":l,_=u.id,d=void 0===_?"":_;return{operation:n,page_section:c,target_type:i,page_type:r||"minichat_page",data:Object.assign({},{shopid:s||o,account_type:f||"shopee_user",account_id:d},t)}}({data:t,operation:r,page:o,shopId:c,section:u,type:s});at({data:{type:"v3",timestamp:Date.now(),info:l}})}catch(e){console.warn("Tracker error",e)}},lt=new(n(7187).EventEmitter),ft=n(1383);function _t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pt,St=function(e,t,n){return new ft.schema.Entity(e,dt({},t),dt({},n))},vt=St("users"),Et=St("affiliate"),ht=St("messages"),Tt=St("conversations"),Ot=St("orders"),gt=St("products"),mt=St("offers"),bt=St("stickers"),yt=St("shops"),Rt=St("messageShortcuts"),At=St("rateCards"),Ct=St("agentConversations"),Pt=St("contacts",{},{idAttribute:"account_id"}),Dt=St("vouchers"),It={users:vt,affiliate:Et,messages:ht,conversations:Tt,orders:Ot,offers:mt,products:gt,stickers:bt,shops:yt,messageShortcuts:Rt,rateCards:At,agentConversations:Ct,contacts:Pt,vouchers:Dt},wt=function(e,t){var n=It[e]||St(e);return t instanceof Array?(0,ft.normalize)(t,[n]):(0,ft.normalize)(t,n)},Nt=n(4944),Mt=regeneratorRuntime.mark(kt),Lt=[];pt=[202,215];var Ut="https://seller.shopee.sg/api/tsp";"br"===(0,m.getRuntimeRegion)()&&(Ut="https://seller.shopee.com.br/api/tsp"),"live"!==(0,m.getRuntimeServer)()&&(Ut+="/nonlive");var xt=function(e,t){var n=pt.includes(e)?"c":"r",r=(t||"").toLocaleLowerCase(),o="".concat((0,m.getCDNUrl)(),"shopee-seller-live-sg/tsp/api/").concat(n,"_").concat(e,"_").concat(r,".json");return ne()(o).then(function(){var e=Q(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},jt=function(e){var t="".concat(Ut,"/init?language=").concat(e,"&collections=202%3B215");return ne()(t).then(function(){var e=Q(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){}))};function kt(e){var t,n,r,o,c;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.locale,n={},i.next=4,(0,Nt.call)(jt,t);case 4:if(r=i.sent,o=null==r?void 0:r.translations,(0,m.checkEmptyObject)(o)||(0,m.checkEmptyObject)(o.collection)||Object.keys(o.collection).forEach((function(e){n=Object.assign(n,o.collection[e])})),!(0,m.checkEmptyObject)(n)){i.next=14;break}return c=[],pt.concat(Lt).forEach((function(e){c.push(xt(e,t))})),i.next=12,(0,Nt.all)(c);case 12:i.sent.forEach((function(e){Object.assign(n,e)}));case 14:return i.abrupt("return",n);case 15:case"end":return i.stop()}}),Mt)}}(),p}())},96961:function(e,t,n){"use strict";e.exports=n(27449)},55698:function(e,t,n){var r,o,c,i,u,a,s,l,f,_;e.exports=(r=n(82677),o=n(20573),c=n(29494),i=n(53402),u=n(96961),a=n(6678),s=n(34857),l=n(38104),f=n(86843),_=n(55036),function(){"use strict";var e={1383:function(e){e.exports=r},8156:function(e){e.exports=f},4756:function(e){e.exports=_},8252:function(e){e.exports=a},4944:function(e){e.exports=s},975:function(e){e.exports=o},783:function(e){e.exports=l},2511:function(e){e.exports=i},5644:function(e){e.exports=u},1855:function(e){e.exports=c}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var c=t[r]={exports:{}};return e[r](c,c.exports,n),c.exports}n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var d={};return function(){n.r(d),n.d(d,{activeListTabSelector:function(){return v},allChatExcludeAllBuyersConversationIdsSelector:function(){return Q},allChatsConversationsSelector:function(){return Ft},allConversationIdsSelector:function(){return Z},assistantHighlightSelector:function(){return y},autoRepliedHighlightConvIdSelector:function(){return A},autoRepliedHighlightSelector:function(){return m},autoTranslationStatusSelector:function(){return Ut},bannerInfoSelector:function(){return ue},bizIdSelector:function(){return xe},bizIdsSelector:function(){return ke},buyerAbtestSelector:function(){return Yt},buyerToPayConversationsSelector:function(){return kt},changeChatWithTypeSelector:function(){return je},chatWithIhsSelector:function(){return Ee},chatWithTypeSelector:function(){return J},chatbotConversationIdSelector:function(){return O},chatbotConversationSelector:function(){return Y},chatbotThinkingConversationIdSelector:function(){return yt},confirmBannerInfoSelector:function(){return ae},conversationBeenDeletedSelector:function(){return st},conversationDirectionSelector:function(){return me},conversationHttpStatusSelector:function(){return ge},conversationIdsSelector:function(){return K},conversationLastMessageIdSelector:function(){return fn},conversationLastMessageSelector:function(){return ln},conversationsSelector:function(){return be},curConvsMessageSelector:function(){return gn},curMessagesRelatedSelector:function(){return an},currentBuyerIdSelector:function(){return Ge},currentBuyerSelector:function(){return tt},currentBuyerShopIdSelector:function(){return nt},currentBuyerShopSelector:function(){return rt},currentConversationBuyerIdSelectors:function(){return qe},currentConversationCanReadSelector:function(){return Oe},currentConversationDueStatusTagSelector:function(){return _n},currentConversationHasLoadingSelector:function(){return bt},currentConversationIdSelector:function(){return oe},currentConversationSelector:function(){return Me},currentConversationShopIdSelectors:function(){return Qe},currentConversationShopNameSelectors:function(){return We},currentConversationShopRegionSelectors:function(){return Ve},currentConversationShopSelectors:function(){return Be},currentConversationShowTypingLoadingSelector:function(){return Rt},currentConversationStatusSelectors:function(){return Ke},currentConversationToNameSelector:function(){return lt},currentConversationTranslationAccessSelector:function(){return ut},currentPendingOffersCountSelector:function(){return St},currentSellerAccountIdSelector:function(){return Et},currentShopIdSelector:function(){return et},currentShopIsManagedByShopeeSelector:function(){return ze},degradeConversationIdsSelector:function(){return Pe},feedbackSelector:function(){return Cn},filterSelector:function(){return De},filteredConversationsSelector:function(){return Ie},folderViewHttpStatusSelector:function(){return Ht},getConversation:function(){return Xe},getConversationBizId:function(){return Je},getConversationShopId:function(){return $e},getConversationShopRegion:function(){return vt},getConversations:function(){return Ze},getConversationsSelector:function(){return k},getConvsMessagesRelatedSelector:function(){return sn},getMessageSelector:function(){return un},hasPinFlagSelector:function(){return D},highlightStatusSelector:function(){return g},ihcsEntitySelector:function(){return de},ihsDisableTextSelector:function(){return Te},inlocationSelector:function(){return ne},inquiryWithoutOrderConversationsSelector:function(){return Gt},isAffiliateChatRoomSelector:function(){return Ye},isBuyerChatRoomSelector:function(){return Fe},isChatAvailiableSelector:function(){return ie},isDriverSelector:function(){return ce},isNavigateToUnreadMessageSelector:function(){return dt},isNormalBuyerSelector:function(){return $},isOfficialChatSelector:function(){return Le},keywordSelector:function(){return ot},lastBuyerSendMessageIdSelector:function(){return Rn},listsHashSelector:function(){return at},mediaListSelector:function(){return An},messagesRelatedMapSelector:function(){return nn},missedReadNoticeCountSelector:function(){return te},modeReducer:function(){return Wn},modeSelector:function(){return zn},navigateToUnreadMessageIdSelector:function(){return pt},needShowConfirmBannerSelector:function(){return se},noticesCountSelector:function(){return Dn},openFolderSelector:function(){return W},pinnedConversationIdsSelector:function(){return X},productTopBannerInfoSelector:function(){return le},productTopBannerIsCollapseSelector:function(){return _e},readRequestIdsSelector:function(){return ee},reconnectFlagSelector:function(){return Pn},redirectionInfoSelector:function(){return At},replyCardsListSelector:function(){return In},replyToMessageSelector:function(){return yn},resultsSelector:function(){return ct},reverseMessagesSelector:function(){return En},rrButtonSelector:function(){return Dt},searchConversationHttpStatusSelector:function(){return it},selectVideoInfoByKey:function(){return on},selectVideoInfoKeyByVid:function(){return cn},serveTodayAllConversationIdsSelector:function(){return j},serveTodayAutoRepliedConversationIdsSelector:function(){return U},serveTodayAutoRepliedConversationsSelector:function(){return F},serveTodayConversationHttpStatusSelector:function(){return I},serveTodayConversationsSelector:function(){return B},serveTodayFolderStatusSelector:function(){return E},serveTodayManuallyRepliedConversationIdsSelector:function(){return x},serveTodayManuallyRepliedConversationsSelector:function(){return H},serveTodayOnlyConversationsSelector:function(){return V},serveTodayPinnedConversationIdsSelector:function(){return M},serveTodaySingleFolderStatusSelector:function(){return h},serveTodayUnrepliedConversationIdsSelector:function(){return L},serveTodayUnrepliedConversationsSelector:function(){return G},serveTodayWaitingUpdatedRecordsSelector:function(){return P},shopAccessSelector:function(){return _t},shopIsIhcsSelector:function(){return pe},showAssistantAlertSelector:function(){return xt},showAssistantHighlightSelector:function(){return Lt},showAutoReplyHighlightSelector:function(){return Nt},showBotBannerTextSelector:function(){return jt},showChatbotConversationSelector:function(){return Ne},showCollapsePartSelector:function(){return fe},showHighlightAreaSelector:function(){return It},showLoadingMessagesMapSelector:function(){return gt},showOnboardingAnimationSelector:function(){return wt},showOnboardingAnimationStatusSelector:function(){return C},showUnrepliedHighlightSelector:function(){return Mt},showWorkStationSelector:function(){return He},singleConversationIdsSelector:function(){return N},singleConversationMarkInfoSelector:function(){return Ot},singleConversationStateSelector:function(){return w},singleFolderStatusSelector:function(){return T},sortedConversationsSelector:function(){return we},subAccountBizIdSelector:function(){return Ue},subAccountToIsIhcsSelector:function(){return he},toShopIsIhcsSelector:function(){return Se},toShopisChoiceOrIsIhcsSelector:function(){return Pt},toUserChattingWithIhsSelector:function(){return ve},totalConversationsCountSelector:function(){return ht},twoTabsAllConversationIdsSelector:function(){return Ct},typingStatusConversationIdsSelector:function(){return mt},unrepliedHighlightSelector:function(){return b},unrepliedHightlightConvIdSelector:function(){return R},updateModeRequested:function(){return Un},updateModeSucceeded:function(){return xn},updateTimeNowSelector:function(){return re},useChatWithType:function(){return Xn},useConversationFilter:function(){return or},useCurrentSellerAccount:function(){return ir},useDueCount:function(){return tr},useDueFilter:function(){return nr},useInMultipleSelectionMode:function(){return rr},useSelectDisabled:function(){return er},useShowDueFilters:function(){return cr},watchModeSagas:function(){return Qn}});var e={};function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,c=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return c}}(e,t)||r(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||r(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.r(e),n.d(e,{is:function(){return Ft},vZ:function(){return Z},v2:function(){return Ut},Oy:function(){return ue},Vy:function(){return xe},OM:function(){return ke},lg:function(){return Yt},u_:function(){return kt},V2:function(){return je},S0:function(){return Ee},NP:function(){return J},Z5:function(){return yt},vW:function(){return ae},xM:function(){return st},o6:function(){return me},Vt:function(){return ge},To:function(){return K},yg:function(){return be},A:function(){return Ge},vT:function(){return tt},Vj:function(){return nt},D1:function(){return rt},L5:function(){return qe},f$:function(){return Oe},G8:function(){return bt},xT:function(){return oe},mA:function(){return Me},Vd:function(){return Qe},J0:function(){return We},f0:function(){return Ve},$E:function(){return Be},pq:function(){return Rt},JU:function(){return Ke},Ig:function(){return lt},Bt:function(){return ut},U5:function(){return St},PI:function(){return Et},YR:function(){return et},y3:function(){return ze},kq:function(){return Pe},S7:function(){return De},Xj:function(){return Ie},MW:function(){return Ht},cc:function(){return Xe},Uf:function(){return Je},ry:function(){return $e},X9:function(){return vt},uv:function(){return Ze},Zf:function(){return de},yR:function(){return Te},DK:function(){return ne},FH:function(){return Gt},GR:function(){return Ye},n:function(){return Fe},Ni:function(){return ie},JT:function(){return ce},eY:function(){return dt},kG:function(){return $},h0:function(){return Le},a8:function(){return ot},hW:function(){return at},XX:function(){return te},fC:function(){return pt},yM:function(){return se},II:function(){return X},Oh:function(){return le},VP:function(){return _e},TU:function(){return ee},Sv:function(){return At},Mz:function(){return ct},_3:function(){return Dt},kf:function(){return it},n8:function(){return _t},gb:function(){return pe},ws:function(){return xt},iG:function(){return Lt},p3:function(){return Nt},fq:function(){return jt},TZ:function(){return Ne},zr:function(){return fe},CV:function(){return It},DZ:function(){return gt},zX:function(){return wt},q9:function(){return Mt},XY:function(){return He},VG:function(){return Ot},lh:function(){return we},oS:function(){return Ue},iK:function(){return he},gN:function(){return Se},oX:function(){return Pt},_8:function(){return ve},Nc:function(){return ht},$Z:function(){return Ct},fY:function(){return mt},Ui:function(){return re}});var u=n(1383),a=n(975),s=n(1855),l=n(2511),f=n(5644);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=function(e){var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.serveToday)||{}},v=(0,a.createSelector)(S,(function(e){return e.activeListTab})),E=(0,a.createSelector)(S,(function(e){return e.folderStatus})),h=(0,a.createSelector)(S,(function(e){return e.serveTodaySingleFolderStatus})),T=(0,a.createSelector)(S,(function(e){return e.singleFolderStatus})),O=(0,a.createSelector)(S,(function(e){return e.chatbotConversationId||0})),g=(0,a.createSelector)(S,(function(e){return e.highlightStatus})),m=(0,a.createSelector)(S,(function(e){var t;return(null===(t=e.highlightStatus)||void 0===t?void 0:t.autoRepliedHighlightStatus)||!1})),b=(0,a.createSelector)(S,(function(e){var t;return(null===(t=e.highlightStatus)||void 0===t?void 0:t.unrepliedHighlightStatus)||!1})),y=(0,a.createSelector)(S,(function(e){var t;return(null===(t=e.highlightStatus)||void 0===t?void 0:t.assistantHighlightStatus)||!1})),R=(0,a.createSelector)(S,(function(e){var t;return(null===(t=e.highlightStatus)||void 0===t?void 0:t.unrepliedHighlightConvId)||0})),A=(0,a.createSelector)(S,(function(e){var t;return(null===(t=e.highlightStatus)||void 0===t?void 0:t.autoRepliedHighlightConvId)||0})),C=(0,a.createSelector)(S,(function(e){var t;return(null===(t=e.highlightStatus)||void 0===t?void 0:t.showOnboardingAnimationStatus)||!1})),P=(0,a.createSelector)(S,(function(e){return e.waitingUpdatedRecords||{}})),D=(0,a.createSelector)(S,(function(e){return e.hasPinFlag||!1})),I=(0,a.createSelector)(S,(function(e){return e.status||""})),w=function(e){return(0,a.createSelector)(S,(function(t){return t[e]||{}}))},N=function(e){return(0,a.createSelector)(w(e),(function(e){return Array.from(new Set(e.conversationIds||[]))}))},M=(0,a.createSelector)(S,(function(e){return Array.from(new Set((e[s.ServeTodayTab.PINNED]||{}).conversationIds||[]))})),L=(0,a.createSelector)(S,(function(e){return Array.from(new Set((e[s.ServeTodayTab.UNREPLIED]||{}).conversationIds||[]))})),U=(0,a.createSelector)(S,(function(e){return Array.from(new Set((e[s.ServeTodayTab.AUTOREPLY]||{}).conversationIds||[]))})),x=(0,a.createSelector)(S,(function(e){return Array.from(new Set((e[s.ServeTodayTab.MANUALREPLY]||{}).conversationIds||[]))})),j=(0,a.createSelector)(M,L,U,x,(function(e,t,n,r){return[].concat(i(e),i(t),i(n),i(r))})),k=function(e){return(0,a.createSelector)(l.conversationEntitiesSelector,N(e),l.shopsEntitiesSelector,(function(e,t,n){return((0,u.denormalize)(t,[f.conversationSchema],{conversations:e})||[]).filter(Boolean).map((function(e){var t=(0,u.denormalize)(e.shop_id,f.shopSchema,{shops:n})||{},r=t.country,o=t.name;return p(p({},e),{},{shop_region:r,shop_name:o})}))}))},G=(0,a.createSelector)(k(s.ServeTodayTab.UNREPLIED),(function(e){return e.sort((function(e,t){return parseInt(t.latest_message_id)-parseInt(e.latest_message_id)})),e})),F=(0,a.createSelector)(k(s.ServeTodayTab.AUTOREPLY),(function(e){return e.sort((function(e,t){return parseInt(t.latest_message_id)-parseInt(e.latest_message_id)}))})),H=(0,a.createSelector)(k(s.ServeTodayTab.MANUALREPLY),(function(e){return e.sort((function(e,t){return parseInt(t.latest_message_id)-parseInt(e.latest_message_id)}))})),Y=(0,a.createSelector)(l.conversationEntitiesSelector,O,(function(e,t){return(0,u.denormalize)(t,f.conversationSchema,{conversations:e})||{}})),B=(0,a.createSelector)(Y,E,h,k(s.ServeTodayTab.PINNED),G,F,H,l.permissionsSelector,(function(e,t,n,r,o,u,a,l){var f,_=[],d=l||{},S=d.chatbotToggleOpen,v=d.chatListRevamp,E=(c(f={},s.ServeTodayTab.PINNED,r),c(f,s.ServeTodayTab.UNREPLIED,o),c(f,s.ServeTodayTab.AUTOREPLY,u),c(f,s.ServeTodayTab.MANUALREPLY,a),f),h=r.map((function(e){return e.id}))||[];return(S?s.ServeTodayFolders:s.ServeTodayFolders.filter((function(e){return e!==s.ServeTodayTab.AUTOREPLY}))).forEach((function(e){var r=E[e];e!==s.ServeTodayTab.PINNED&&(r=r.filter((function(e){return!h.includes(e.id)})),e===s.ServeTodayTab.AUTOREPLY&&(r=r.map((function(e){return p(p({},e),{},{isAutoReply:!0})})))),r.length&&(_=(v?n===e:t[e])?_.concat([{key:e,id:"".concat(e,"Tab")}].concat(i(r))):_.concat([{key:e,id:"".concat(e,"Tab")}]))})),null!=e&&e.id?[e].concat(i(_)):_})),V=(0,a.createSelector)(B,(function(e){return e.filter((function(e){return!e.id.includes("Tab")}))})),W=(0,a.createSelector)(l.permissionsSelector,v,h,T,(function(e,t,n,r){var o=e.chatListRevamp,c=e.showServingTab?t:"all";return o?"today"===c&&!n||"all"===t&&!r?null:{today:{key:n,id:"".concat(n,"Tab")},all:{key:r,id:"".concat(r,"Tab")}}[c]:null})),Q=(0,a.createSelector)(N(s.ServeTodayTab.BUYER_TO_PAY),N(s.ServeTodayTab.INQUIRY_WITHOUT_ORDER),(function(e,t){return Array.from(new Set([].concat(i(e),i(t))))}));function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var K=function(e){var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.conversationIds)||[]},X=function(e){var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.pinnedConversationIds)||[]},J=function(e){var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.chatWithType)||s.ChatWithTypeEnum.Buyer},$=(0,a.createSelector)(J,(function(e){return e===s.ChatWithTypeEnum.Buyer})),Z=(0,a.createSelector)(K,X,Q,l.permissionsSelector,$,(function(e,t,n,r,o){var c=e.filter((function(e){return!t.includes(e)}));return null!=r&&r.chatListRevamp&&o?Array.from(new Set(t.concat([].concat(i(c),i(n))))):t.concat(c)})),ee=function(e){var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.readRequestIds)||[]},te=function(e){var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.missedReadNoticeCount)||0},ne=function(e){var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.inlocation)||!1},re=function(e){var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.updateTimeNow)||"0"},oe=function(e){var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.currentConversationId)||null},ce=(0,a.createSelector)(J,(function(e){return e===s.ChatWithTypeEnum.Driver})),ie=function(e){var t;return null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.isChatAvailiable},ue=function(e){var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.topBannerInfo)||{}},ae=function(e){var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.confirmBannerInfo)||{}},se=(0,a.createSelector)(l.permissionsSelector,ae,(function(e,t){return(null==e?void 0:e.showConfirmBanner)&&[s.BannerTypeEnum.UPDATE_PRODUCT,s.BannerTypeEnum.UPDATE_ORDER].includes(null==t?void 0:t.bannerType)})),le=(0,a.createSelector)(ue,(function(e){return(null==e?void 0:e.productBannerInfo)||{}})),fe=(0,a.createSelector)(ue,(function(e){var t;return(null==e?void 0:e.bannerType)===s.BannerTypeEnum.UPDATE_PRODUCT&&!(null==e||null===(t=e.productBannerInfo)||void 0===t||!t.product_name)})),_e=(0,a.createSelector)(le,(function(e){return null==e?void 0:e.collapse})),de=function(e){var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.ihcsEntity)||{}},pe=(0,a.createSelector)(de,(function(e){return e.shop_is_ihcs})),Se=(0,a.createSelector)(de,(function(e){return e.to_shop_is_ihcs})),ve=(0,a.createSelector)(de,(function(e){return e.to_user_chatting_with_ihs})),Ee=(0,a.createSelector)(pe,ve,(function(e,t){return!e&&t})),he=(0,a.createSelector)(l.isSubAccountSelector,Se,(function(e,t){return e&&t})),Te=(0,a.createSelector)(pe,Ee,he,(function(e,t,n){var r="";return e?r="conversation_detail.input_field.self_is_internal_shop":n?r="conversation_detail.input_field.subaccount_chat_with_internal_shop":t&&(r="conversation_detail.input_field.user_chat_with_ihs"),r})),Oe=function(e){var t;return(0,l.judgeUndefined)({defaultValue:!0,value:null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.currentConversationCanRead})},ge=function(e){var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.status)||""},me=function(e){var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.direction)||""},be=(0,a.createSelector)(l.conversationEntitiesSelector,Z,l.shopsEntitiesSelector,(function(e,t,n){return((0,u.denormalize)(t,[f.conversationSchema],{conversations:e})||[]).filter(Boolean).map((function(e){var t=(0,u.denormalize)(e.shop_id,f.shopSchema,{shops:n})||{},r=t.country,o=t.name;return q(q({},e),{},{shop_region:r,shop_name:o})}))})),ye=(0,a.createSelector)(be,oe,(function(e,t){return e.filter((function(e){var n=e.id,r=e.unread_count;return e&&(r>0||n===t)}))})),Re=(0,a.createSelector)(be,(function(e){return e.filter((function(e){return e.isPinned}))})),Ae=(0,a.createSelector)(be,(function(e){return e.filter((function(e){return e.status&&"closed"===e.status}))})),Ce=(0,a.createSelector)(be,oe,(function(e,t){return e.filter((function(e){var n=e.unreplied,r=e.id;return void 0===n||n||!n&&r===t}))})),Pe=(0,a.createSelector)(be,(function(e){return e.filter((function(e){return e.lack})).map((function(e){return e.id}))||[]})),De=function(e){var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.filter)||"All"},Ie=(0,a.createSelector)(De,be,ye,Re,Ae,Ce,(function(e,t,n,r,o,c){return{All:t,Unread:n,Pinned:r,Closed:o,Unreplied:c}[e]})),we=(0,a.createSelector)(Ie,X,l.permissionsSelector,De,(function(e,t,n,r){(n||{}).waitingTimeFilter;var o=e.filter((function(e){return!t.includes(e.id)})),c=e.filter((function(e){return t.includes(e.id)}));return o.sort((function(e,t){return parseInt(t.latest_message_id)-parseInt(e.latest_message_id)})),c.concat(o).filter((function(e){return void 0===e.faking&&(null==e?void 0:e.biz_id)!==s.BizIdEnum.Chatbot}))})),Ne=(0,a.createSelector)(oe,Y,(function(e,t){return(null==t?void 0:t.id)&&e===(null==t?void 0:t.id)})),Me=(0,a.createSelector)(be,B,oe,l.isSubAccountSelector,ne,l.userEntitiesSelector,l.conversationEntitiesSelector,l.permissionsSelector,Ne,Y,(function(e,t,n,r,o,c,a,s,l,_){if(l)return _;var d=((s||{}).showServingTab?[].concat(i(e),i(t)):e).find((function(e){return e.id===n}))||{};if(o&&!d.id&&(d=(0,u.denormalize)(n,f.conversationSchema,{conversations:a})||{}),!r&&d.lack){var p=d.to_id,S=(0,u.denormalize)(p,f.userSchema,{users:c})||{},v={to_shop_id:S.shop_id,to_status:S.status,to_name:S.name||"-",to_avatar:S.avatar};return Object.assign(d,v)}return d})),Le=(0,a.createSelector)(Me,(function(e){var t;return(null==e||null===(t=e.official_chat)||void 0===t?void 0:t.official_conv_type)===s.OfficialConvType.OFFICIAL_CREDIT||!1})),Ue=(0,a.createSelector)(l.conversationEntitiesSelector,oe,(function(e,t){var n=(0,u.denormalize)(t,f.conversationSchema,{conversations:e});return(null==n?void 0:n.biz_id)||s.BizIdEnum.SubAccount})),xe=(0,a.createSelector)(J,l.permissionsSelector,l.isSubAccountSelector,Ue,(function(e,t,n,r){if(n)return r;var o=t||{},c=o.sellerDriverWhitelist,i=o.amsToggleStatus;return!c&&e===s.ChatWithTypeEnum.Driver||!i&&s.ChatWithTypeEnum.Affiliate?s.ChatWithTypeMap.buyer:s.ChatWithTypeMap[e]||s.BizIdEnum.Buyer})),je=(0,a.createSelector)(J,xe,(function(e,t){return s.ChatWithTypeMap[e]!==t})),ke=(0,a.createSelector)(l.chatWithTypeListSelector,(function(e){return e.map((function(e){return s.ChatWithTypeMap[e]}))})),Ge=(0,a.createSelector)(Me,(function(e){return(e||{}).to_id||null})),Fe=(0,a.createSelector)(l.isSubAccountSelector,J,Ue,Le,(function(e,t,n,r){return(!e&&t===s.ChatWithTypeEnum.Buyer||e&&n===s.BizIdEnum.SubAccount)&&!r})),He=(0,a.createSelector)(ce,Fe,Le,(function(e,t,n){return e||t&&!n})),Ye=(0,a.createSelector)(l.isSubAccountSelector,J,Ue,(function(e,t,n){return e?s.subAccountAffiliateBiz.includes(n):t===s.ChatWithTypeEnum.Affiliate})),Be=(0,a.createSelector)(Me,l.shopsEntitiesSelector,(function(e,t){return(0,u.denormalize)(e.shop_id,f.shopSchema,{shops:t})||{}})),Ve=(0,a.createSelector)(Be,(function(e){return(null==e?void 0:e.country)||"SG"})),We=(0,a.createSelector)(Be,(function(e){return(null==e?void 0:e.name)||"SG"})),Qe=(0,a.createSelector)(Me,(function(e){return e.shop_id})),ze=(0,a.createSelector)(Qe,Be,(function(e,t){return e&&(null==t?void 0:t.managed_by_shopee)||!1})),qe=(0,a.createSelector)(Me,(function(e){return e.to_id})),Ke=(0,a.createSelector)(Me,(function(e){return e.status})),Xe=function(e){return(0,a.createSelector)(l.conversationEntitiesSelector,(function(t){return(0,u.denormalize)(e,f.conversationSchema,{conversations:t})||{}}))},Je=function(e){return(0,a.createSelector)(Xe(e),l.isSubAccountSelector,xe,(function(e,t,n){return t?null==e?void 0:e.biz_id:n}))},$e=function(e){return(0,a.createSelector)(Xe(e),(function(e){return e.shop_id}))},Ze=function(e){return(0,a.createSelector)(be,B,l.permissionsSelector,(function(t,n,r){var o=(r||{}).showServingTab?[].concat(i(t),i(n)):t;return e.map((function(e){return o.find((function(t){return t.id===e}))})).filter(Boolean)}))},et=(0,a.createSelector)(Me,(function(e){return(e||{}).shop_id||null})),tt=(0,a.createSelector)(l.userEntitiesSelector,Me,(function(e,t){return t?(0,u.denormalize)(t.to_id,f.userSchema,{users:e}):{}})),nt=(0,a.createSelector)(Me,(function(e){return(e||{}).to_shop_id||null})),rt=(0,a.createSelector)(nt,l.shopsEntitiesSelector,(function(e,t){return(0,u.denormalize)(e,f.shopSchema,{shops:t})||{}})),ot=function(e){var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.keyword)||""},ct=function(e){var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.results)||[]},it=function(e){var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.searchStatus)||""},ut=(0,a.createSelector)(Me,(function(e){return e.translationAccess})),at=function(e){var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.listsHash)||{}},st=function(e){var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.conversationBeenDeleted)||!1},lt=(0,a.createSelector)(Me,(function(e){return(e||{}).to_name})),ft={hasSCAccess:!0,hasEditOrderAccess:!0,hasViewOrderAccess:!0,hasViewProductAccess:!0,hasEditVoucherAccess:!0,hasViewVoucherAccess:!0,hasViewRrOrderAccess:!0,hasOrderDetailAccess:!0},_t=function(e){var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.access)||ft},dt=function(e){var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.isNavigateToUnreadMessage)||!1},pt=function(e){var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.navigateToUnreadMessageId)||""},St=(0,a.createSelector)(Me,(function(e){var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.pendingOffersCount)||{}}),(function(e,t){var n=e.shop_id,r=e.to_id;return t["".concat(n,"_").concat(r)]||0})),vt=function(e){return(0,a.createSelector)($e(e),l.shopsEntitiesSelector,(function(e,t){var n=(0,u.denormalize)(e,f.shopSchema,{shops:t})||{};return(null==n?void 0:n.country)||"SG"}))},Et=(0,a.createSelector)(l.isSubAccountSelector,l.currentUserIdSelector,Be,(function(e,t,n){return e?n.user_id:t})),ht=(0,a.createSelector)(J,l.allTotalConversationsCountMapSelector,(function(e,t){return t[e]||{}})),Tt=function(e){var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.conversationMark)||{}},Ot=function(e){return(0,a.createSelector)(Tt,(function(t){return t[e]}))},gt=function(e){var t;return null===(t=e.conversationReducer)||void 0===t?void 0:t.showLoadingMessagesMap},mt=function(e){var t;return(null===(t=e.conversationReducer)||void 0===t?void 0:t.typingStatusConversationIds)||[]},bt=(0,a.createSelector)(oe,gt,mt,(function(e,t,n){var r,c,i=t&&t[e],u=Object.entries(i||{})||[],a=u.some((function(e){var t=o(e,2),n=(t[0],t[1]);return null==n?void 0:n.showLoading})),s=a||n.includes(e);return u.forEach((function(e,t){var n=o(e,2),i=(n[0],n[1]),u=i.startTime;(0===t||u<r)&&(r=u,c=i.isSend)})),{hasLoading:s,isSend:c,earliestStartTime:r,hasChatbotLoading:a}})),yt=(0,a.createSelector)(gt,(function(e){var t=[];return Object.entries(e).map((function(e){var n=o(e,2),r=n[0],c=n[1];(Object.entries(c||{})||[]).some((function(e){var t=o(e,2),n=(t[0],t[1]);return null==n?void 0:n.showLoading}))&&t.push(r)})),t})),Rt=(0,a.createSelector)(oe,mt,bt,l.permissionsSelector,(function(e,t,n,r){var o=r.typingStatus,c=(o=void 0===o?{}:o).chatRoomTypingDisplay,i=void 0===c?0:c;return t.includes(e)&&!n.hasChatbotLoading&&i===s.ChatListTypingDisplay.DOT_TYPING})),At=function(e){var t;return null===(t=e.conversationReducer)||void 0===t?void 0:t.redirectionInfo},Ct=(0,a.createSelector)(l.permissionsSelector,Z,j,(function(e,t,n){return(e||{}).showServingTab?[].concat(i(t),i(n)):t})),Pt=(0,a.createSelector)(Me,l.isSubAccountSelector,Se,(function(e,t,n){var r=(e||{}).choice_entity;return(r=void 0===r?{}:r).to_shop_is_choice||n&&!t})),Dt=function(e){var t;return null===(t=e.conversationReducer)||void 0===t?void 0:t.clickable},It=(0,a.createSelector)(l.permissionsSelector,(function(e){var t=e||{},n=t.onboardingWhitelist,r=t.chatbotToggleOpen,o=t.onboardingNewbieComplete;return r&&!o&&n})),wt=(0,a.createSelector)(Ne,l.permissionsSelector,C,(function(e,t,n){var r=t||{},o=r.onboardingWhitelist,c=r.chatbotToggleOpen,i=r.onboardingNewbieComplete;return(c||!c&&e)&&o&&!i&&n})),Nt=(0,a.createSelector)(It,l.newbieSelector,wt,y,A,h,l.permissionsSelector,v,(function(e,t,n,r,o,c,i,u){var a=i.chatListRevamp,l=e&&!!(0,s.checkAutoReplyHighlightGuide)(t)&&!n&&!r&&o&&u===s.ConversationListTab.TODAY;return a?l&&c===s.ServeTodayTab.AUTOREPLY:l})),Mt=(0,a.createSelector)(It,l.newbieSelector,wt,y,A,R,b,h,l.permissionsSelector,v,(function(e,t,n,r,o,c,i,u,a,l){var f=a.chatListRevamp,_=(e&&!!(0,s.checkAutoReplyHighlightGuide)(t)&&!n&&!r&&!o&&c||i)&&l===s.ConversationListTab.TODAY;return f?_&&u===s.ServeTodayTab.UNREPLIED:_})),Lt=(0,a.createSelector)(l.newbieSelector,wt,y,l.permissionsSelector,(function(e,t,n,r){var o=(r||{}).chatbotToggleOpen;return!!(0,s.checkAssistantHighlightGuide)(e)&&!t&&n&&!o})),Ut=function(e){return(0,a.createSelector)(l.shopTranslationSettingsSelector,xe,(function(t,n){var r=(t[e]||{}).autoTranslationStatus;return n===s.BizIdEnum.Buyer||n===s.BizIdEnum.SubAccount?r:s.SwitchStatus.ENABLED}))},xt=(0,a.createSelector)(g,l.permissionsSelector,J,(function(e,t,n){var r=t.chatbotToggleOpen,o=t.onboardingWhitelist;return(r&&o||(null==e?void 0:e.showAssistantAlert))&&n===s.ChatWithTypeEnum.Buyer})),jt=(0,a.createSelector)(l.permissionsSelector,l.localeSelector,xt,(function(e,t,n){var r,o;return null==e||null===(r=e.showBotBanner)||void 0===r||!r.text||n?"":(0,s.getGlobalConfigTranslatedText)(null==e||null===(o=e.showBotBanner)||void 0===o?void 0:o.text,t)})),kt=(0,a.createSelector)(k(s.ServeTodayTab.BUYER_TO_PAY),X,(function(e,t){var n=(0,l.sortConversations)(e.filter((function(e){return!(null!=e&&e[s.ServeTodayTab.BUYER_TO_PAY])}))),r=t.map((function(e){return n.find((function(t){return t.id===e}))})).filter(Boolean),o=n.filter((function(e){return!t.includes(e.id)}));return r.concat(o.filter((function(e){return void 0===e.faking})))})),Gt=(0,a.createSelector)(k(s.ServeTodayTab.INQUIRY_WITHOUT_ORDER),X,(function(e,t){var n=(0,l.sortConversations)(e.filter((function(e){return!(null!=e&&e[s.ServeTodayTab.INQUIRY_WITHOUT_ORDER])}))),r=t.map((function(e){return n.find((function(t){return t.id===e}))})).filter(Boolean),o=n.filter((function(e){return!t.includes(e.id)}));return r.concat(o.filter((function(e){return void 0===e.faking})))})),Ft=(0,a.createSelector)(T,we,kt,Gt,(function(e,t,n,r){var o,i=[],u=(c(o={},s.ServeTodayTab.BUYER_TO_PAY,n),c(o,s.ServeTodayTab.INQUIRY_WITHOUT_ORDER,r),o);return s.AllChatsFolders.forEach((function(t){var n=null==u?void 0:u[t];null!=n&&n.length&&(i=i.concat([{key:t,id:"".concat(t,"Tab")}]),e===t&&(i=i.concat(n)))})),i})),Ht=(0,a.createSelector)(ge,I,W,(function(e,t,n){return(null==n?void 0:n.key)===s.ServeTodayTab.ALL_BUYERS?e:t})),Yt=function(e){var t;return(null===(t=e.conversationReducer)||void 0===t?void 0:t.buyerAbtest)||{}};function Bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wt(e){return function(){var t=Array.prototype.slice.call(arguments);return e.memoize=e.memoize||{},t in e.memoize?e.memoize[t]:e.memoize[t]=e.apply(this,t)}}var Qt,zt,qt=s.MessageTypes.MSG_TYPE_OFFER,Kt=s.MessageTypes.MSG_TYPE_ORDER,Xt=s.MessageTypes.MSG_TYPE_PRODUCT,Jt=s.MessageTypes.MSG_TYPE_FAQ_UNSUPPORTED,$t=s.MessageTypes.MSG_TYPE_FAQ_LIVEAGENT_PROMPT,Zt=s.MessageTypes.MSG_TYPE_RATE_CARD,en=s.MessageTypes.MSG_TYPE_FAQ_BOT_PRODUCT,tn=[Kt,Xt,en],nn=(0,a.createSelector)((function(e){return e}),(function(e){return(e.messageReducer||{}).messagesRelatedMap||{}})),rn=function(e){var t;return(null===(t=e.messageReducer)||void 0===t?void 0:t.videoMap)||{}},on=function(e){return(0,a.createSelector)(rn,(function(t){return JSON.parse(JSON.stringify(t[e]||{}))}))},cn=function(e){return(0,a.createSelector)(rn,(function(t){return Object.keys(t).find((function(n){return t[n].vid===e}))}))},un=function(e){return(0,a.createSelector)(l.messageEntitiesSelector,(function(t){return(0,u.denormalize)(e,f.messageSchema,{messages:t})}))},an=(0,a.createSelector)(oe,nn,(function(e,t){return t[e]||{all:[]}})),sn=function(e){return(0,a.createSelector)(nn,(function(t){return t[e]||{all:[],sending:[],failed:[]}}))},ln=Wt((function(e){return(0,a.createSelector)(sn(e),Xe(e),l.messageEntitiesSelector,(function(e,t,n){return(0,l.getConversationLastMessage)(e,t,n)}))})),fn=Wt((function(e){return(0,a.createSelector)(sn(e),Xe(e),l.messageEntitiesSelector,(function(e,t,n){var r=(0,l.getConversationLastMessage)(e,t,n,!0);return null==r?void 0:r.id}))})),_n=Wt((function(e){return(0,a.createSelector)(Xe(e),l.isSubAccountSelector,(function(e,t){var n=e.dueTag,r=e.status,o=e.to_status,c=e.is_blocked,i=(0,s.getConversationStatusTag)({isSubAccount:t,status:r,userStatus:o,isBlocked:c});return n&&!["banned","blocked","frozen"].includes(i)?n:""}))})),dn=(0,a.createSelector)(an,(function(e){var t=i(e.all||[]);return e.securityTipsMessageId&&t.push(e.securityTipsMessageId),t})),pn=(0,a.createSelector)(an,(function(e){return e.sending||[]})),Sn=(0,a.createSelector)(an,(function(e){return e.failed||[]})),vn=(0,a.createSelector)(l.messageEntitiesSelector,dn,(function(e,t){return((0,u.denormalize)(t,[f.messageSchema],{messages:e})||[]).filter(Boolean)})),En=(0,a.createSelector)(vn,(function(e){return e.reverse()})),hn=(0,a.createSelector)(Me,En,(function(e,t){return e?t.filter(Boolean).reduce((function(e,t){var n=t.type,r=t.source_type,o=t.source_content,c=t.content;if(!r||n===qt||[-1,0].includes(o["".concat(r,"_id")]))return e;if(tn.includes(n)&&o){var i="".concat(n,"_id");if(c[i]===o[i])return e}var u=e.lastSourceMessage,a=e.sourceList;if(!a.length)return{sourceList:a.concat(t),lastSourceMessage:t};if(r===Xt){var s=null==o?void 0:o.product_id,l=u.source_content&&u.source_content.product_id;if(!s||l===s)return e}else if(r===Kt){var f=null==o?void 0:o.order_id,_=u.source_content&&u.source_content.order_id;if(!f||[-1,0,_].includes(f))return e}return{sourceList:a.concat(t),lastSourceMessage:t}}),{sourceList:[],lastSourceMessage:null}).sourceList:[]})),Tn=(0,a.createSelector)(hn,(function(e){return e.map((function(e){return e.id}))})),On=(0,a.createSelector)(l.entitiesSelector,vn,(function(e,t){var n=t.filter((function(e){return e&&e.type===qt})).map((function(e){return e.content.offer_id}));return(0,u.denormalize)(n,[f.offerSchema],e)})),gn=(0,a.createSelector)(En,Tn,pn,Sn,Me,l.rateCardEntitiesSelector,On,(function(e,t,n,r,o,c,i){return o?e.filter((function(e){if(!e)return!1;var t=e.content,n=e.type;return!(![Jt,$t].includes(n)&&(!t||t&&0===Object.keys(t).length))})).map((function(e){var o=n.includes(e.id)?s.MessageSendStatus.SENDING:r.includes(e.id)?s.MessageSendStatus.FAILED:e.send_status||null,u=t.includes(e.id),a=Object.assign({},e,{send_status:o,hasMessageSource:u}),l=a,f=l.type,_=l.content,d=void 0===_?{}:_,p=l.message_option;switch(f){case qt:var S=i.find((function(e){return e&&e.id===d.offer_id}));a=Object.assign({},a,{textContent:S});break;case Zt:var v=c[d.card_id];v&&(a=Object.assign({},a,{textContent:v}))}return(0,s.hasTargetMessageOption)(p,s.MessageOption.MSG_OPT_CENSORED_BLACKLIST)&&(a=Vt(Vt({},a),{},{send_status:s.MessageSendStatus.FAILED,errorCode:s.MessageErrorCode.BLACKLIST})),a})):[]})),mn=(0,a.createSelector)((function(e){var t;return null==e||null===(t=e.messageReducer)||void 0===t?void 0:t.reply}),(function(e){return e?e.toMessageId:{}})),bn=(0,a.createSelector)(oe,mn,(function(e,t){return t[e]||""})),yn=(0,a.createSelector)(bn,l.messageEntitiesSelector,(function(e,t){return(0,u.denormalize)(e,f.messageSchema,{messages:t})})),Rn=(0,a.createSelector)(gn,Me,(function(e,t){for(var n="",r=e.length-1;r>=0;r--){var o=e[r];if(!(0,s.getMessageIsSend)(o,t)){n=o.id;break}}return n})),An=(0,a.createSelector)(oe,(function(e){var t;return(null===(t=e.mediaPreviewerReducer)||void 0===t?void 0:t.mediaMap)||{}}),(function(e,t){return t[e]||[]})),Cn=function(e){var t;return(null==e||null===(t=e.socketReducer)||void 0===t?void 0:t.feedback)||void 0},Pn=function(e){var t;return(null==e||null===(t=e.socketReducer)||void 0===t?void 0:t.reconnectFlag)||!1},Dn=function(e){var t;return(null==e||null===(t=e.socketReducer)||void 0===t?void 0:t.noticesCount)||0},In=(0,a.createSelector)(oe,(function(e){var t;return(null===(t=e.inputFieldReducer)||void 0===t?void 0:t.replyCardsMap)||{}}),(function(e,t){return t[e]||[]})),wn=n(8252),Nn=n(4944),Mn=n(783);!function(e){e.UPDATE_MODE_REQUESTED="UPDATE_MODE_REQUESTED",e.UPDATE_MODE_SUCCEEDED="UPDATE_MODE_SUCCEEDED"}(Qt||(Qt={}));var Ln=(0,wn.createActions)((c(zt={},Qt.UPDATE_MODE_REQUESTED,(function(e){return{mode:e.mode}})),c(zt,Qt.UPDATE_MODE_SUCCEEDED,(function(e){return{mode:e.mode}})),zt)),Un=Ln.updateModeRequested,xn=Ln.updateModeSucceeded;function jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jn(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Gn=regeneratorRuntime.mark(Hn),Fn=regeneratorRuntime.mark(Yn);function Hn(e){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload.mode,n.next=3,(0,Nn.put)(xn({mode:t}));case 3:return n.next=5,(0,Nn.put)((0,Mn.resetConversationRequested)());case 5:return n.next=7,(0,Nn.select)(l.currentUserSelector);case 7:return n.sent.shop,n.next=11,(0,Nn.put)((0,Mn.updateConversationFilterRequested)({filter:"All"}));case 11:return n.next=13,(0,Nn.put)((0,l.updateConversationDetailStatus)({showConversationDetail:!1}));case 13:return n.next=15,(0,Nn.put)((0,l.resetEntities)({names:["conversations"]}));case 15:return n.next=17,(0,Nn.put)((0,Mn.fetchConversationsRequested)({direction:"reset",mode:t}));case 17:if(t!==s.UserMode.MONITOR){n.next=20;break}return n.next=20,(0,Nn.put)((0,Mn.fetchServeTodayConversations)({direction:"reset",types:[].concat(i(s.ServeTodayFolders),i(s.AllChatsFolders))}));case 20:case"end":return n.stop()}}),Gn)}function Yn(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Nn.takeEvery)(Un,Hn);case 2:case"end":return e.stop()}}),Fn)}var Bn=c({},Qt.UPDATE_MODE_SUCCEEDED,(function(e,t){var n=t.payload.mode;return kn(kn({},e),{},{mode:n})}));function Vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Wn=(0,wn.handleActions)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vn(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Bn),{mode:""}),Qn=[Yn],zn=function(e){return e.modeReducer.mode},qn=n(8156),Kn=n(4756),Xn=function(){var e=(0,Kn.useSelector)(J);return(0,qn.useMemo)((function(){return{chatWithType:e,isBuyer:e===s.ChatWithTypeEnum.Buyer,isDriver:e===s.ChatWithTypeEnum.Driver,isAffiliate:e===s.ChatWithTypeEnum.Affiliate}}),[e])};function Jn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return $n(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$n(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,i=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){u=!0,c=e},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw c}}}}function $n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Zn=function(e,t){if(e.length!==t.length)return!1;var n,r=new Set(e),o=new Set(t),c=Jn(r);try{for(c.s();!(n=c.n()).done;){var i=n.value;if(!o.has(i))return!1}}catch(e){c.e(e)}finally{c.f()}return!0},er=function(t){var n=(0,Kn.useSelector)(e.selectedConversationIdsSelector,Zn);return!n.includes(t)&&n.length>=s.BATCH_OPERATE_MAX_SELECTION},tr=function(){var e=(0,Kn.useSelector)(ht)||{},t=e.duesoonCount,n=void 0===t?0:t,r=e.overdueCount;return{duesoonCount:n,overdueCount:void 0===r?0:r}},nr=function(){return(0,Kn.useSelector)(e.dueFiltersSelector)},rr=function(){return{mode:(0,Kn.useSelector)(e.inMultipleSelectionModeSelector),selectedIds:(0,Kn.useSelector)(e.selectedConversationIdsSelector),selectedId:(0,Kn.useSelector)(e.currerntSelectedConversationIdSelector)}},or=function(){var e=(0,Kn.useSelector)(De);return{filter:e,isUnrepliedFilter:"unreplied"===e.toLowerCase()}},cr=function(){var e=Xn().isBuyer,t=(0,l.usePermission)().showCrrDue,n=or().isUnrepliedFilter,r=rr().mode;return t&&e&&n&&!r},ir=function(){var e=(0,l.useAccount)().isSubAccount,t=(0,Kn.useSelector)(Be),n=(0,Kn.useSelector)(l.currentUserIdSelector);return e?null==t?void 0:t.user_id:n}}(),d}())},66633:function(e,t,n){"use strict";e.exports=n(55698)},88377:function(e,t,n){var r,o,c,i,u,a,s,l,f,_,d,p;e.exports=(r=n(34857),o=n(20573),c=n(29494),i=n(96961),u=n(6678),a=n(82677),s=n(38104),l=n(58518),f=n(44900),_=n(36808),d=n(86843),p=n(55036),function(){var e={9701:function(e,t,n){"use strict";n.d(t,{t:function(){return c}});var r=n(8661),o=n.n(r),c=o().t.bind(o())},8552:function(e,t,n){var r=n(852)(n(5639),"DataView");e.exports=r},1989:function(e,t,n){var r=n(1789),o=n(401),c=n(7667),i=n(1327),u=n(1866);function a(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}a.prototype.clear=r,a.prototype.delete=o,a.prototype.get=c,a.prototype.has=i,a.prototype.set=u,e.exports=a},8407:function(e,t,n){var r=n(7040),o=n(4125),c=n(2117),i=n(7518),u=n(4705);function a(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}a.prototype.clear=r,a.prototype.delete=o,a.prototype.get=c,a.prototype.has=i,a.prototype.set=u,e.exports=a},7071:function(e,t,n){var r=n(852)(n(5639),"Map");e.exports=r},3369:function(e,t,n){var r=n(4785),o=n(1285),c=n(6e3),i=n(9916),u=n(5265);function a(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}a.prototype.clear=r,a.prototype.delete=o,a.prototype.get=c,a.prototype.has=i,a.prototype.set=u,e.exports=a},3818:function(e,t,n){var r=n(852)(n(5639),"Promise");e.exports=r},8525:function(e,t,n){var r=n(852)(n(5639),"Set");e.exports=r},8668:function(e,t,n){var r=n(3369),o=n(619),c=n(2385);function i(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}i.prototype.add=i.prototype.push=o,i.prototype.has=c,e.exports=i},6384:function(e,t,n){var r=n(8407),o=n(7465),c=n(3779),i=n(7599),u=n(4758),a=n(4309);function s(e){var t=this.__data__=new r(e);this.size=t.size}s.prototype.clear=o,s.prototype.delete=c,s.prototype.get=i,s.prototype.has=u,s.prototype.set=a,e.exports=s},2705:function(e,t,n){var r=n(5639).Symbol;e.exports=r},1149:function(e,t,n){var r=n(5639).Uint8Array;e.exports=r},577:function(e,t,n){var r=n(852)(n(5639),"WeakMap");e.exports=r},4963:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,c=[];++n<r;){var i=e[n];t(i,n,e)&&(c[o++]=i)}return c}},4636:function(e,t,n){var r=n(2545),o=n(5694),c=n(1469),i=n(4144),u=n(5776),a=n(6719),s=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=c(e),l=!n&&o(e),f=!n&&!l&&i(e),_=!n&&!l&&!f&&a(e),d=n||l||f||_,p=d?r(e.length,String):[],S=p.length;for(var v in e)!t&&!s.call(e,v)||d&&("length"==v||f&&("offset"==v||"parent"==v)||_&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||u(v,S))||p.push(v);return p}},2488:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},2908:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},8470:function(e,t,n){var r=n(7813);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},8866:function(e,t,n){var r=n(2488),o=n(1469);e.exports=function(e,t,n){var c=t(e);return o(e)?c:r(c,n(e))}},4239:function(e,t,n){var r=n(2705),o=n(9607),c=n(2333),i=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?o(e):c(e)}},9454:function(e,t,n){var r=n(4239),o=n(7005);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},939:function(e,t,n){var r=n(2492),o=n(7005);e.exports=function e(t,n,c,i,u){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!=t&&n!=n:r(t,n,c,i,e,u))}},2492:function(e,t,n){var r=n(6384),o=n(7114),c=n(8351),i=n(6096),u=n(4160),a=n(1469),s=n(4144),l=n(6719),f="[object Arguments]",_="[object Array]",d="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,S,v,E){var h=a(e),T=a(t),O=h?_:u(e),g=T?_:u(t),m=(O=O==f?d:O)==d,b=(g=g==f?d:g)==d,y=O==g;if(y&&s(e)){if(!s(t))return!1;h=!0,m=!1}if(y&&!m)return E||(E=new r),h||l(e)?o(e,t,n,S,v,E):c(e,t,O,n,S,v,E);if(!(1&n)){var R=m&&p.call(e,"__wrapped__"),A=b&&p.call(t,"__wrapped__");if(R||A){var C=R?e.value():e,P=A?t.value():t;return E||(E=new r),v(C,P,n,S,E)}}return!!y&&(E||(E=new r),i(e,t,n,S,v,E))}},8458:function(e,t,n){var r=n(3560),o=n(5346),c=n(3218),i=n(346),u=/^\[object .+?Constructor\]$/,a=Function.prototype,s=Object.prototype,l=a.toString,f=s.hasOwnProperty,_=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!c(e)||o(e))&&(r(e)?_:u).test(i(e))}},8749:function(e,t,n){var r=n(4239),o=n(1780),c=n(7005),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(e){return c(e)&&o(e.length)&&!!i[r(e)]}},280:function(e,t,n){var r=n(5726),o=n(6916),c=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))c.call(e,n)&&"constructor"!=n&&t.push(n);return t}},2545:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},1717:function(e){e.exports=function(e){return function(t){return e(t)}}},4757:function(e){e.exports=function(e,t){return e.has(t)}},4429:function(e,t,n){var r=n(5639)["__core-js_shared__"];e.exports=r},7114:function(e,t,n){var r=n(8668),o=n(2908),c=n(4757);e.exports=function(e,t,n,i,u,a){var s=1&n,l=e.length,f=t.length;if(l!=f&&!(s&&f>l))return!1;var _=a.get(e),d=a.get(t);if(_&&d)return _==t&&d==e;var p=-1,S=!0,v=2&n?new r:void 0;for(a.set(e,t),a.set(t,e);++p<l;){var E=e[p],h=t[p];if(i)var T=s?i(h,E,p,t,e,a):i(E,h,p,e,t,a);if(void 0!==T){if(T)continue;S=!1;break}if(v){if(!o(t,(function(e,t){if(!c(v,t)&&(E===e||u(E,e,n,i,a)))return v.push(t)}))){S=!1;break}}else if(E!==h&&!u(E,h,n,i,a)){S=!1;break}}return a.delete(e),a.delete(t),S}},8351:function(e,t,n){var r=n(2705),o=n(1149),c=n(7813),i=n(7114),u=n(8776),a=n(1814),s=r?r.prototype:void 0,l=s?s.valueOf:void 0;e.exports=function(e,t,n,r,s,f,_){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new o(e),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return c(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var d=u;case"[object Set]":var p=1&r;if(d||(d=a),e.size!=t.size&&!p)return!1;var S=_.get(e);if(S)return S==t;r|=2,_.set(e,t);var v=i(d(e),d(t),r,s,f,_);return _.delete(e),v;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},6096:function(e,t,n){var r=n(8234),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,c,i,u){var a=1&n,s=r(e),l=s.length;if(l!=r(t).length&&!a)return!1;for(var f=l;f--;){var _=s[f];if(!(a?_ in t:o.call(t,_)))return!1}var d=u.get(e),p=u.get(t);if(d&&p)return d==t&&p==e;var S=!0;u.set(e,t),u.set(t,e);for(var v=a;++f<l;){var E=e[_=s[f]],h=t[_];if(c)var T=a?c(h,E,_,t,e,u):c(E,h,_,e,t,u);if(!(void 0===T?E===h||i(E,h,n,c,u):T)){S=!1;break}v||(v="constructor"==_)}if(S&&!v){var O=e.constructor,g=t.constructor;O==g||!("constructor"in e)||!("constructor"in t)||"function"==typeof O&&O instanceof O&&"function"==typeof g&&g instanceof g||(S=!1)}return u.delete(e),u.delete(t),S}},1957:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},8234:function(e,t,n){var r=n(8866),o=n(9551),c=n(3674);e.exports=function(e){return r(e,c,o)}},5050:function(e,t,n){var r=n(7019);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},852:function(e,t,n){var r=n(8458),o=n(7801);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},9607:function(e,t,n){var r=n(2705),o=Object.prototype,c=o.hasOwnProperty,i=o.toString,u=r?r.toStringTag:void 0;e.exports=function(e){var t=c.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(e){}var o=i.call(e);return r&&(t?e[u]=n:delete e[u]),o}},9551:function(e,t,n){var r=n(4963),o=n(479),c=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,u=i?function(e){return null==e?[]:(e=Object(e),r(i(e),(function(t){return c.call(e,t)})))}:o;e.exports=u},4160:function(e,t,n){var r=n(8552),o=n(7071),c=n(3818),i=n(8525),u=n(577),a=n(4239),s=n(346),l="[object Map]",f="[object Promise]",_="[object Set]",d="[object WeakMap]",p="[object DataView]",S=s(r),v=s(o),E=s(c),h=s(i),T=s(u),O=a;(r&&O(new r(new ArrayBuffer(1)))!=p||o&&O(new o)!=l||c&&O(c.resolve())!=f||i&&O(new i)!=_||u&&O(new u)!=d)&&(O=function(e){var t=a(e),n="[object Object]"==t?e.constructor:void 0,r=n?s(n):"";if(r)switch(r){case S:return p;case v:return l;case E:return f;case h:return _;case T:return d}return t}),e.exports=O},7801:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},1789:function(e,t,n){var r=n(4536);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},401:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},7667:function(e,t,n){var r=n(4536),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},1327:function(e,t,n){var r=n(4536),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},1866:function(e,t,n){var r=n(4536);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},5776:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},7019:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},5346:function(e,t,n){var r,o=n(4429),c=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!c&&c in e}},5726:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},7040:function(e){e.exports=function(){this.__data__=[],this.size=0}},4125:function(e,t,n){var r=n(8470),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():o.call(t,n,1),--this.size,0))}},2117:function(e,t,n){var r=n(8470);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7518:function(e,t,n){var r=n(8470);e.exports=function(e){return r(this.__data__,e)>-1}},4705:function(e,t,n){var r=n(8470);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},4785:function(e,t,n){var r=n(1989),o=n(8407),c=n(7071);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(c||o),string:new r}}},1285:function(e,t,n){var r=n(5050);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},6e3:function(e,t,n){var r=n(5050);e.exports=function(e){return r(this,e).get(e)}},9916:function(e,t,n){var r=n(5050);e.exports=function(e){return r(this,e).has(e)}},5265:function(e,t,n){var r=n(5050);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},8776:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},4536:function(e,t,n){var r=n(852)(Object,"create");e.exports=r},6916:function(e,t,n){var r=n(5569)(Object.keys,Object);e.exports=r},1167:function(e,t,n){e=n.nmd(e);var r=n(1957),o=t&&!t.nodeType&&t,c=o&&e&&!e.nodeType&&e,i=c&&c.exports===o&&r.process,u=function(){try{return c&&c.require&&c.require("util").types||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=u},2333:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5569:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},5639:function(e,t,n){var r=n(1957),o="object"==typeof self&&self&&self.Object===Object&&self,c=r||o||Function("return this")();e.exports=c},619:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},2385:function(e){e.exports=function(e){return this.__data__.has(e)}},1814:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},7465:function(e,t,n){var r=n(8407);e.exports=function(){this.__data__=new r,this.size=0}},3779:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},7599:function(e){e.exports=function(e){return this.__data__.get(e)}},4758:function(e){e.exports=function(e){return this.__data__.has(e)}},4309:function(e,t,n){var r=n(8407),o=n(7071),c=n(3369);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var i=n.__data__;if(!o||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new c(i)}return n.set(e,t),this.size=n.size,this}},346:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},7813:function(e){e.exports=function(e,t){return e===t||e!=e&&t!=t}},5694:function(e,t,n){var r=n(9454),o=n(7005),c=Object.prototype,i=c.hasOwnProperty,u=c.propertyIsEnumerable,a=r(function(){return arguments}())?r:function(e){return o(e)&&i.call(e,"callee")&&!u.call(e,"callee")};e.exports=a},1469:function(e){var t=Array.isArray;e.exports=t},8612:function(e,t,n){var r=n(3560),o=n(1780);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},4144:function(e,t,n){e=n.nmd(e);var r=n(5639),o=n(5062),c=t&&!t.nodeType&&t,i=c&&e&&!e.nodeType&&e,u=i&&i.exports===c?r.Buffer:void 0,a=(u?u.isBuffer:void 0)||o;e.exports=a},8446:function(e,t,n){var r=n(939);e.exports=function(e,t){return r(e,t)}},3560:function(e,t,n){var r=n(4239),o=n(3218);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1780:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},3218:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7005:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},6719:function(e,t,n){var r=n(8749),o=n(1717),c=n(1167),i=c&&c.isTypedArray,u=i?o(i):r;e.exports=u},3674:function(e,t,n){var r=n(4636),o=n(280),c=n(8612);e.exports=function(e){return c(e)?r(e):o(e)}},479:function(e){e.exports=function(){return[]}},5062:function(e){e.exports=function(){return!1}},8661:function(e){"use strict";e.exports=l},6598:function(e){"use strict";e.exports=_},1383:function(e){"use strict";e.exports=a},8156:function(e){"use strict";e.exports=d},4756:function(e){"use strict";e.exports=p},8252:function(e){"use strict";e.exports=u},4944:function(e){"use strict";e.exports=r},975:function(e){"use strict";e.exports=o},783:function(e){"use strict";e.exports=s},5644:function(e){"use strict";e.exports=i},1855:function(e){"use strict";e.exports=c},4672:function(e){"use strict";e.exports=f}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var c=t[r]={id:r,loaded:!1,exports:{}};return e[r](c,c.exports,n),c.loaded=!0,c.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e};var S={};return function(){"use strict";n.r(S),n.d(S,{abnormalUserStatus:function(){return zc},addNeedCaptchaRequest:function(){return Sc},affiliateEntitiesSelector:function(){return u},agentConversationEntitiesSelector:function(){return s},allMessageShortcutGroupsSelector:function(){return $r},allTotalConversationsCountMapSelector:function(){return ot},allTotalConversationsCountSelector:function(){return rt},authorizedShopsCountSelector:function(){return Be},autoTranslation:function(){return fo},batchRemoveDraftHandler:function(){return St},batchUpdateRecord:function(){return H},bindedDirectShopSelector:function(){return Eo},blockInputTextSelector:function(){return se},buyerIsFrozenSelector:function(){return et},captchaSignatureSelector:function(){return _e},captchaVerifyReducer:function(){return Ac},captchaVisibleSelector:function(){return fe},chatInitedSelector:function(){return je},chatWithTypeListSelector:function(){return tt},checkUserPermissionSaga:function(){return rr},checkUserPermissionSucceeded:function(){return er},clearNeedCaptchaRequest:function(){return Ec},clearReportRequested:function(){return Jo},contactsEntitiesSelector:function(){return T},conversationEntitiesSelector:function(){return a},conversationsLengthLevelSelector:function(){return O},copySucceedFeedback:function(){return Ir},curTabFocusedSelector:function(){return Me},currentAllMessageShortcutsSelector:function(){return oo},currentGroupIdSelector:function(){return Jr},currentGroupTypeSelector:function(){return Xr},currentMessageShortcutGroupsSelector:function(){return to},currentUserDistributionStatusSelector:function(){return we},currentUserIdSelector:function(){return oe},currentUserIsSellerSelector:function(){return We},currentUserRoleSelector:function(){return Ie},currentUserSelector:function(){return he},currentUserShopIdSelector:function(){return Pe},currentUserShopSelector:function(){return De},deepUpdateRecord:function(){return Y},defaultCount:function(){return nt},deleteCaptchaRequest:function(){return vc},deleteConversationSucceedHandler:function(){return ft},deleteRecord:function(){return F},displayCBCBannerSelector:function(){return vo},distributionAccountStatusSelector:function(){return So},draftHashSelector:function(){return Lo},enterRequestedSaga:function(){return ir},entitiesSelector:function(){return c},entityReducer:function(){return K},fetchSettings:function(){return To},fetchSettingsStatusSelector:function(){return jo},fetchShopAuth:function(){return br},fetchShopsByIds:function(){return mr},fetchedShopIdsSelector:function(){return pr},filterShopSelector:function(){return Sr},firstClickEntrySelector:function(){return Ye},forceLogoutRequested:function(){return On},forwardGroupMembersSelector:function(){return b},forwardGroupsEntitiesSelector:function(){return m},getConversationLastMessage:function(){return Lt},getDraft:function(){return Uo},getShopUnreadCountByIds:function(){return Or},getTimestamp:function(){return Rt},getToastInformation:function(){return Pr},handle401ErrorRequested:function(){return Ao},handleLoginSucceededLogic:function(){return Pn},handleMessageSubscribe:function(){return Tt},hasFetchedUnreadSelector:function(){return Fe},hasSidebarPanelSelector:function(){return He},hasVerifyPhoneNumberNormalSellerSelector:function(){return Qe},hasVerifyPhoneNumberSelector:function(){return qe},hasVerifyPhoneNumberSubaccountSelector:function(){return ze},includeDirectShopSelector:function(){return Ae},isCBSellerSelector:function(){return be},isCBSubAccountSelector:function(){return Ce},isMainPageSelector:function(){return Ne},isMainSubaccountSelector:function(){return ct},isMonitorModeSelector:function(){return it},isSubAccountSelector:function(){return Oe},judgeUndefined:function(){return At},legacyMessageShortcutsCountSelector:function(){return po},loadingSelector:function(){return re},localeSelector:function(){return Te},login:function(){return Dn},loginRequested:function(){return vn},loginSucceeded:function(){return En},loginSuccessSelector:function(){return ke},logout:function(){return ar},logoutHandler:function(){return ur},logoutRequested:function(){return hn},logoutSucceeded:function(){return Tn},messageEntitiesSelector:function(){return l},messageShortcutGroupEntitiesSelector:function(){return v},messageShortcutGroupHttpStatusSelector:function(){return Kr},messageShortcutGroupSelector:function(){return qr},messageShortcutsSelector:function(){return io},messageShortcutsStatusSelector:function(){return _o},messagesLengthLevelSelector:function(){return g},networkStatusSelector:function(){return ce},newChatEntranceSelector:function(){return ge},newMessageFlagSelector:function(){return Se},newbieSelector:function(){return pe},notificationTypes:function(){return Ut},offerSelector:function(){return wo},offersSelector:function(){return Do},openMallUrl:function(){return mo},openMallUrlSaga:function(){return yo},orderEntitiesSelector:function(){return _},ordersSelector:function(){return Qo},originalPermissionsSelector:function(){return ae},permissionsSelector:function(){return ut},personalMessageShortcutGroupsSelector:function(){return Zr},personalMessageShortcutsSelector:function(){return no},productEntitiesSelector:function(){return d},productsSelector:function(){return Wo},pureActionHandler:function(){return mt},pureMergeActionHandler:function(){return bt},rateCardEntitiesSelector:function(){return E},reduxReset:function(){return No},relatedOfferIdsSelector:function(){return Io},removeSingleDraftHandler:function(){return pt},reportArraySelector:function(){return zo},reportMessageApiTimer:function(){return Pt},reportReducer:function(){return sc},reportRequested:function(){return Xo},resendMessagePayloadSelector:function(){return de},resendNeedCaptchaRequest:function(){return hc},resetEntities:function(){return B},responseStatusSelector:function(){return ie},saveDraftHandler:function(){return vt},serviceDownAlertSelector:function(){return Xe},serviceDownClosedSelector:function(){return Je},serviceDownListSelector:function(){return $e},serviceDownMessageSelector:function(){return Ze},setBlockInputText:function(){return Jt},setServiceDownStatus:function(){return zn},setToastInformation:function(){return wr},setToastInformationSaga:function(){return Ur},settingsFetchStatusSelector:function(){return lo},settingsNeedForceUpdateSelectors:function(){return ao},settingsSelector:function(){return uo},settingsStatusSelector:function(){return so},shopSelector:function(){return dr},shopStatisticsMapSelector:function(){return ye},shopStatisticsSelector:function(){return Re},shopTranslationSettingsSelector:function(){return xo},shopsEntitiesSelector:function(){return h},shopsUnreadConversationCountSelector:function(){return X},showAutoHangupModalSelector:function(){return Ve},showChatWindowSelector:function(){return xe},showConversationDetailSelector:function(){return Ue},showEntrySelector:function(){return Ge},showNewWelcomePageSelector:function(){return le},showOriginalMessagesMapSelector:function(){return Dc},showShop:function(){return gr},sortConversations:function(){return yt},sortedAllMessageShortcutsSelector:function(){return co},stickerEntitiesSelector:function(){return f},takeEveryWithCancel:function(){return ci},teamMessageShortcutGroupsSelector:function(){return eo},teamMessageShortcutsSelector:function(){return ro},textBoxHeightSelector:function(){return Le},timerHandler:function(){return nc},toastReducer:function(){return Wr},toastSelector:function(){return Ar},totalUnreadConversationsCountSelector:function(){return J},unreadCountActions:function(){return $},updateChatEntryStatus:function(){return qt},updateChatInited:function(){return Wt},updateChatWindowStatus:function(){return Vt},updateConversationDetailStatus:function(){return Qt},updateConversationListsHash:function(){return Co},updateCurTabFocused:function(){return kn},updateCurTabFocusedSaga:function(){return Fn},updateCurTabFocusedSucceeded:function(){return Gn},updateEntities:function(){return k},updateHasFetchedUnread:function(){return Kt},updateHasSidebarPanel:function(){return Xt},updateIncludesDirectShop:function(){return Bt},updateIsMainPage:function(){return jn},updateLoginSuccessStatus:function(){return zt},updateNetworkStatus:function(){return Ft},updateOrReplaceAction:function(){return Yo},updatePermissions:function(){return tr},updateRecord:function(){return G},updateShowAutoHangupModal:function(){return Ht},updateStatusSelector:function(){return ko},updateUseNewChatEntrance:function(){return Yt},useAccount:function(){return Lc},useCloseReasonFlag:function(){return Qc},useConversationStatus:function(){return qc},useConversationTableType:function(){return Fc},useDebounce:function(){return ni},useDraft:function(){return Yc},useDueStatusTag:function(){return Xc},useElementWatcher:function(){return Gc},useEnableTranslation:function(){return Zc},useHasUnread:function(){return $c},useIntersectionObserver:function(){return ti},useIsCbSubAccount:function(){return Uc},useMonitorMode:function(){return Hc},useNewChatEntranceSelector:function(){return me},usePermission:function(){return kc},usePersistFn:function(){return ri},useSelectShop:function(){return Jc},userEntitiesSelector:function(){return i},userReducer:function(){return _r},userSelector:function(){return ve},verifyRequestsSelector:function(){return Pc},voucherEntitiesSelector:function(){return p},watchHandleUrlSagas:function(){return Po},watchLogin:function(){return In},watchReportSagas:function(){return ac},watchTab:function(){return Hn},watchToastSagas:function(){return Vr},watchUserSagas:function(){return fr},watchVerifySagas:function(){return Cc}});var e=n(4944),t=n(975),r=n(1855),o=function(e){return e<=100?1:e<=500?2:e<=1e3?3:4},c=function(e){return e.entityReducer},i=(0,t.createSelector)(c,(function(e){return e.users})),u=(0,t.createSelector)(c,(function(e){return e.affiliate})),a=(0,t.createSelector)(c,(function(e){return e.conversations})),s=(0,t.createSelector)(c,(function(e){return e.agentConversations})),l=(0,t.createSelector)(c,(function(e){return function(e){return(0,r.checkEmptyObject)(e)?{}:e}(e.messages)})),f=(0,t.createSelector)(c,(function(e){return e.stickers})),_=(0,t.createSelector)(c,(function(e){return e.orders})),d=(0,t.createSelector)(c,(function(e){return e.products})),p=(0,t.createSelector)(c,(function(e){return e.vouchers})),v=(0,t.createSelector)(c,(function(e){return e.messageShortcutsGroups})),E=(0,t.createSelector)(c,(function(e){return e.rateCards})),h=(0,t.createSelector)(c,(function(e){return e.shops})),T=(0,t.createSelector)(c,(function(e){return e.contacts})),O=(0,t.createSelector)(a,s,(function(e,t){var n=Object.keys(e).length+Object.keys(t).length;return o(n)})),g=(0,t.createSelector)(l,(function(e){return o(Object.keys(e).length)})),m=(0,t.createSelector)(c,(function(e){return e.groups})),b=(0,t.createSelector)(c,(function(e){return e.groupMembers}));function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t){if(e){if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,c=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return c}}(e,t)||A(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var P,D,I=n(5644);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.UPDATE_ENTITIES="UPDATE_ENTITIES",e.UPDATE_RECORD="UPDATE_RECORD",e.DELETE_RECORD="DELETE_RECORD",e.BATCH_UPDATE_RECORD="BATCH_UPDATE_RECORD",e.DEEP_UPDATE_RECORD="DEEP_UPDATE_RECORD",e.RESET_ENTITIES="RESET_ENTITIES"}(P||(P={}));var M,L,U=(y(D={},P.UPDATE_ENTITIES,(function(e,t){var n=t.payload.entities;return Object.entries(n).reduce((function(e,t){var n=C(t,2),r=n[0],o=n[1];return"persist"!==r?("shops"===r&&I.shopService.updateShopMap(o),N(N({},e),{},y({},r,N(N({},e[r]),o)))):N(N({},e),{},y({},r,o))}),e)})),y(D,P.RESET_ENTITIES,(function(e,t){var n=t.payload.names,r={};return n.forEach((function(e){r[e]={}})),N(N({},e),r)})),D),x=n(8252),j=(0,x.createActions)((y(M={},P.UPDATE_ENTITIES,(function(e){return{entities:e.entities}})),y(M,P.UPDATE_RECORD,(function(e){return{name:e.name,id:e.id,record:e.record}})),y(M,P.DELETE_RECORD,(function(e){return{name:e.name,id:e.id}})),y(M,P.BATCH_UPDATE_RECORD,(function(e){return{name:e.name,records:e.records,checkProp:e.checkProp}})),y(M,P.DEEP_UPDATE_RECORD,(function(e){return{name:e.name,id:e.id,record:e.record}})),y(M,P.RESET_ENTITIES,(function(e){return{names:e.names}})),M)),k=j.updateEntities,G=j.updateRecord,F=j.deleteRecord,H=j.batchUpdateRecord,Y=j.deepUpdateRecord,B=j.resetEntities;function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Q=(y(L={},P.UPDATE_RECORD,(function(e,t){var n=t.payload,r=n.name,o=n.id,c=n.record;return W(W({},e),{},y({},r,W(W({},e[r]),{},y({},o,W(W({},e[r][o]),c)))))})),y(L,P.DELETE_RECORD,(function(e,t){var n=t.payload,r=n.name,o=n.id,c=e[r];return delete c[o],W(W({},e),{},y({},r,c))})),y(L,P.BATCH_UPDATE_RECORD,(function(e,t){var n=t.payload,r=n.name,o=n.records,c=n.checkProp,i=W({},e[r]);return Object.keys(o).forEach((function(e){(!c||c&&o[e][c]>i[e][c])&&(i[e]=W(W({},i[e]),o[e]))})),W(W({},e),{},y({},r,i))})),y(L,P.DEEP_UPDATE_RECORD,(function(e,t){var n=t.payload,r=n.name,o=n.id,c=n.record,i=Object.keys(c),u={},a=W({},e[r][o]);return i.forEach((function(e){u[e]=W(W({},a[e]),c[e])})),W(W({},e),{},y({},r,W(W({},e[r]),{},y({},o,W(W({},e[r][o]),u)))))})),L);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var K=(0,x.handleActions)(q(q({},U),Q),{users:{},affiliate:{},messages:{},conversations:{},agentConversations:{},stickers:{},orders:{},offers:{},products:{},shops:{},rateCards:{},persist:null,vouchers:{},messageShortcuts:{}}),X=function(e){var t;return(null==e||null===(t=e.socketReducer)||void 0===t?void 0:t.shopsUnreadConversationCount)||0},J=function(e){var t;return(null==e||null===(t=e.socketReducer)||void 0===t?void 0:t.totalUnreadConversationsCount)||0},$={MARK_AS_READ:"markAsRead",MARK_AS_UNREAD:"markASUnread",CLOSE_CONVERSATION:"closeConversation",DELETE_CONVERSATION:"deleteConversation",FORWARD_CONVERSATION:"forwardConversation",RECEIVE_UNREADABLE_MESSAGE:"receiveUnreadableMessage",REFRESH_TOTAL_UNREAD_CONVERSATION_COUNT:"refreshTotalUnreadConversationCount",REFRESH_SHOPS_UNREAD_CONVERSATIONS_COUNT:"refreshShopsUnreadConversationsCount",REFRESH_SINGLE_SHOP_UNREAD_CONVERSATION_COUNT:"refreshSingleShopUnreadConversationCount",UPDATE_CONVERSATION:"updateConversation",MESSAGE_QUEUE_UPDATE:"messageQueueUpdate",MASS_READ:"mass_read",MASS_UNREAD:"mass_unread",MASS_CLOSE:"mass_close",ACTIVE_CONVERSATION:"activeConversation",CLEAR_CONVERSATION_COUNT:"clearConversationCount",ADD_FOLLOW_UP_CONVERSATION:"addFollowUpConversation",REMOVE_FOLLOW_UP_CONVERSATION:"removeFollowUpConversation"},Z=n(1383),ee=function(e){return e.modeReducer.mode};function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var re=function(e){return e.userReducer.loading},oe=function(e){return e.userReducer.currentUserId},ce=function(e){return e.userReducer.networkStatus},ie=function(e){var t;return(null==e||null===(t=e.userReducer)||void 0===t?void 0:t.responseStatus)||!1},ue={},ae=function(e){var t;return(null==e||null===(t=e.userReducer)||void 0===t?void 0:t.permissions)||ue},se=function(e){var t;return(null==e||null===(t=e.userReducer)||void 0===t?void 0:t.blockInputText)||""},le=(0,t.createSelector)(ae,(function(e){var t=e||{},n=t.hitChatbotWhitelist,r=t.chatbotToggleOpen;return n&&!r})),fe=function(e){var t;return(null==e||null===(t=e.userRelatedReducer)||void 0===t?void 0:t.captchaVisible)||!1},_e=function(e){var t;return(null==e||null===(t=e.userRelatedReducer)||void 0===t?void 0:t.captchaSignature)||""},de=function(e){var t;return(null==e||null===(t=e.userRelatedReducer)||void 0===t?void 0:t.resendMessagePayload)||void 0},pe=function(e){var t;return(null==e||null===(t=e.userRelatedReducer)||void 0===t?void 0:t.newbie)||[]},Se=function(e){return e.userReducer.newMessageFlag},ve=function(e){return(0,t.createSelector)(c,(function(t){return(0,Z.denormalize)(e,I.userSchema,{users:t})}))},Ee={},he=(0,t.createSelector)(i,oe,(function(e,t){return(0,Z.denormalize)(t,I.userSchema,{users:e})||Ee})),Te=(0,t.createSelector)(he,(function(e){return e&&e.locale})),Oe=(0,t.createSelector)(he,(function(e){return!(0,r.checkEmptyObject)(e)&&e.type===r.AccountType.SUBACCOUNT})),ge=function(e){var t;return(null==e||null===(t=e.userReducer)||void 0===t?void 0:t.useNewChatEntrance)||!1},me=(0,t.createSelector)(Oe,ge,(function(e,t){return!e&&t})),be=(0,t.createSelector)(he,(function(e){return!(0,r.checkEmptyObject)(e)&&e.is_cb})),ye=function(e){var t;return(null==e||null===(t=e.userRelatedReducer)||void 0===t?void 0:t.shopStatisticsMap)||{}},Re=function(e,n){return(0,t.createSelector)(ye,(function(t){return t["".concat(e,"-").concat(n)]||{}}))},Ae=function(e){var t;return(null==e||null===(t=e.userReducer)||void 0===t?void 0:t.includesDirectShop)||!1},Ce=(0,t.createSelector)(Oe,be,Ae,(function(e,t,n){return e&&(t||n)})),Pe=(0,t.createSelector)(he,Oe,(function(){return(arguments.length>1?arguments[1]:void 0)?void 0:(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).shop_id})),De=(0,t.createSelector)(he,Oe,h,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>2?arguments[2]:void 0;return(arguments.length>1?arguments[1]:void 0)?void 0:(0,Z.denormalize)(e.shop_id,I.shopSchema,{shops:t})||{}})),Ie=(0,t.createSelector)(he,(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).role||""})),we=(0,t.createSelector)(he,(function(e){return e&&e.distribution_status||""})),Ne=function(e){return e.userReducer.isMainPage},Me=function(e){return e.userReducer.curTabFocused},Le=function(e){var t;return(null==e||null===(t=e.userRelatedReducer)||void 0===t?void 0:t.textBoxHeight)||0},Ue=function(e){return e.userReducer.showConversationDetail},xe=function(e){return e.userReducer.showChatWindow},je=function(e){return e.userReducer.inited},ke=function(e){return e.userReducer.loginSuccess},Ge=function(e){return e.userReducer.showEntry},Fe=function(e){return e.userReducer.hasFetchedUnread},He=function(e){return e.userReducer.hasSidebarPanel},Ye=function(e){var t;return(null==e||null===(t=e.userReducer)||void 0===t?void 0:t.firstClickEntry)||!1},Be=(0,t.createSelector)(he,(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).authorizedShopsCount||0})),Ve=function(e){return e.userReducer.showAutoHangupModal},We=(0,t.createSelector)(he,Oe,(function(){return!!(arguments.length>1?arguments[1]:void 0)||(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).is_seller})),Qe=function(e){var t;return(null==e||null===(t=e.userRelatedReducer)||void 0===t?void 0:t.hasVerifyPhoneNumber)||!1},ze=function(e){var t;return(null==e||null===(t=e.userRelatedReducer)||void 0===t?void 0:t.hasVerifyPhoneNumberMap)||{}},qe=(0,t.createSelector)(Oe,Qe,ze,(function(e,t,n){return e?n:t})),Ke=function(e){var t;return(null==e||null===(t=e.userReducer)||void 0===t?void 0:t.serviceDownStatus)||{}},Xe=(0,t.createSelector)(Ke,(function(e){return e.alert||!1})),Je=(0,t.createSelector)(Ke,(function(e){return e.closed||!1})),$e=(0,t.createSelector)(Ke,(function(e){return e.list||!1})),Ze=(0,t.createSelector)(Ke,(function(e){return e.message||!1})),et=function(e,n,r){return(0,t.createSelector)(Re(e,n),(function(e){return"frozen"===r&&"boolean"==typeof e.exist_pending_order&&!e.exist_pending_order}))},tt=(0,t.createSelector)(ae,(function(e){var t=[r.ChatWithTypeEnum.Buyer],n=e||{},o=n.sellerDriverWhitelist,c=n.amsToggleStatus;return o&&t.push(r.ChatWithTypeEnum.Driver),c&&t.push(r.ChatWithTypeEnum.Affiliate),t})),nt={unrepliedCount:0,duesoonCount:0,overdueCount:0,pinnedCount:0,unreadCount:0,serveTodayUnrepliedCount:0,serveTodayDuesoonCount:0,serveTodayOverdueCount:0,serveTodayPinnedCount:0,serveTodayBotRepliedCount:0,serveTodayManualRepliedCount:0},rt=function(e){var t;return(null==e||null===(t=e.userRelatedReducer)||void 0===t?void 0:t.allTotalConversationsCount)||{}},ot=(0,t.createSelector)(tt,rt,(function(e,t){return e.reduce((function(e,n){var r,o,c=(null===(r=t["with_".concat(n,"_attribute")])||void 0===r?void 0:r.attributes)||{},i=(null===(o=t["with_".concat(n,"_attribute")])||void 0===o?void 0:o.serving_today_attributions)||{},u={unrepliedCount:c.total_unreplied_conv_count,duesoonCount:c.total_due_soon_conv_count,overdueCount:c.total_over_due_conv_count,pinnedCount:c.total_pinned_conv_count,unreadCount:c.total_unread_conv_count,serveTodayUnrepliedCount:i.total_unreplied_conv_count,serveTodayDuesoonCount:i.total_due_soon_conv_count,serveTodayOverdueCount:i.total_over_due_conv_count,serveTodayPinnedCount:i.total_pinned_conv_count,serveTodayBotRepliedCount:i.total_bot_replied_count,serveTodayManualRepliedCount:i.total_manual_replied_count,serveTodayUnreadCount:i.total_unread_conv_count,inquiryWithoutOrderConvCount:i.total_inquiry_without_order_conv_count,toPayConvCount:i.total_to_pay_conv_count};return e[n]=u||nt,e}),{})})),ct=(0,t.createSelector)(he,(function(e){var t=e.type,n=e.role;return(0,r.isMainSubaccount)(t,n)})),it=(0,t.createSelector)(ae,ct,ee,(function(e,t,n){var o=(e||{}).showMonitorMode;return t&&void 0!==o&&o&&n===r.UserMode.MONITOR})),ut=(0,t.createSelector)(ae,ct,ee,(function(e,t,n){var o=(e||{}).showMonitorMode;return t&&void 0!==o&&o&&n===r.UserMode.MONITOR?ne(ne({},e||{}),{},{chatListRevamp:!0,showServingTab:!0}):e}));function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lt=function(e,t){var n=new Set(t);return n.delete(e),Array.from(n)},ft=function(e,t){var n=t.payload.conversationId,r=st(st({},e.conversationIdsMap),{},y({},n,!1)),o=lt(n,e.conversationIds),c=lt(n,e.pinnedConversationIds),i=e.currentConversationId;return st(st({},e),{},{currentConversationId:i===n?null:i,conversationIds:o,pinnedConversationIds:c,conversationIdsMap:r})};function _t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pt=function(e,t){var n=t.payload.conversationId,r=dt({},e.draftHash);return delete r[n],dt(dt({},e),{},{draftHash:r})},St=function(e,t){var n=t.payload.conversationIds,r=void 0===n?[]:n,o=dt({},e.draftHash);return r.forEach((function(e){delete o[e]})),dt(dt({},e),{},{draftHash:o})},vt=function(e,t){var n=t.payload,r=n.conversationId,o=n.draft,c=dt({},e.draftHash);return c[r]=o,dt(dt({},e),{},{draftHash:c})},Et=n(783),ht=regeneratorRuntime.mark(Tt);function Tt(t){var n,o;return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n=t.payload,o=t.type,c.next=3,(0,e.spawn)(Pt,n.request_id);case 3:if(o!==r.ConversationTypeEnum.Agent){c.next=8;break}return c.next=6,(0,e.put)((0,Et.receiveAgentMessageRequested)({message:n}));case 6:c.next=10;break;case 8:return c.next=10,(0,e.put)((0,Et.receiveMessageRequested)({message:n}));case 10:case"end":return c.stop()}}),ht)}function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var mt=function(){return function(e,t){var n=t.payload;return gt(gt({},e),n)}},bt=function(e){return function(t,n){var r=n.payload;return gt(gt({},t),{},y({},e,gt(gt({},t[e]),r)))}},yt=function(e){return e.sort((function(e,t){return parseInt(t.latest_message_id)-parseInt(e.latest_message_id)})),e},Rt=function(e,t){var n=e.last_message_time_nano,r=e.next_timestamp_nano;return t&&!r&&(r=t.next_message_time_nano),{nextTimestampNano:r,oldestTimestampNano:r,latestTimestampNano:n}},At=function(e){var t=e.defaultValue,n=e.value;return void 0===n?t:n},Ct=regeneratorRuntime.mark(Pt);function Pt(e){var t,n;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,r.getItem)(e);case 2:(t=o.sent)&&(null==(n=(0,I.getReportManager)())||n.reportMessageSocket(t),(0,r.removeItem)(e));case 4:case"end":return o.stop()}}),Ct)}var Dt,It,wt,Nt=n(9701).t,Mt=r.MessageTypes.MSG_TYPE_TEXT,Lt=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=e.all||[],i=e.sending||[],u=e.failed||[],a=c.length,s=null;if(a){for(var l=0,f=null;l<a&&!f;){var _,d=e.all[l];(f=(0,Z.denormalize)(d,I.messageSchema,{messages:n}))&&(f.type===r.MessageTypes.MSG_TYPE_SECURITY_TIPS||f.isFaking)&&(f=null),o&&!r.ManualMessageSource.includes(null===(_=f)||void 0===_?void 0:_.source)&&(f=null),l++}f&&f.created_timestamp>Math.floor(t.last_message_time_nano/Math.pow(10,9))&&(s=(0,r.fillMessagePreview)(f))}if(!s){var p=t.latest_message_id,S=t.latest_message_content,v=t.latest_message_type,E=t.last_message_option,h=t.latest_message_source,T=t.last_message_time_nano;(s={id:p,content:S,type:v,message_option:E,source:h,to_shop_id:t.latest_message_to_shop_id,label_info:t.label_info}).created_at=new Date(T/1e6)+""}var O=s,g=O.id,m=O.message_option,b=i.includes(g)?r.MessageSendStatus.SENDING:u.includes(g)?r.MessageSendStatus.FAILED:s.send_status?r.MessageSendStatus.SUCCEED:null;return(0,r.hasTargetMessageOption)(m,r.MessageOption.MSG_OPT_CENSORED_BLACKLIST)&&(b=r.MessageSendStatus.FAILED,s.type=Mt,s.content={text:Nt("common.blacklist.replaced_text")}),(0,r.hasTargetMessageOption)(m,r.MessageOption.MSG_OPT_CANCELORDER_WARNING_NOT_SEND)&&(b=r.MessageSendStatus.FAILED),s.send_status=b,s},Ut={MARK_AS_READ:"mark_as_read",MARK_AS_UNREAD:"mark_as_unread",DELETE_CONVERSATION:"delete_conversation",UPDATE_OFFER_STATUS:"update_offer_status",UPDATE_CONVERSATION:"update_conversation",UPDATE_USER_STATUS:"update_user_status",UPDATE_CONVERSATION_FLAG:"update_conversation_flag",FORCE_LOGOUT:"force_logout",UPDATE_RATING_CARD_STATUS:"update_rating_card_status",PULL_NOTIFICATION:"pull_notification",PIN_CONVERSATION:"pin_conversation",UNPIN_CONVERSATION:"unpin_conversation",MASS_READ:"mass_read",MASS_UNREAD:"mass_unread",MASS_PIN:"mass_pin",MASS_UNPIN:"mass_unpin",MASS_CLOSE:"mass_close",MASS_ACTIVATE:"mass_activate",VIDEO_UPLOAD:"video_upload",MARK_AS_REPLIED:"mark_as_replied",MARK_AS_UNREPLIED:"mark_as_unreplied",CHAT_DELETE_MSG:"chat_delete_msg",FAQ_SESSION_UPDATE:"faq_session_update",MUTE_CONVERSATION:"mute_conversation",UNMUTE_CONVERSATION:"unmute_conversation",CTT_UPDATE:"ctt_update",HAVE_UNRATED_CSAT:"have_unrated_csat",FAQ_SELLER_UNREAD_STATUS_UPDATE:"faq_seller_unread_status_update",CHAT_UPDATE_MSG_STATUS:"chat_update_msg_status",NEW_MSG_BOX:"new_msg_box",DEL_MSG_BOX:"del_msg_box",ADD_FOLLOW_UP:"add_follow_up",REMOVE_FOLLOW_UP:"remove_follow_up",CHAT_TYPING_STATUS:"chat_typing_status",CONV_LEVEL_UPDATE:"conv_level_update"};function xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.SHOW_LOADING_SUCCEEDED="SHOW_LOADING_SUCCEEDED",e.SET_HAS_SESSION="SET_HAS_SESSION",e.UPDATE_NETWORK_STATUS="UPDATE_NETWORK_STATUS",e.UPDATE_CUR_TAB_FOCUSED="UPDATE_CUR_TAB_FOCUSED",e.UPDATE_CUR_TAB_FOCUSED_SUCCEEDED="UPDATE_CUR_TAB_FOCUSED_SUCCEEDED",e.UPDATE_WORKSTATION_PANEL="UPDATE_WORKSTATION_PANEL",e.UPDATE_NEW_MESSAGE_FLAG="UPDATE_NEW_MESSAGE_FLAG",e.UPDATE_CHAT_WINDOW_STATUS="UPDATE_CHAT_WINDOW_STATUS",e.UPDATE_CHAT_INITED="UPDATE_CHAT_INITED",e.UPDATE_CONVERSATION_DETAIL_STATUS="UPDATE_CONVERSATION_DETAIL_STATUS",e.UPDATE_LOGIN_SUCCESS_STATUS="UPDATE_LOGIN_SUCCESS_STATUS",e.UPDATE_CHAT_ENTRY_STATUS="UPDATE_CHAT_ENTRY_STATUS",e.LOGIN_REQUESTED="LOGIN_REQUESTED",e.LOGIN_SUCCEEDED="LOGIN_SUCCEEDED",e.LOGOUT_REQUESTED="LOGOUT_REQUESTED",e.LOGOUT_SUCCEEDED="LOGOUT_SUCCEEDED",e.UPDATE_LOGIN_STATUS="UPDATE_LOGIN_STATUS",e.SHOW_TRANSLATION_GUIDE="SHOW_TRANSLATION_GUIDE",e.SHOW_REGION_FILTER_GUIDE="SHOW_REGION_FILTER_GUIDE",e.FORCE_LOGOUT_REQUESTED="FORCE_LOGOUT_REQUESTED",e.CONNECT_SOCKET="CONNECT_SOCKET",e.UPLOAD_FEEDBACK_VIDEO_REQUESTED="UPLOAD_FEEDBACK_VIDEO_REQUESTED",e.UPLOAD_FEEDBACK_VIDEO_STATUS="UPLOAD_FEEDBACK_VIDEO_STATUS",e.UPDATE_RELATED_CAPACITY="UPDATE_RELATED_CAPACITY",e.UPDATE_IS_MAIN_PAGE="UPDATE_IS_MAIN_PAGE",e.UPDATE_SHOW_AUTO_HANGUP_MODAL="UPDATE_SHOW_AUTO_HANGUP_MODAL",e.UPDATE_HAS_FETCHED_UNREAD="UPDATE_HAS_FETCHED_UNREAD",e.CHECK_USER_PERMISSION_SUCCEEDED="CHECK_USER_PERMISSION_SUCCEEDED",e.UPDATE_INCLUDES_DIRECT_SHOP="UPDATE_INCLUDES_DIRECT_SHOP",e.SET_SERVICE_DOWN_STATUS="SET_SERVICE_DOWN_STATUS",e.UPDATE_HAS_SIDEBAR_PANEL="UPDATE_HAS_SIDEBAR_PANEL",e.UPDATE_USE_NEW_CHAT_ENTRANCE="UPDATE_USE_NEW_CHAT_ENTRANCE",e.UPDATE_PERMISSIONS="UPDATE_PERMISSIONS",e.SET_BLOCK_INPUT_TEXT="SET_BLOCK_INPUT_TEXT",e.ENTER_REQUESTED="ENTER_REQUESTED"}(Dt||(Dt={}));var kt,Gt=(0,x.createActions)((y(It={},Dt.UPDATE_NETWORK_STATUS,(function(e){return{networkStatus:e.networkStatus}})),y(It,Dt.UPDATE_SHOW_AUTO_HANGUP_MODAL,(function(e){return{showAutoHangupModal:e.showAutoHangupModal}})),y(It,Dt.UPDATE_USE_NEW_CHAT_ENTRANCE,(function(e){return{useNewChatEntrance:e.useNewChatEntrance}})),y(It,Dt.UPDATE_INCLUDES_DIRECT_SHOP,(function(e){return{includesDirectShop:e.includesDirectShop}})),y(It,Dt.UPDATE_CHAT_WINDOW_STATUS,(function(e){return{showChatWindow:e.showChatWindow}})),y(It,Dt.UPDATE_CHAT_INITED,(function(e){return{inited:e.inited}})),y(It,Dt.UPDATE_CONVERSATION_DETAIL_STATUS,(function(e){return{showConversationDetail:e.showConversationDetail}})),y(It,Dt.UPDATE_LOGIN_SUCCESS_STATUS,(function(e){return{loginSuccess:e.loginSuccess}})),y(It,Dt.UPDATE_CHAT_ENTRY_STATUS,(function(e){return{showEntry:e.showEntry}})),y(It,Dt.UPDATE_HAS_FETCHED_UNREAD,(function(e){return{hasFetchedUnread:e.hasFetchedUnread}})),y(It,Dt.UPDATE_HAS_SIDEBAR_PANEL,(function(e){return{hasSidebarPanel:e.hasSidebarPanel}})),y(It,Dt.SET_BLOCK_INPUT_TEXT,(function(e){var t=e.blockInputText;return{blockInputText:void 0===t?"":t}})),It)),Ft=Gt.updateNetworkStatus,Ht=Gt.updateShowAutoHangupModal,Yt=Gt.updateUseNewChatEntrance,Bt=Gt.updateIncludesDirectShop,Vt=Gt.updateChatWindowStatus,Wt=Gt.updateChatInited,Qt=Gt.updateConversationDetailStatus,zt=Gt.updateLoginSuccessStatus,qt=Gt.updateChatEntryStatus,Kt=Gt.updateHasFetchedUnread,Xt=Gt.updateHasSidebarPanel,Jt=Gt.setBlockInputText,$t=(y(wt={},Dt.UPDATE_NETWORK_STATUS,mt()),y(wt,Dt.UPDATE_SHOW_AUTO_HANGUP_MODAL,mt()),y(wt,Dt.UPDATE_USE_NEW_CHAT_ENTRANCE,mt()),y(wt,Dt.UPDATE_INCLUDES_DIRECT_SHOP,mt()),y(wt,Dt.UPDATE_CHAT_WINDOW_STATUS,(function(e,t){var n=t.payload.showChatWindow,r={};return!n||null!=e&&e.firstClickEntry||(r.firstClickEntry=!0),jt(jt({},e),{},{showChatWindow:n},r)})),y(wt,Dt.UPDATE_CHAT_INITED,mt()),y(wt,Dt.UPDATE_CONVERSATION_DETAIL_STATUS,mt()),y(wt,Dt.UPDATE_LOGIN_SUCCESS_STATUS,mt()),y(wt,Dt.UPDATE_CHAT_ENTRY_STATUS,mt()),y(wt,Dt.UPDATE_HAS_FETCHED_UNREAD,mt()),y(wt,Dt.UPDATE_HAS_SIDEBAR_PANEL,mt()),y(wt,Dt.SET_BLOCK_INPUT_TEXT,mt()),wt),Zt=n(4672),en=n(6598),tn=n.n(en);!function(e){e[e.Disable=0]="Disable",e[e.Waiting=1]="Waiting",e[e.Up=2]="Up",e[e.Down=3]="Down"}(kt||(kt={}));var nn,rn,on=function(e){var t=e.messageId,n=e.feedback,r=e.conversationId,o=e.tagIds,c=e.reasonIds,i=e.otherReasons,u=e.bizId,a=e.reasonTexts;return new Promise((function(e,s){(0,I.fetch)({suffix:"feedback",resource:"messages",method:"POST",payload:JSON.stringify({msg_id:t,feedback:n,conversation_id:r,tag_ids:o,reason_ids:c,other_reason:i,biz_id:u,reason_texts:a})}).then((function(t){e(t)})).catch((function(e){s(e)}))}))};function cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function un(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cn(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var an=regeneratorRuntime.mark(gn),sn=regeneratorRuntime.mark(mn),ln=regeneratorRuntime.mark(yn),fn=regeneratorRuntime.mark(Cn),_n=regeneratorRuntime.mark(Pn),dn=regeneratorRuntime.mark(Dn),pn=regeneratorRuntime.mark(In),Sn=(0,x.createActions)((y(nn={},Dt.LOGIN_REQUESTED,(function(){return{}})),y(nn,Dt.LOGIN_SUCCEEDED,(function(e){return{currentUserId:e.currentUserId,status:e.status}})),y(nn,Dt.LOGOUT_REQUESTED,(function(){return{}})),y(nn,Dt.LOGOUT_SUCCEEDED,(function(){return{}})),y(nn,Dt.FORCE_LOGOUT_REQUESTED,(function(){return{}})),nn)),vn=Sn.loginRequested,En=Sn.loginSucceeded,hn=Sn.logoutRequested,Tn=Sn.logoutSucceeded,On=Sn.forceLogoutRequested;function gn(){var t,n;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=(0,r.getTranslationLocale)((0,r.getRuntimeLocale)()),o.next=3,(0,e.call)(I.getTranslation,{locale:t});case 3:return n=o.sent,o.next=6,(0,e.call)(r.changeLanguage,t,n);case 6:case"end":return o.stop()}}),an)}function mn(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),sn)}var bn=regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,e.call)(gn);case 2:return t.next=4,(0,e.put)(qt({showEntry:!0}));case 4:return t.next=6,(0,e.put)(zt({loginSuccess:!1}));case 6:null==(r=(0,I.getReportManager)())||r.reportLoginFailed({type:(o=n,o instanceof I.InternalServerError?"InternalServerError":o instanceof I.Forbidden?"Forbidden":o instanceof I.Unauthoried?"Unauthoried":"Other")});case 8:case"end":return t.stop()}var o}),t)}));function yn(){var e,t,n,r,o,c,i,u,a,s,l;return regeneratorRuntime.wrap((function(f){for(;;)switch(f.prev=f.next){case 0:try{for(e=[],t=0,n=Object.entries(window.localStorage);t<n.length;t++)r=C(n[t],2),o=r[0],r[1],o.includes("MDAP_CONFIG_STORAGE_minichat_live_")&&(c=o.split("_")||[],i=c[c.length-1]||"",(u=i.split(".")||[]).length&&(a=u[0]?Number(u[0]):"",s=u[1]?Number(u[1]):"",l=u[2]?Number(u[2]):"",(a&&a<8||s&&s<5||5===s&&l&&l<6)&&e.push(o)));e.length&&e.forEach((function(e){window.localStorage.removeItem(e)}))}catch(e){console.log("删除MDAP发生错误")}case 2:case"end":return f.stop()}}),ln)}var Rn=function(e){var t,n,o=(0,I.getReportManager)(),c=window.__CHATEASY_TRANSLATION__;if(!(0,r.checkEmptyObject)(c)&&!(0,r.checkEmptyObject)(c.collection)){null==o||o.reportFetchTranslationInHtml();var i={};Object.keys(c.collection).forEach((function(e){i=Object.assign(i,c.collection[e])})),t=i,n=window.__CHATEASY_LOCALE__}return{resources:t,translationLocale:n}},An=regeneratorRuntime.mark((function t(n){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,e.call)(I.getTranslation,{locale:n});case 3:o=t.sent,t.next=11;break;case 6:return t.prev=6,t.t0=t.catch(0),t.next=10,(0,e.call)(I.getTranslation,{locale:(0,r.getTranslationLocale)((0,r.getRuntimeLocale)())});case 10:o=t.sent;case 11:if(!o){t.next=14;break}return t.next=14,(0,e.spawn)(r.setItem,"chat_translation",{resources:o,locale:n});case 14:return t.next=16,(0,e.call)(r.changeLanguage,n,o);case 16:return t.next=18,(0,e.call)(r.updateTimeLocale,n);case 18:case"end":return t.stop()}}),t,null,[[0,6]])}));function Cn(t){var n,o,c,i,u,a,s,l,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Rn(),o=n.resources,c=n.translationLocale,i=(0,I.getReportManager)(),!o){t.next=11;break}return t.next=5,(0,e.call)(r.changeLanguage,c,o);case 5:return t.next=7,(0,e.call)(r.updateTimeLocale,c);case 7:return t.next=9,(0,e.spawn)(r.setItem,"chat_translation",{resources:o,locale:c});case 9:case 25:t.next=30;break;case 11:return u=(0,r.getMallTranslationLocale)(),null==i||i.reportFetchTranslationInService(),t.next=15,(0,e.call)(r.getItem,"chat_translation");case 15:if(a=t.sent,l=(s=a||{}).resources,f=s.locale,!l||f!==u){t.next=27;break}return null==i||i.reportFetchTranslationAsync(),t.next=21,(0,e.call)(r.changeLanguage,u,l);case 21:return t.next=23,(0,e.call)(r.updateTimeLocale,u);case 23:return t.next=25,(0,e.spawn)(An,u);case 27:return null==i||i.reportFetchTranslationSync(),t.next=30,(0,e.call)(An,u);case 30:case"end":return t.stop()}}),fn)}function Pn(t,n){var o,c,i,u,a,s,l,f,_,d,p,S,v;return regeneratorRuntime.wrap((function(E){for(;;)switch(E.prev=E.next){case 0:return E.prev=0,o=n.godToken,c=t.user,i=t.show_chatbot_entrance,u=t.shop,a=void 0===u?{}:u,s=t.use_top_region_ui,l=c.id,f=c.type,_=c.locale,d=c.distribution_status,p=f===r.AccountType.SUBACCOUNT,window.__WEBCHAT_LOGIN__||p&&"working"===d&&(window.__WEBCHAT_LOGIN__=!0),E.next=8,(0,e.call)(Cn,_||"en");case 8:return performance.mark("APP_RENDERING"),(0,I.collectLoadTask)(),(0,I.mdapConfig)(f),(0,I.configTrackerUser)(c),E.next=14,(0,e.put)(Bt({includesDirectShop:s}));case 14:return E.next=16,(0,e.put)(Yt({useNewChatEntrance:i}));case 16:return E.next=18,(0,e.put)(Ft({networkStatus:"online"}));case 18:return window.addEventListener("online",(function(){Zt.store.dispatch(Ft({networkStatus:"online"}))})),window.addEventListener("offline",(function(){Zt.store.dispatch(Ft({networkStatus:"offline"}))})),window.addEventListener("message",(function(e){var t;if("captcha-modal"===(null===(t=e.data)||void 0===t?void 0:t.type)){var n,o,c,i;if(3===(null===(n=e.data)||void 0===n?void 0:n.status)){var u,a,s,l=null===(u=e.data)||void 0===u?void 0:u.AC_CERT_D;l&&(0,r.isVisitingCn)()&&tn().set("AC_CERT_D",l,{secure:!0,domain:"".concat(window.location.host),expires:new Date((new Date).getTime()+6e4)}),Zt.store.dispatch(hc()),null===(a=(s=window).closeSFUCaptchaModal)||void 0===a||a.call(s)}1===(null===(o=e.data)||void 0===o?void 0:o.status)&&(Zt.store.dispatch(vc()),null===(c=(i=window).closeSFUCaptchaModal)||void 0===c||c.call(i))}}),!1),a&&(c.shop=a),E.next=24,(0,e.put)(zt({loginSuccess:!0}));case 24:return E.next=26,(0,e.put)(qt({showEntry:!0}));case 26:return S=(0,I.normalize)("users",c),v=S.entities,E.next=29,(0,e.put)(k({entities:v}));case 29:return E.next=31,(0,r.setItem)("mini-session",t);case 31:return E.next=33,(0,e.put)(En({currentUserId:l}));case 33:return E.next=35,(0,e.call)(rr);case 35:return E.next=37,(0,e.put)((0,Et.emptyAction)());case 37:if(o){E.next=40;break}return E.next=40,(0,e.call)(Et.startConnect);case 40:return E.next=42,(0,e.spawn)(mn);case 42:if(p){E.next=45;break}return E.next=45,(0,e.call)(Et.fetchShopSettings,{payload:{shopId:c.shop_id}});case 45:return E.next=47,(0,e.spawn)(yn);case 47:window.addExternalGlobal("submitMessageFeedback",on),E.next=55;break;case 50:return E.prev=50,E.t0=E.catch(0),console.log("err",E.t0),E.next=55,(0,e.call)(bn,E.t0);case 55:return E.prev=55,E.finish(55);case 57:case"end":return E.stop()}}),_n,null,[[0,50,55,57]])}function Dn(){var t,n,o,c,i,u,a;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(s.prev=0,performance.mark("APP_PREPARED"),o={},c="",i=(0,I.getReportManager)(),!window.__WEBCHAT_SESSION__){s.next=10;break}null==i||i.reportLoginInHtml(),o=window.__WEBCHAT_SESSION__,s.next=19;break;case 10:return null==i||i.reportLoginInService(),u={method:"POST",subServer:"coreapi",resource:"login"},a=(0,r.isVisitingCNSC)()||(0,r.isVisitingKRSC)(),u.params={source:"pcmall"},a&&(u.parent="cbsc"),s.next=17,(0,e.call)(I.fetch,u);case 17:o=s.sent,window.__WEBCHAT_SESSION__=o;case 19:return performance.mark("LOGIN_API_RESPONSED"),r.LS.setItem("mini-session",JSON.stringify(o)),r.LS.setItem("chat-locale",JSON.stringify(null===(t=o)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.locale)),s.abrupt("return",{session:o,params:{godToken:c}});case 25:return s.prev=25,s.t0=s.catch(0),s.next=29,(0,e.call)(bn,s.t0);case 29:return s.prev=29,s.finish(29);case 31:case"end":return s.stop()}}),dn,null,[[0,25,29,31]])}function In(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,e.takeLatest)(vn,Dn);case 2:return t.next=4,(0,e.takeLatest)(hn,ar);case 4:return t.next=6,(0,e.takeLatest)(On,ur);case 6:case"end":return t.stop()}}),pn)}var wn,Nn,Mn=(y(rn={},Dt.LOGIN_SUCCEEDED,mt()),y(rn,Dt.LOGOUT_SUCCEEDED,(function(e){return un(un({},e),{},{currentUserId:null,performance:{},closeHangupTips:!1,hasVideoPermission:!1,captchaVisible:!1,curTabFocused:!0})})),rn),Ln=regeneratorRuntime.mark(Fn),Un=regeneratorRuntime.mark(Hn),xn=(0,x.createActions)((y(wn={},Dt.UPDATE_IS_MAIN_PAGE,(function(e){return{isMainPage:e.isMainPage}})),y(wn,Dt.UPDATE_CUR_TAB_FOCUSED,(function(e){return{focused:e.focused}})),y(wn,Dt.UPDATE_CUR_TAB_FOCUSED_SUCCEEDED,(function(e){return{curTabFocused:e.curTabFocused}})),wn)),jn=xn.updateIsMainPage,kn=xn.updateCurTabFocused,Gn=xn.updateCurTabFocusedSucceeded;function Fn(t){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n=t.payload.focused)){r.next=6;break}return r.next=4,(0,e.call)(Et.tabFocused);case 4:return r.next=6,(0,e.put)(jn({isMainPage:!0}));case 6:return r.next=8,(0,e.put)(Gn({curTabFocused:n}));case 8:case"end":return r.stop()}}),Ln)}function Hn(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,e.takeEvery)(kn,Fn);case 2:case"end":return t.stop()}}),Un)}var Yn=(y(Nn={},Dt.UPDATE_IS_MAIN_PAGE,mt()),y(Nn,Dt.UPDATE_CUR_TAB_FOCUSED_SUCCEEDED,mt()),Nn);function Bn(e){return Bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bn(e)}var Vn=/_([a-z])/g;function Wn(e){return e.includes("_")?e.replace(Vn,(function(e,t){return t.toUpperCase()})):e}function Qn(e){var t={};return Object.keys(e).forEach((function(n){var r=Wn(n);!e[n]||"object"!==Bn(e[n])||Array.isArray(e[n])?t[r]=e[n]:t[r]=Qn(e[n])})),t}var zn=(0,x.createActions)(y({},Dt.SET_SERVICE_DOWN_STATUS,(function(e){return e}))).setServiceDownStatus;window.addExternalGlobal("setServiceDownStatus",zn);var qn,Kn,Xn=y({},Dt.SET_SERVICE_DOWN_STATUS,bt("serviceDownStatus")),Jn=n(9701).t,$n=regeneratorRuntime.mark(rr),Zn=(0,x.createActions)((y(qn={},Dt.CHECK_USER_PERMISSION_SUCCEEDED,(function(e){return{responseStatus:e.responseStatus,permissions:e.permissions}})),y(qn,Dt.UPDATE_PERMISSIONS,(function(e){return{permissions:e.permissions}})),qn)),er=Zn.checkUserPermissionSucceeded,tr=Zn.updatePermissions,nr=function(){try{return r.LS.getItem("minichat-service-down")||!1}catch(e){return!1}};function rr(){var t,n,o,c,i,u,a,s,l,f,_,d,p,S,v,E,h,T,O;return regeneratorRuntime.wrap((function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,(0,e.select)(he);case 2:return t=g.sent,n=t.type,o=t.country,g.prev=4,g.next=7,(0,e.call)(I.fetch,{subServer:"coreapi",parent:"user",resource:"global_config",params:{entry_point:"pc_mall"}});case 7:return c=g.sent,u=(i=c||{}).delete_msg,a=i.seller_buyer_split,s=void 0!==a&&a,l=i.sender_feedback_reason,f=void 0===l?{}:l,_=i.block_input_box,window.__SENDER_FEEDBACK_TIMEOUT__=null==f?void 0:f.feedback_timeout,(d=Qn(c)).shouldInitFSSDK="live"!==(0,r.getRuntimeServer)(),d.chatbotToggle=r.ChatbotToggle.Disable,["waitingTimeFilter","showChatServingFeature","sellerDriverWhitelist","amsToggleStatus","senderFeedbackBotMsg","showServingTab","rcmdWhitelist"].forEach((function(e){d[e]=!1})),window.addExternalGlobal("seller_buyer_split",s),g.next=18,(0,e.put)(Jt({blockInputText:_?Jn("conversation_detail.input_field.shop_account_blocked"):""}));case 18:return"seller"===n&&(S=(p=u||{}).config_version,v=p.region_config,(E=(void 0===v?[]:v).find((function(e){return e.region===o})))&&E.duration&&(d.deleteMsg.configVersion=S,d.deleteMsg.canDelete=!0,d.deleteMsg.duration=E.duration)),g.next=21,(0,e.put)(er({responseStatus:!0,permissions:d}));case 21:if(void 0===c.br_site_close){g.next=26;break}return g.next=24,(0,e.put)(zn({alert:(null==c||null===(h=c.br_site_close)||void 0===h?void 0:h.site_close)||!1,closed:nr()}));case 24:window.__SERVICEDOWN_STATT_TIME__=(null==c||null===(T=c.br_site_close)||void 0===T?void 0:T.start_time)||0,window.__SERVICEDOWN_END_TIME__=(null==c||null===(O=c.br_site_close)||void 0===O?void 0:O.end_time)||0;case 26:g.next=32;break;case 28:return g.prev=28,g.t0=g.catch(4),g.next=32,(0,e.put)(er({responseStatus:!0,permissions:null}));case 32:case"end":return g.stop()}}),$n,null,[[4,28]])}var or=(y(Kn={},Dt.CHECK_USER_PERMISSION_SUCCEEDED,mt()),y(Kn,Dt.UPDATE_PERMISSIONS,mt()),Kn),cr=regeneratorRuntime.mark(ir);function ir(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,e.call)(I.fetch,{method:"POST",parent:"user",resource:"on_user_online"});case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:case"end":return t.stop()}}),cr,null,[[0,5]])}var ur=regeneratorRuntime.mark((function t(){var n=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.length>0&&void 0!==n[0]&&!n[0]){t.next=4;break}return t.next=4,(0,e.call)(Et.closeConnect);case 4:return t.next=6,(0,e.put)(Tn());case 6:return t.next=8,(0,e.put)(No());case 8:(0,r.removeItem)("mini-session"),(0,r.removeItem)("mini-sc_redirect");case 10:case"end":return t.stop()}}),t)})),ar=regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={server:(0,r.getSCApiServer)(),namespace:"",resource:"logout/",params:{SPC_CDS:tn().get("SPC_CDS"),SPC_CDS_VER:2}},(0,r.isVisitingCNSC)()||(0,r.isVisitingKRSC)()?(n.version="cnsc",n.parent="selleraccount"):n.version="v1",t.next=5,(0,e.call)(I.fetch,n);case 5:return document.location.replace("https://".concat((0,r.getSellerCenterUrl)(),"/account/signin")),window.removeEventListener("online",(function(){Zt.store.dispatch(Ft({networkStatus:"online"}))})),window.removeEventListener("offline",(function(){Zt.store.dispatch(Ft({networkStatus:"offline"}))})),(0,I.clearApiCache)(),t.next=11,(0,e.call)(ur);case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),t.t0.handler?(0,e.call)(t.t0.handler):console.error("[Logout Failed] ",t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])}));function sr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sr(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fr=[In,Hn],_r=(0,x.handleActions)(lr(lr(lr(lr(lr({},Yn),or),$t),Mn),Xn),{networkStatus:"online",currentUserId:null,currentUser:{},curTabFocused:!0,isMainPage:!0,subaccountHasUnrepliedPermission:!1,showAutoHangupModal:!1,hasVideoPermission:!1,hasReplyPermission:!1,shouldInitFSSDK:!1,hasDeletePermission:!1,deleteConfigVersion:0,deleteConfigDuration:0,waitingTimeFilter:!1,showCrrDue:!1,hideFeedback:!1,showChatbotLoadingTime:0,disappearChatbotLoadingTime:0,textMaxInputLengh:600,loginSuccess:!0,showChatWindow:!1,showConversationDetail:!0,showEntry:!1,hasFetchedUnread:!1,hasSidebarPanel:!1,firstClickEntry:!1,serviceDownStatus:{alert:!1,closed:!1,list:!1,message:!1},permissions:null}),dr=function(e){return(0,t.createSelector)(h,(function(t){return(0,Z.denormalize)(e,I.shopSchema,{shops:t})}))},pr=function(e){var t;return(null==e||null===(t=e.shopReducer)||void 0===t?void 0:t.fetchedShopIds)||[]},Sr=function(e){var t;return(null==e||null===(t=e.shopReducer)||void 0===t?void 0:t.shopFilter)||null},vr=regeneratorRuntime.mark(gr),Er=regeneratorRuntime.mark(br);function hr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hr(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Or=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n){(0,I.fetch)({parent:"conversation",resource:"unread-counts",params:Tr({shop_ids:JSON.stringify(e)},t)}).then((function(e){var t=e["unread-counts"];n(void 0===t?[]:t)})).catch((function(){n([])}))}))};function gr(t){var n,r,o,c;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.payload.shopId,i.prev=1,i.next=4,(0,e.select)(dr(n));case 4:return r=i.sent,i.next=7,(0,e.call)(I.fetch,{resource:"shop",id:n,params:{need_cache:1,cache_expires:600}});case 7:return r=i.sent,o=(0,I.normalize)("shops",r),c=o.entities,i.next=11,(0,e.put)(k({entities:c}));case 11:return i.next=13,(0,e.put)((0,Et.updateFetchedShopIds)({shopIds:[r.id]}));case 13:return i.abrupt("return",r);case 16:return i.prev=16,i.t0=i.catch(1),i.abrupt("return",{});case 19:case"end":return i.stop()}}),vr,null,[[1,16]])}var mr=function(e){var t=e.shopIds,n={ids:JSON.stringify(t)};return new Promise((function(e){(0,I.fetch)({resource:"shop_list",params:n}).then((function(t){var n=t.shops;e(void 0===n?[]:n)})).catch((function(){e([])}))}))};function br(t){var n,r;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.payload.shopId,o.prev=1,o.next=4,(0,e.call)(I.fetch,{parent:"shop",parentId:n,resource:"auth"});case 4:return r=o.sent,o.abrupt("return",r);case 8:return o.prev=8,o.t0=o.catch(1),o.abrupt("return",{});case 11:case"end":return o.stop()}}),Er,null,[[1,8]])}var yr,Rr,Ar=function(e){return e.toastReducer.toast},Cr=n(9701).t,Pr=function(e,t){var n={};if(t){switch(t.type){case"auto-reply":e?t.first&&"enabled"===t.action?(n.message=Cr("settings.enable_auto_reply_successfully"),n.show=!0):(n.message="",n.show=!1):(t.first&&"enabled"===t.action?n.message=Cr("settings.failed_to_enable_auto_reply"):n.message="enabled"===t.action?Cr("settings.failed_to_enable"):Cr("settings.failed_to_disable"),n.show=!0);break;case"message":n.message=e?"save"===t.action?Cr("settings.message.save_successfully"):"delete"===t.action?Cr("settings.message.delete_successfully"):Cr("settings.message.import_successfully"):"save"===t.action?Cr("settings.message.failed_to_save"):"delete"===t.action?Cr("settings.message.failed_to_delete"):Cr("settings.message.failed_to_import"),n.show=!0;break;case"message-tips":e?(n.message="",n.show=!1):(n.message="enabled"===t.action?Cr("settings.failed_to_enable"):Cr("settings.failed_to_disable"),n.show=!0);break;case"forward":e||(n.message=403===t.status?Cr("forward.exception",{forwardName:""}):Cr("forward.server_error"),n.show=!0);break;case"send-feedback":n.message=Cr("feedback_modal.error.failed_to_send"),n.show=!0;break;case"server-error-tips":n.message=Cr("common.server_error.warning_tips"),n.show=!0;break;case"conversation-closed-tip":n.message=Cr("conversation_detail.closed.warning_tips"),n.show=!0;break;case"permission-denied":n.message=Cr("common.permission_denied"),n.show=!0;break;case"claim-voucher":n.message=Cr(e?"voucher.claim.success":"voucher.claim.fail"),n.show=!0;break;case"claim-voucher-not-satisfy":n.message=Cr("voucher.claim.fail_not_satisfy_rule"),n.show=!0;break;case"claim-voucher-already-claimed":n.message=Cr("voucher.claim.fail_already_claimed"),n.show=!0;break;case"claim-voucher-no-longer-valid":n.message="claim_voucher.error.no_longer_valid",n.show=!0;break;case"claim-voucher-failed":n.message="claim_voucher.error.failed",n.show=!0;break;case"private-image":n.message=Cr("common.image.expired"),n.show=!0;break;case"operation":"save"===t.action&&(n.message=Cr(e?"text.save_successfully":"text.save_failed")),n.show=!0;break;default:n.message=t.message,n.show=!0}n.type=e?"success":"fail"}return n};!function(e){e.COPY_SUCCEED_FEEDBACK="COPY_SUCCEED_FEEDBACK",e.SET_TOAST_INFORMATION="SET_TOAST_INFORMATION",e.SET_TOAST_INFORMATION_SUCCEEDED="SET_TOAST_INFORMATION_SUCCEEDED"}(yr||(yr={}));var Dr=(0,x.createActions)((y(Rr={},yr.COPY_SUCCEED_FEEDBACK,(function(){return{}})),y(Rr,yr.SET_TOAST_INFORMATION,(function(e){return{type:e.type,error:e.error,toast:e.toast,extra:e.extra}})),y(Rr,yr.SET_TOAST_INFORMATION_SUCCEEDED,(function(e){return{toast:e.toast}})),Rr)),Ir=Dr.copySucceedFeedback,wr=Dr.setToastInformation,Nr=Dr.setToastInformationSucceeded,Mr=regeneratorRuntime.mark(Ur),Lr=regeneratorRuntime.mark(xr);function Ur(t){var n,r,o,c,i,u;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,r=n.type,o=n.error,c=n.toast,i=n.extra,a.next=3,(0,e.select)(Ue);case 3:if(!a.sent){a.next=11;break}return u=null,r&&(u=Pr(!1,{type:r})),void 0!==o&&(u=o instanceof I.CustomError||o instanceof I.Webview?o.handler(null==i?void 0:i.toShopId):Pr(!1,{type:"server-error-tips"})),c&&(u=c),a.next=11,(0,e.put)(Nr({toast:u}));case 11:case"end":return a.stop()}}),Mr)}function xr(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,e.takeEvery)(wr,Ur);case 2:case"end":return t.stop()}}),Lr)}var jr=y({},yr.SET_TOAST_INFORMATION_SUCCEEDED,mt()),kr=n(9701).t,Gr=regeneratorRuntime.mark(Hr),Fr=regeneratorRuntime.mark(Yr);function Hr(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,e.put)(wr({toast:Pr(!0,{message:kr("common.successful_copied")})}));case 2:case"end":return t.stop()}}),Gr)}function Yr(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,e.takeEvery)(Ir,Hr);case 2:case"end":return t.stop()}}),Fr)}function Br(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Vr=[xr,Yr],Wr=(0,x.handleActions)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Br(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Br(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},jr),{toast:{type:"",message:"",show:!1}});function Qr(e){return function(e){if(Array.isArray(e))return R(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||A(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var zr,qr=function(e){return e.messageShortcutGroupReducer||{groups:[],status:"",currentGroupType:-1,currentGroupId:-1}},Kr=(0,t.createSelector)(qr,(function(e){return e.status})),Xr=(0,t.createSelector)(qr,(function(e){return e.currentGroupType})),Jr=(0,t.createSelector)(qr,(function(e){return e.currentGroupId})),$r=(0,t.createSelector)(qr,(function(e){return e.groups})),Zr=(0,t.createSelector)($r,(function(e){return e.filter((function(e){return e.group_type===r.MessageShortcutGroupType.PERSONAL}))})),eo=(0,t.createSelector)($r,(function(e){return e.filter((function(e){return e.group_type===r.MessageShortcutGroupType.TEAM}))})),to=(0,t.createSelector)($r,Xr,(function(e,t){return-1===t?e:e.filter((function(e){return e.group_type===t}))})),no=(0,t.createSelector)(Zr,(function(e){return e.reduce((function(e,t){var n=t.message_shortcuts,r=void 0===n?[]:n;return e.concat(r)}),[])})),ro=(0,t.createSelector)(eo,(function(e){return e.reduce((function(e,t){var n=t.message_shortcuts,r=void 0===n?[]:n;return e.concat(r)}),[])})),oo=(0,t.createSelector)(no,ro,(function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return[].concat(Qr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]),Qr(e))})),co=(0,t.createSelector)(oo,(function(e){var t=e.filter((function(e){return!(null==e||!e.pin_time)})).sort((function(e,t){return e.pin_time-t.pin_time})),n=e.filter((function(e){return!(null!=e&&e.pin_time)}));return[].concat(Qr(t),Qr(n))})),io=(0,t.createSelector)(co,Xr,Jr,(function(e,t,n){var r=-1===t?e:e.filter((function(e){return e.group_type===t}));return-1===n?r:r.filter((function(e){return e.groupId===n}))})),uo=function(e){var t;return(null==e||null===(t=e.settingsReducer)||void 0===t?void 0:t.settings)||{}},ao=function(e){var t;return(null==e||null===(t=e.settingsReducer)||void 0===t?void 0:t.needForceUpdate)||!1},so=function(e){var t;return(null==e||null===(t=e.settingsReducer)||void 0===t?void 0:t.status)||""},lo=function(e){var t;return(null==e||null===(t=e.settingsReducer)||void 0===t?void 0:t.fetchStatus)||""},fo=(0,t.createSelector)(uo,(function(e){return e.auto_translation_status||""})),_o=(0,t.createSelector)(uo,(function(e){return e.message_shortcuts_status||""})),po=(0,t.createSelector)(uo,(function(e){return e.legacy_message_shortcuts_count||0})),So=(0,t.createSelector)(uo,(function(e){return e.distribution_account_status||"enabled"})),vo=(0,t.createSelector)(uo,(function(e){return e.display_banner||!1})),Eo=(0,t.createSelector)(uo,(function(e){return e.has_binded_direct_shop||!1})),ho=regeneratorRuntime.mark(To);function To(){var t,n,o;return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,(0,e.put)((0,Et.fetchSettingsStatus)({fetchStatus:r.DataFetchStatus.PENDING}));case 3:return t=Date.now(),c.next=6,(0,e.call)(I.fetch,{parent:"user",resource:"setting"});case 6:return n=c.sent,null==(o=(0,I.getReportManager)())||o.reportUserSettingApi(Date.now()-t),c.next=11,(0,e.put)((0,Et.fetchSettingsSucceeded)({settings:n,fetchStatus:r.DataFetchStatus.SUCCEED,timestamp:Date.now(),needForceUpdate:!1}));case 11:return c.abrupt("return",n);case 14:return c.prev=14,c.t0=c.catch(0),c.next=18,(0,e.put)((0,Et.fetchSettingsStatus)({fetchStatus:r.DataFetchStatus.FAILED}));case 18:return c.abrupt("return",{});case 19:case"end":return c.stop()}}),ho,null,[[0,14]])}!function(e){e.HANDLE_401_ERROR_REQUESTED="HANDLE_401_ERROR_REQUESTED",e.UPDATE_CONVERSATION_LISTS_HASH="UPDATE_CONVERSATION_LISTS_HASH",e.OPEN_MALL_URL="OPEN_MALL_URL"}(zr||(zr={}));var Oo=regeneratorRuntime.mark(yo),go=regeneratorRuntime.mark(Ro),mo=(0,x.createActions)(y({},zr.OPEN_MALL_URL,(function(e){return{path:e.path,region:e.region,isAbsolute:e.isAbsolute}}))).openMallUrl,bo="xiapibuy.com";function yo(t){var n,o,c,i,u,a,s,l,f,_,d,p,S;return regeneratorRuntime.wrap((function(v){for(;;)switch(v.prev=v.next){case 0:if(n=t.payload,o=n.path,c=void 0===o?"":o,i=n.region,u=void 0===i?"":i,void 0===(a=n.isAbsolute)||!a){v.next=4;break}return window.open(c),v.abrupt("return");case 4:if("cn"!==(s=u?u.toLowerCase():(0,r.getRuntimeRegion)())&&"kr"!==s||(s="my"),f=c?c.startsWith("/")?c:"/".concat(c):"",!(0,r.isVisitingCn)()){v.next=24;break}return v.prev=8,v.next=11,(0,e.call)(I.fetch,{url:"https://".concat((0,r.getSCApiServer)(),"/selleraccount/nonce/get/")});case 11:_=v.sent,d=_.data,p="".concat((0,r.cnDomainHash)(s),".").concat((0,r.envPrefix)()).concat(bo),S=encodeURIComponent(window.btoa('{"next":"https://'.concat(p).concat(f,'"}'))),f="/api/seller_platform/nonce/callback/?nonce=".concat(d.nonce,"&region=").concat(s,"&state=").concat(S),l="https://".concat(p).concat(f),v.next=22;break;case 19:v.prev=19,v.t0=v.catch(8),l="https://".concat((0,r.cnDomainHash)(s),".").concat((0,r.envPrefix)()).concat(bo).concat(f);case 22:v.next=25;break;case 24:l="kh"===s?"https://".concat((0,r.domainPrefix)()).concat((0,r.domainSuffix)(s)).concat(f):"https://".concat((0,r.domainPrefix)(),".").concat((0,r.domainSuffix)(s)).concat(f);case 25:window.open(l);case 26:case"end":return v.stop()}}),Oo,null,[[8,19]])}function Ro(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,e.takeEvery)(mo,yo);case 2:case"end":return t.stop()}}),go)}var Ao=(0,x.createActions)(y({},zr.HANDLE_401_ERROR_REQUESTED,(function(e){return{resource:e.resource}}))).handle401ErrorRequested,Co=(0,x.createActions)(y({},zr.UPDATE_CONVERSATION_LISTS_HASH,(function(){return{}}))).updateConversationListsHash,Po=[Ro],Do=(0,t.createSelector)(c,(function(e){return e.offers||{}})),Io=function(e,n,o,c){return(0,t.createSelector)(Do,(function(t){return Object.values(t).filter((function(t){return t.product_id===c&&t.model_id===n&&t.conversation_id===e&&t.id!==o&&t.status===r.OfferStatus.PENDING}))}))},wo=function(e){return(0,t.createSelector)(c,(function(t){return(0,Z.denormalize)(e,I.offerSchema,t)}))},No=(0,x.createActions)({REDUX_RESET:function(){return{}}}).reduxReset;window.addExternalGlobal("resetAction",No);var Mo={},Lo=function(e){var t;return(null===(t=e.draftReducer)||void 0===t?void 0:t.draftHash)||Mo},Uo=function(e){return(0,t.createSelector)(Lo,(function(t){return t[e]||""}))},xo=function(e){var t;return(null==e||null===(t=e.translatePreferenceReducer)||void 0===t?void 0:t.translationSettings)||{}},jo=function(e){var t;return(null==e||null===(t=e.translatePreferenceReducer)||void 0===t?void 0:t.fetchSettingsStatus)||""},ko=function(e){var t;return(null==e||null===(t=e.translatePreferenceReducer)||void 0===t?void 0:t.updateStatus)||""},Go=regeneratorRuntime.mark(Yo);function Fo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ho(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fo(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yo(t,n,r){var o,c,i,u,a=arguments;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return o=a.length>3&&void 0!==a[3]?a[3]:[],c=t,i=[],u=[],Array.isArray(t)&&(c=((0,I.normalize)(r,t).entities||{})[r]||{}),n.forEach((function(t){var n=t.id,a=c[n];a?["conversations","agentConversations"].includes(r)&&(void 0!==a.faking||a.latestMessageStatus||void 0!==a.unreplied)?(delete(t=Ho(Ho({},a),t)).faking,delete t.latestMessageStatus,delete t.unreplied,t.manual&&(delete t.manual,t.unreplied=!1),u.push(t)):(o.length&&o.forEach((function(e){t[e]=a[e]})),i.push((0,e.put)(G({name:r,id:n,record:Ho({},t)})))):u.push(t)})),u.length&&i.push((0,e.put)(k({entities:(0,I.normalize)(r,u).entities}))),s.next=9,(0,e.all)(i);case 9:case"end":return s.stop()}}),Go)}var Bo,Vo,Wo=function(e){return(0,t.createSelector)(d,(function(t){return(0,Z.denormalize)(e,[I.productSchema],{products:t})}))},Qo=function(e){return(0,t.createSelector)(_,(function(t){return(0,Z.denormalize)(e,[I.orderSchema],{orders:t})}))},zo=function(e){return e.reportReducer.beingReported};!function(e){e.REPORT_REQUESTED="REPORT_REQUESTED",e.CLEAR_REPORT_REQUESTED="CLEAR_REPORT_REQUESTED"}(Bo||(Bo={}));var qo,Ko=(0,x.createActions)((y(Vo={},Bo.REPORT_REQUESTED,(function(e){return{event_time:e.event_time,url:e.url}})),y(Vo,Bo.CLEAR_REPORT_REQUESTED,(function(){return{}})),Vo)),Xo=Ko.reportRequested,Jo=Ko.clearReportRequested,$o=regeneratorRuntime.mark(nc),Zo=regeneratorRuntime.mark(rc);function ec(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ec(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ec(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nc(){var t,n;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,e.select)(zo);case 2:if(!(t=o.sent).length){o.next=10;break}return n=Qr(t),o.next=7,(0,e.put)(Jo());case 7:return n.sort((function(e,t){return Number(t.event_time)-Number(e.event_time)})),o.next=10,(0,e.call)(I.fetch,{method:"POST",subServer:"coreapi",parent:"user",resource:"report_active",payload:JSON.stringify(tc(tc({},n[0]),{},{platform_id:(0,r.isVisitingCNSC)()||(0,r.isVisitingKRSC)()?2:1}))});case 10:case"end":return o.stop()}}),$o)}function rc(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,(0,e.delay)(6e4);case 3:return t.next=5,nc();case 5:t.next=0;break;case 7:case"end":return t.stop()}}),Zo)}var oc=(y(qo={},Bo.REPORT_REQUESTED,(function(e,t){var n=t.payload,r=n.event_time,o=n.url;return{beingReported:[].concat(Qr(e.beingReported),[{event_time:r,url:o}])}})),y(qo,Bo.CLEAR_REPORT_REQUESTED,(function(e){return{beingReported:[]}})),qo);function cc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ic,uc,ac=[rc],sc=(0,x.handleActions)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cc(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},oc),{beingReported:[]});function lc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lc(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.ADD_NEED_CAPTCHA_REQUEST="ADD_NEED_CAPTCHA_REQUEST",e.DELETE_CAPTCHA_REQUEST="DELETE_CAPTCHA_REQUEST",e.CLEAR_NEED_CAPTCHA_REQUEST="CLEAR_NEED_CAPTCHA_REQUEST",e.RESEND_NEED_CAPTCHA_REQUEST="RESEND_NEED_CAPTCHA_REQUEST"}(ic||(ic={}));var _c,dc=(y(uc={},ic.ADD_NEED_CAPTCHA_REQUEST,(function(e,t){var n=t.payload.request,r=Qr(e.verifyRequests);return r.push(n),fc(fc({},e),{},{verifyRequests:r})})),y(uc,ic.DELETE_CAPTCHA_REQUEST,(function(e){var t=Qr(e.verifyRequests);return t.pop(),fc(fc({},e),{},{verifyRequests:t})})),y(uc,ic.CLEAR_NEED_CAPTCHA_REQUEST,(function(e){return fc(fc({},e),{},{verifyRequests:[]})})),uc),pc=(0,x.createActions)((y(_c={},ic.ADD_NEED_CAPTCHA_REQUEST,(function(e){return{request:e.request}})),y(_c,ic.DELETE_CAPTCHA_REQUEST,(function(){return{}})),y(_c,ic.CLEAR_NEED_CAPTCHA_REQUEST,(function(){return{}})),y(_c,ic.RESEND_NEED_CAPTCHA_REQUEST,(function(){return{}})),_c)),Sc=pc.addNeedCaptchaRequest,vc=pc.deleteCaptchaRequest,Ec=pc.clearNeedCaptchaRequest,hc=pc.resendNeedCaptchaRequest,Tc=regeneratorRuntime.mark(bc),Oc=regeneratorRuntime.mark(yc);function gc(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return mc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mc(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,i=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){u=!0,c=e},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw c}}}}function mc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bc(){var t,n,r,o,c,i;return regeneratorRuntime.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,(0,e.select)(Pc);case 3:if(!(t=u.sent).length){u.next=50;break}return u.next=7,(0,e.put)(Ec());case 7:n=gc(t),u.prev=8,n.s();case 10:if((r=n.n()).done){u.next=42;break}o=r.value,c=o.id,i=o.extra,u.t0=c,u.next="unread-count"===u.t0?16:"unread-count-single"===u.t0?19:"send-message"===u.t0?22:"orders_by_buyer"===u.t0||"purchased_list"===u.t0?25:"fill-handler"===u.t0?28:"top-banner"===u.t0?31:"update_price_for_invite_order"===u.t0?34:"item-list-my-shop"===u.t0||"item-list-other-shop"===u.t0?37:40;break;case 16:return u.next=18,(0,e.spawn)(Et.doRefreshTotalUnreadConversationsCount,i);case 18:return u.abrupt("break",40);case 19:return u.next=21,(0,e.spawn)(doRefreshSingleShopUnreadConversationCount,i);case 21:return u.abrupt("break",40);case 22:return u.next=24,(0,e.put)((0,Et.resendMessageRequested)(i));case 24:return u.abrupt("break",40);case 25:return u.next=27,(0,e.put)((0,Et.fetchOrdersRequested)(i));case 27:return u.abrupt("break",40);case 28:return u.next=30,(0,e.call)(Et.fillActionHandler,i);case 30:return u.abrupt("break",40);case 31:return u.next=33,(0,e.put)((0,Et.fetchTopBannerInfo)(i));case 33:return u.abrupt("break",40);case 34:return u.next=36,(0,e.spawn)(Et.updateInviteOrderPrice,i);case 36:return u.abrupt("break",40);case 37:return u.next=39,(0,e.put)((0,Et.fetchProductsRequested)(i));case 39:return u.abrupt("break",40);case 40:u.next=10;break;case 42:u.next=47;break;case 44:u.prev=44,u.t1=u.catch(8),n.e(u.t1);case 47:return u.prev=47,n.f(),u.finish(47);case 50:u.next=54;break;case 52:u.prev=52,u.t2=u.catch(0);case 54:case"end":return u.stop()}}),Tc,null,[[0,52],[8,44,47,50]])}function yc(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,e.takeEvery)(hc,bc);case 2:case"end":return t.stop()}}),Oc)}function Rc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ac=(0,x.handleActions)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rc(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},dc),{verifyRequests:[]}),Cc=[yc],Pc=function(e){return e.captchaVerifyReducer.verifyRequests},Dc=function(e){var t;return(null===(t=e.translateReducer)||void 0===t?void 0:t.showOriginalMessages)||{}},Ic=n(8156),wc=n(4756),Nc=n(8446),Mc=n.n(Nc),Lc=function(){var e=(0,wc.useSelector)(he,Mc());return(0,Ic.useMemo)((function(){var t=e,n=t.id,o=t.type,c=t.role,i=t.is_cb;return{userId:n,locale:t.locale,isSubAccount:(0,r.isSubaccount)(o),isCbAccount:i,isMainSubAccount:(0,r.isMainSubaccount)(o,c)}}),[e])},Uc=function(){var e=Lc(),t=e.isSubAccount,n=e.isCbAccount,r=(0,wc.useSelector)(Ae);return(0,Ic.useMemo)((function(){return t&&(n||r)}),[t,n,r])};function xc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xc(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var kc=function(){var e=(0,wc.useSelector)(ae,Mc()),t=Lc().isMainSubAccount,n=(e||{}).showMonitorMode,o=void 0!==n&&n,c=(0,wc.useSelector)(ee);return(0,Ic.useMemo)((function(){return t&&o&&c===r.UserMode.MONITOR?jc(jc({},e||{}),{},{chatListRevamp:!0,showServingTab:!0}):e||{}}),[c,t,o,e])},Gc=function(e){var t=C((0,Ic.useState)(null),2),n=t[0],o=t[1];return(0,Ic.useEffect)((function(){var t,n="tab_".concat(e),r=function(){var e=document.getElementById(n);e&&(o(e),t&&t.disconnect())};return document.getElementById(n)?r():(t=new MutationObserver(r)).observe(document.body,{childList:!0,subtree:!0}),function(){var e;return null===(e=t)||void 0===e?void 0:e.disconnect()}}),[e]),(0,r.isElementVisibleAtLeast)(n)},Fc=function(e){var t=e.mode,n=e.activeTab,o=e.activeListTab,c=Lc(),i=c.isSubAccount,u=c.isMainSubAccount,a=kc(),s=a.showMonitorMode,l=void 0!==s&&s,f=a.showServingTab;return(0,Ic.useMemo)((function(){return i?u&&l&&t===r.UserMode.MONITOR?o===r.ConversationListTab.TODAY?r.ConversationTypeEnum.ServingToday:r.ConversationTypeEnum.Normal:n===r.ConversationTab.CUSTOMER?r.ConversationTypeEnum.Normal:r.ConversationTypeEnum.Agent:f&&o===r.ConversationListTab.TODAY?r.ConversationTypeEnum.ServingToday:r.ConversationTypeEnum.Normal}),[t,i,u,l,f,n,o])},Hc=function(){var e=Lc().isMainSubAccount,t=kc().showMonitorMode,n=void 0!==t&&t,o=(0,wc.useSelector)(ee);return(0,Ic.useMemo)((function(){return e&&n&&o===r.UserMode.MONITOR}),[o,e,n])},Yc=function(e){return(0,wc.useSelector)(Lo,Mc())[e]||""},Bc={},Vc=function(e){return e.closeReasonReducer&&e.closeReasonReducer.status},Wc=function(e){var t;return(null===(t=e.closeReasonReducer)||void 0===t?void 0:t.closeReasonEditingCache)||Bc},Qc=function(e){var t=(0,wc.useSelector)(Vc,Mc()),n=((0,wc.useSelector)(Wc,Mc())[e]||{}).isEditing;return"enabled"===t&&!!n},zc=["banned","frozen"],qc=function(e){var t=e.status,n=e.userStatus,o=e.isBlocked,c=Lc().isSubAccount;return"closed"===t?"closed":zc.includes(n)?n:!(0,r.isVisitingCNSC)()&&c||!o?"":"blocked"},Kc=[].concat(Qr(zc),["blocked"]),Xc=function(e){var t=e.dueTag,n=e.conversationStatus;return t&&!Kc.includes(n)?t:""},Jc=function(){var e=(0,wc.useSelector)(Sr,Mc());return{noShopFilter:(0,r.checkEmptyObject)(e),shopFilter:e}},$c=function(e){var t=e.unreadCount,n=e.sellerUnreadStatus;return(0,r.isConversationUnread)({unread_count:t,seller_unread_status:n})},Zc=function(e,t){var n=((0,wc.useSelector)(xo,Mc())[e]||{}).autoTranslationStatus;return t!==r.BizIdEnum.Buyer&&t!==r.BizIdEnum.SubAccount||n===r.SwitchStatus.ENABLED},ei="function"==typeof IntersectionObserver;function ti(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=C((0,Ic.useState)(!1),2),n=t[0],r=t[1],o=(0,Ic.useRef)(null),c=(0,Ic.useRef)(null),i=e.root,u=void 0===i?null:i,a=e.rootMargin,s=void 0===a?"0px":a,l=e.threshold,f=void 0===l?1:l,_=e.once,d=void 0!==_&&_,p=e.onIntersect,S=(0,Ic.useCallback)((function(e,t){var n=C(e,1)[0];null!=n&&n.isIntersecting&&(null==n?void 0:n.intersectionRatio)>=1?(r(!0),null==p||p(n,t),d&&(t.unobserve(n.target),c.current=null)):r(!1)}),[d,p]);return(0,Ic.useEffect)((function(){if(ei&&o.current){c.current&&c.current.disconnect(),c.current=new IntersectionObserver(S,{root:u,rootMargin:s,threshold:f});var e=c.current,t=o.current;return e.observe(t),function(){ei&&(e.disconnect(),c.current=null)}}}),[u,s,f,S]),[o,n]}var ni=function(e,t){var n=(0,Ic.useRef)(null),r=(0,Ic.useCallback)((function(){for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];n.current&&clearTimeout(n.current),n.current=setTimeout((function(){e.apply(void 0,o)}),t)}),[e,t]);return(0,Ic.useEffect)((function(){return function(){n.current&&clearTimeout(n.current)}}),[]),r};function ri(e){var t=(0,Ic.useRef)(e);t.current=e;var n=(0,Ic.useRef)();return n.current||(n.current=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.current.apply(this,n)}),n.current}var oi=regeneratorRuntime.mark(ci);function ci(t,n,r){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,e.takeEvery)(t,regeneratorRuntime.mark((function t(o){var c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=o.payload.id){t.next=5;break}return t.next=4,(0,e.call)(n,o);case 4:return t.abrupt("return");case 5:return t.next=7,(0,e.race)({task:(0,e.call)(n,o),cancel:(0,e.take)((function(e){return e.type===r.toString()&&e.payload.id===c}))});case 7:case"end":return t.stop()}}),t)})));case 2:case"end":return o.stop()}}),oi)}}(),S}())},53402:function(e,t,n){"use strict";e.exports=n(88377)},20432:function(e,t,n){var r,o,c;e.exports=(r=n(94184),o=n(86843),c=n(39637),function(){var e={747:function(e){e.exports='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M6.1742 11.2772C4.96284 8.36079 0 8.34581 0 8.34581C0 8.34581 3.07119 8.53866 5.21442 6.87251C7.35764 5.20656 7.36409 0.432297 7.36409 0.432297C7.36409 0.432297 7.68774 5.90341 9.70171 6.87251C11.7157 7.8418 14.3662 8.21621 14.3662 8.21621C14.3662 8.21621 9.63009 8.90508 8.68933 11.2772C7.74857 13.6492 7.51358 16.0001 7.51358 16.0001C7.51358 16.0001 7.38554 14.1937 6.1742 11.2772Z" fill="url(#paint0_linear_737_107180)"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3594 4.82011C11.821 3.52388 9.61523 3.51722 9.61523 3.51722C9.61523 3.51722 10.9802 3.60293 11.9328 2.8624C12.8854 2.12195 12.8883 0 12.8883 0C12.8883 0 13.0321 2.43168 13.9272 2.8624C14.8224 3.29321 16.0004 3.45961 16.0004 3.45961C16.0004 3.45961 13.8954 3.76579 13.4773 4.82011C13.0591 5.87434 12.9547 6.91923 12.9547 6.91923C12.9547 6.91923 12.8978 6.11634 12.3594 4.82011Z" fill="url(#paint1_linear_737_107180)"></path><defs><linearGradient id="paint0_linear_737_107180" x1="14.9539" y1="1.13993" x2="7.29229" y2="8.73387" gradientUnits="userSpaceOnUse"><stop stop-color="#EEC42D"></stop><stop offset="1" stop-color="#EE4D2D"></stop></linearGradient><linearGradient id="paint1_linear_737_107180" x1="16.2616" y1="0.314511" x2="12.8563" y2="3.68969" gradientUnits="userSpaceOnUse"><stop stop-color="#EEC42D"></stop><stop offset="1" stop-color="#EE4D2D"></stop></linearGradient></defs></svg>'},8288:function(e){e.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" class="chat-icon"><g clip-path="url(#clip0_265_12873)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15.126 16.187a.75.75 0 101.061-1.06L11.06 10l5.127-5.127a.75.75 0 00-1.06-1.06L10 8.939 4.873 3.813a.75.75 0 10-1.06 1.06L8.939 10l-5.126 5.127a.75.75 0 001.06 1.06L10 11.061l5.126 5.126z"></path></g><defs><clipPath><path d="M0 0h20v20H0z"></path></clipPath></defs></svg>'},2828:function(e){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" class="chat-icon"><path d="M7 0a7 7 0 110 14A7 7 0 017 0zm0 6.292L4.88 4.172a.5.5 0 00-.765.637l.058.07L6.292 7l-2.12 2.121a.5.5 0 00.637.765l.07-.058L7 7.708l2.121 2.12a.5.5 0 00.765-.637l-.058-.07L7.708 7l2.12-2.121a.5.5 0 00-.637-.765l-.07.058-2.12 2.12-2.122-2.12L7 6.292z"></path></svg>'},9447:function(e){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" class="chat-icon"><path d="M7 0a7 7 0 110 14A7 7 0 017 0zm.302 9.56c-.16.183-.299.275-.39.275-.046 0-.07 0-.115-.023-.046-.023-.046-.069-.046-.138s.023-.252.092-.504c.023-.092.069-.276.138-.528l.825-3.004-.458.091c-.161.023-.436.07-.803.115-.39.046-.665.069-.872.092v.275c.23 0 .39.023.482.069.092.046.137.114.137.252v.069c0 .023 0 .046-.022.092l-.643 2.385c-.046.183-.091.321-.114.413a1.882 1.882 0 00-.07.413c0 .252.07.435.23.55.16.115.321.183.528.183.344 0 .665-.137.963-.435.184-.184.436-.528.78-1.032l-.23-.16c-.114.183-.275.366-.412.55zm-.108-6.198a.711.711 0 00-.532.218.711.711 0 00-.218.532c0 .218.072.388.218.533a.711.711 0 00.532.218.711.711 0 00.532-.218.711.711 0 00.218-.532.711.711 0 00-.218-.533.711.711 0 00-.532-.218z"></path></svg>'},3941:function(e){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 14" class="chat-icon"><path d="M13.582 4.276a6.977 6.977 0 00-1.5-2.225A6.977 6.977 0 007.131 0a6.956 6.956 0 00-4.95 2.051A6.977 6.977 0 00.13 7.001a6.956 6.956 0 002.05 4.95A6.988 6.988 0 007.132 14c.945 0 1.863-.185 2.726-.55a6.951 6.951 0 002.224-1.5A6.988 6.988 0 0014.131 7c0-.944-.183-1.862-.549-2.724zm-6.45 6.663a.876.876 0 11.001-1.752.876.876 0 01-.002 1.752zm.875-7.004c0 .002 0 .002 0 0v.012a.793.793 0 01-.016.152l-.425 3.825a.438.438 0 01-.87.001l-.425-3.824a.793.793 0 01-.015-.152v-.034a.876.876 0 011.75 0v.02z"></path></svg>'},2248:function(e){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" class="chat-icon"><path d="M7 0a7 7 0 110 14A7 7 0 017 0zm3.146 4.929L6.097 8.978 3.854 6.734a.5.5 0 10-.708.707l2.598 2.598a.5.5 0 00.707 0l4.403-4.403a.5.5 0 00-.708-.707z"></path></svg>'},8310:function(e){"use strict";e.exports=r},8156:function(e){"use strict";e.exports=o},3546:function(e){"use strict";e.exports=c}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var c=t[r]={exports:{}};return e[r](c,c.exports,n),c.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return function(){"use strict";n.r(i),n.d(i,{default:function(){return m}});var e=n(3546),t=n.n(e),r=n(8156),o=n.n(r),c=n(8310),u=n.n(c),a=n(2248),s=n.n(a),l=n(2828),f=n.n(l),_=n(3941),d=n.n(_),p=n(9447),S=n.n(p),v=n(8288),E=n.n(v),h=n(747),T=n.n(h),O={root:"qk8HcS1veu",content:"i6xFxbUJy0","msg-alert":"V8PYjKIzUj",msgAlert:"V8PYjKIzUj",normal:"uEVHwkddgf",success:"CYIOIVrUNV",error:"qATiJNvRcf",warn:"NE4XGeVE_4",info:"SGbCqUvg1s",highlight:"Izu_vioI6K",icon:"NLSosCWzVU","alert-icon":"n9Uin1AXqK NLSosCWzVU",alertIcon:"n9Uin1AXqK NLSosCWzVU","enhancement-noti":"wV3pYzF2jp",enhancementNoti:"wV3pYzF2jp","alert-icon-success":"BqNuyihNZm",alertIconSuccess:"BqNuyihNZm","alert-icon-error":"ilWTKnVD2h",alertIconError:"ilWTKnVD2h","alert-icon-info":"TWDtL150yN",alertIconInfo:"TWDtL150yN","alert-icon-warn":"MVyhYgfTfW",alertIconWarn:"MVyhYgfTfW","alert-icon-highlight":"eDMQORPAKn",alertIconHighlight:"eDMQORPAKn","alert-close":"od5EZwbuyM",alertClose:"od5EZwbuyM","close-icon":"Yi576Kxch2 NLSosCWzVU",closeIcon:"Yi576Kxch2 NLSosCWzVU","need-float":"tyGNDMk_QD",needFloat:"tyGNDMk_QD"},g={success:s(),error:f(),info:S(),warn:d(),highlight:T()},m=function(e){var n=e.type,r=void 0===n?"warn":n,c=e.showIcon,i=e.closeable,a=e.onClose,s=e.content,l=e.icon,f=e.isBar,_=e.needFloat,d=e.className,p=e.contentClassName,S=e.keepBackground,v=void 0!==S&&S;if(!s)return null;var h=u()(O.icon,O["alert-icon-".concat(r)],O.alertIcon,v?O.enhancementNoti:""),T=u()(d,O.root,v?O.normal:O[r],f?"":O.msgAlert,_?O.needFloat:"");return o().createElement("span",{className:T},c&&(l||o().createElement(t(),{svg:g[r],className:h})),o().createElement("span",{className:u()(O.content,p)},s),i&&o().createElement("div",{className:O.alertClose,onClick:function(e){return a&&a(e)}},o().createElement(t(),{svg:E(),className:O.closeIcon})))}}(),i}())},92615:function(e,t,n){"use strict";e.exports=n(20432)},39637:function(e,t,n){var r,o;e.exports=(r=n(94184),o=n(86843),function(){"use strict";var e={8310:function(e){e.exports=r},8156:function(e){e.exports=o}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var c=t[r]={exports:{}};return e[r](c,c.exports,n),c.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var c={};return function(){n.r(c),n.d(c,{default:function(){return u}});var e=n(8156),t=n.n(e),r="GHUxSkxNuJ",o=n(8310),i=n.n(o),u=function(e){var n=e.svg,o=e.style,c=void 0===o?{}:o,u=e.className,a=e.onClick,s=i()(r,u);return t().createElement("i",{onClick:a,style:c,className:s,dangerouslySetInnerHTML:{__html:n}})}}(),c}())},69193:function(e,t,n){"use strict";e.exports=n(39637)},58720:function(e,t,n){var r;e.exports=(r=n(86843),function(){"use strict";var e={8156:function(e){e.exports=r}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var c=t[r]={exports:{}};return e[r](c,c.exports,n),c.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return function(){n.r(o),n.d(o,{default:function(){return f}});var e=n(8156),t=n.n(e),r="SbG_pFWCiW",c="kOcjq_yQuK",i="Zk4z7tTqaE",u="HrQFl6UVN_",a="UCRIgeBPof",s="kmss6JpUXN kOcjq_yQuK",l="Q3uoPWJlY_",f=function(e){var n=e.isInit,o=void 0!==n&&n,f=e.text;return t().createElement("div",{className:r},t().createElement("div",{className:o?c:s},t().createElement("i",{className:i}),t().createElement("i",{className:u}),t().createElement("i",{className:a})),o&&f&&t().createElement("div",{className:l},f))}}(),o}())},11876:function(e,t,n){"use strict";e.exports=n(58720)},88078:function(e,t,n){var r,o;e.exports=(r=n(94184),o=n(86843),function(){"use strict";var e={8310:function(e){e.exports=r},8156:function(e){e.exports=o}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var c=t[r]={exports:{}};return e[r](c,c.exports,n),c.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var c={};return function(){n.r(c),n.d(c,{default:function(){return u}});var e=n(8156),t=n.n(e),r=n(8310),o=n.n(r),i={animation:"mtSDzvuYwh",breathe:"WxZczoU9Y2",line:"uYvboya2A0","line-first":"Ni__LTrxDO mtSDzvuYwh",lineFirst:"Ni__LTrxDO mtSDzvuYwh","line-second":"FpEp58JgHm mtSDzvuYwh",lineSecond:"FpEp58JgHm mtSDzvuYwh",square:"zccgav569R mtSDzvuYwh",circle:"Vm7b3BCuyS mtSDzvuYwh"},u=function(n){var r=n.half,c=void 0!==r&&r,u=n.type,a=void 0===u?"line":u,s=n.children,l=n.className,f=void 0===l?"":l,_=n.style,d=(0,e.useMemo)((function(){return o()(f,i[a])}),[f,a]);return t().createElement("div",{className:d,style:_},"line"===a&&t().createElement(t().Fragment,null,t().createElement("div",{className:i.lineFirst}),!c&&t().createElement("div",{className:i.lineSecond})),s)}}(),c}())},27067:function(e,t,n){"use strict";e.exports=n(88078)},96296:function(e,t,n){var r,o,c,i;e.exports=(r=n(58518),o=n(88186),c=n(36808),i=n(69483),function(){"use strict";var e={95:function(e,t,n){n.d(t,{D:function(){return a},t:function(){return s}});var r=n(661),o=n.n(r),c=n(480),i=!1,u=function(e,t){i=!0;var n=t||(0,c.CE)();o().init({lng:n,fallbackLng:n,defaultNS:"common",keySeparator:!1,debug:!1,resources:e&&e.resources||{},interpolation:{prefix:"{",suffix:"}",escapeValue:!1},react:{wait:!1,bindI18n:"languageChanged loaded",bindStore:"added removed",nsMode:"default"}})},a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"common";i||u({resources:{}},e),o().changeLanguage(e),o().addResourceBundle(e,n,t,!0,!0)},s=o().t.bind(o())},480:function(e,t,n){n.d(t,{$S:function(){return A},CE:function(){return G},E3:function(){return P},H9:function(){return d},IE:function(){return x},JS:function(){return p},Jy:function(){return N},L6:function(){return k},NJ:function(){return m},S1:function(){return a},Tb:function(){return I},Vm:function(){return C},X7:function(){return j},Y8:function(){return O},YH:function(){return U},Yc:function(){return _},dV:function(){return M},ef:function(){return S},jq:function(){return y},jz:function(){return F},pM:function(){return v},qk:function(){return R},u7:function(){return D},xC:function(){return L},z$:function(){return T}});var r,o,c,i,u={sg:"en",ph:"en",tw:"zh-Hant",my:"ms-MY",th:"th-TH",vn:"vi-VN",id:"id-ID",br:"pt-BR",in:"hi",cn:"zh-CN",mx:"es-MX",co:"es-CO",cl:"es-CL",ar:"es-AR",pl:"pl",es:"es-ES",fr:"fr",us:"en",kr:"en",kh:"km-KH",mm:"my-MM",la:"lo-LA"},a=function(e,t,n){r=e.toLowerCase(),o="liveish"===t?"live-test":"stable"===t?"test-stable":t,c=n,i=u[r]||"en"},s=["my","br","mx","co","ar","mm","la"],l=["id","th"],f=["us"],_=function(e){return"kh"===e?"kh.com":s.includes(e)?"com.".concat(e):l.includes(e)?"co.".concat(e):f.includes(e)?"com":e},d=function(e){return"tw"===e?"xiapi":e.toLowerCase()},p=function(e){return _(e)},S=function(){return"live"===o?"":"".concat(o,".")},v=function(){return"live"===o?"shopee":"".concat(o,".shopee")},E=function(){return"live"===o?"shopeebrasil":"".concat(o,".shopeebrasil")};function h(){var e=window.location.hostname;return e&&e.includes("shopeebrasil")}var T=function(){return"cn"===r},O=function(){return"kr"===r};function g(){return m()&&!T()}function m(){var e=window.location.hostname;return e&&e.includes("cn")}var b=function(e,t){return"seller"===e?"vn"!==t||g()?"seller":"banhang":e},y=function(e,t){var n=t?t.toLowerCase():r;return g()?function(e,t){var n=t?t.toLowerCase():r;return"".concat(b(e,n),".").concat(d(n),".").concat(v(),".").concat("cn")}(e,n):"kh"===n?"".concat(b(e,n),".").concat(h()?E():v()).concat(p(n)):"".concat(b(e,n),".").concat(h()?E():v(),".").concat(p(n))},R=function(e){return y("seller",e)},A=function(e){var t=e?e.toLowerCase():r;return"kh"===t?"seller-service.cs.".concat(v()).concat(p(t)):"seller-service.cs.".concat(v(),".").concat(p(t))},C=function(){return"".concat(R(),"/webchat/api")},P=function(){return"".concat(R(),"/api")},D=function(e){var t=e?e.toLowerCase():r;return"cn"!==t&&"kr"!==t||(t="my"),m()?"".concat(d(t),".").concat(S()).concat("xiapibuy.com"):"kh"===t?"".concat(v()).concat(p(t)):"".concat(v(),".").concat(p(t))},I=function(){var e=r;return"cn"!==e&&"kr"!==e||(e="my"),"kh"===e?"".concat(v()).concat(p(e)):"".concat(v(),".").concat(p(e))},w=["sg","my","th","ph","vn","id","tw","br","ar","kh","mm","la"],N=function(e){var t=e?e.toLowerCase():r;if(T())return"https://s-cf-sg.shopeesz.com/file/";if(O())return"https://cf.shopee.sg/file/";var n=w.includes(t);return g()&&n?"https://s-cf-".concat(t,".shopeesz.com/file/"):"kh"===t?"https://cf.shopee".concat(_(t),"/file/"):"https://cf.shopee.".concat(_(t),"/file/")},M=function(e){var t=e?e.toLowerCase():r;return"tw"===t&&m()?"https://cvf.shopee.cn/file/":"kh"===t?"https://cvf.shopee".concat(_(t),"/file/"):"https://cvf.shopee.".concat(_(t),"/file/")},L=function(){return"https://".concat(y("seller"),"/webchat/conversations")},U=function(){return"https://".concat(y("seller"),"/webchat")},x=function(){return o},j=function(){return r},k=function(){return c},G=function(){return i},F=function(){return m()?"https://deo.shopeesz.com/shopee/":"https://deo.shopeemobile.com/shopee/"}},602:function(e){e.exports=o},661:function(e){e.exports=r},598:function(e){e.exports=c},349:function(e){e.exports=i}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var c=t[r]={exports:{}};return e[r](c,c.exports,n),c.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var u={};return function(){n.r(u),n.d(u,{AccountType:function(){return Ye},ActionType:function(){return R},AffiliateTypeEnum:function(){return se},AlertType:function(){return Qe},AllChatsFolders:function(){return be},BannerTypeEnum:function(){return ve},BizIdEnum:function(){return ie},ChatListTypingDisplay:function(){return N},ChatWithTypeEnum:function(){return ce},ChatWithTypeMap:function(){return de},ChatbotFromType:function(){return xe},ChatbotKbEnhancementType:function(){return y},ChatbotPauseEntranceTypes:function(){return b},ChatbotToggle:function(){return je},ConversationListTab:function(){return pe},ConversationSource:function(){return ke},ConversationTab:function(){return ae},ConversationTypeEnum:function(){return oe},CustomShareEvent:function(){return Je},DataFetchStatus:function(){return H},LS:function(){return _n},LogisticsCardLabel:function(){return _},LogisticsEntranceTypes:function(){return h},LogisticsMessageTypes:function(){return io},MAX_MEDIA_NUM:function(){return i},MAX_Z_INDEX:function(){return Ze},MINI_MIN_TEXT_BOX_HEIGHT:function(){return p},ManualMessageSource:function(){return L},MessageErrorCode:function(){return c},MessageLabelType:function(){return v},MessageOption:function(){return e},MessageSendStatus:function(){return o},MessageShortcutGroupType:function(){return a},MessageSource:function(){return Ge},MessageTypes:function(){return r},NoticeOrderTitle:function(){return S},OfferStatus:function(){return W},OfficialConvType:function(){return ue},OperationStatus:function(){return Y},OrderDeliveryStatus:function(){return d},OrderDeliveryStatusKeyMap:function(){return E},QueueStatusEntranceType:function(){return m},RREntranceTypes:function(){return T},RRNoticeTypes:function(){return g},ReturnCardStatus:function(){return s},ReturnSolution:function(){return l},SellerUnreadStatus:function(){return Re},ServeTodayFolders:function(){return me},ServeTodayFoldersV2:function(){return ye},ServeTodayTab:function(){return ge},ShareDataType:function(){return $e},SlaType:function(){return f},SocketConnectionStatus:function(){return Q},SocketToAlertType:function(){return ze},StartChatErrorCode:function(){return We},StorageKey:function(){return Xe},SubAccountChatTypeMap:function(){return _e},SubAccountRole:function(){return He},SubAccountTagMap:function(){return fe},SwitchStatus:function(){return B},TrackRRType:function(){return O},TrackerOperation:function(){return Ve},TranslationStatus:function(){return V},UnreadSource:function(){return Fe},UserMode:function(){return Pe},capitalizeFirstLetter:function(){return St},changeLanguage:function(){return Ho.D},chatbotLabelText:function(){return w},chatbotProductCard:function(){return uo},checkAIBannerGuide:function(){return on},checkAssistantHighlightGuide:function(){return un},checkAutoReplyHighlightGuide:function(){return an},checkEmptyObject:function(){return et},checkMiniUnrepliedGuide:function(){return cn},checkRegionFilterGuide:function(){return sn},checkSpecialShops:function(){return bn},cnDomainHash:function(){return it.H9},compareSameDayOfTimestamp:function(){return xt},customizeTime:function(){return Nt},debounce:function(){return Kt},defaultLocalInMall:function(){return qe},detectTextAndTimestamp:function(){return xo},domainHash:function(){return it.Yc},domainPrefix:function(){return it.pM},domainSuffix:function(){return it.JS},envPrefix:function(){return it.ef},escapeRegex:function(){return Io},fillMessagePreview:function(){return yo},formatMessageTime:function(){return Ut},formatTransifyKeyWithNumber:function(){return zt},getApiServer:function(){return it.Vm},getCDNUrl:function(){return it.jz},getConversationStatusTag:function(){return jo},getCurrentTimestampString:function(){return wo},getCustomMessageText:function(){return ro},getDefaultFolderStatus:function(){return Le},getDefaultFolderStatusV2:function(){return Ue},getFileServer:function(){return it.Jy},getFormattedTime:function(){return Lt},getGlobalConfigTranslatedText:function(){return Fo},getHasSameSourceAndTarget:function(){return mo},getItem:function(){return dn},getLANGUAGE_MAPPING_V2Key:function(){return Ot},getLocaleText:function(){return go},getLogisticsCardTitle:function(){return Ao},getLogisticsIssueCardTitle:function(){return Co},getMallTranslationLocale:function(){return yt},getMallUrl:function(){return it.u7},getMallUrlIgnoreCn:function(){return it.Tb},getMessageIsSend:function(){return Do},getProjectUrl:function(){return it.jq},getRRMessageTitle:function(){return Ro},getRequestBizId:function(){return Ie},getRowHeight:function(){return Oe},getRuntimeLocale:function(){return it.CE},getRuntimeRegion:function(){return it.X7},getRuntimeServer:function(){return it.IE},getRuntimeVersion:function(){return it.L6},getSCApiServer:function(){return it.E3},getSellerCenterUrl:function(){return it.qk},getSellerServiceUrl:function(){return it.$S},getServiceLocale:function(){return bt},getSystemMessageByLocale:function(){return bo},getTextMessagePreviewShowTranslation:function(){return ho},getTranslatedText:function(){return Go},getTranslationLocale:function(){return gt},getUrlParam:function(){return qt},getVideoServer:function(){return it.dV},getWebChatPureUrl:function(){return it.YH},getWebChatUrl:function(){return it.xC},greaterThan:function(){return nt},handlePreview:function(){return Po},hasTargetMessageOption:function(){return To},init:function(){return it.S1},isConversationRead:function(){return Ce},isConversationUnread:function(){return Ae},isDeletedMessage:function(){return Oo},isElementFullyInViewport:function(){return Be},isElementVisibleAtLeast:function(){return ko},isMainSubaccount:function(){return Bo},isMessageLabelType:function(){return I},isSubaccount:function(){return Yo},isVisitingCNSC:function(){return it.z$},isVisitingCn:function(){return it.NJ},isVisitingKRSC:function(){return it.Y8},localeInMallToTspLocale:function(){return Ke},newFormatMessageTime:function(){return kt},persistLimit:function(){return vn},previewLoadingMessage:function(){return vo},previewMessage:function(){return So},removeItem:function(){return Sn},searchHighlightConversation:function(){return De},setItem:function(){return pn},showAIAssistantLabel:function(){return A},showChatbotLabel:function(){return P},showReviewLabel:function(){return C},showTcsLink:function(){return D},showVideoMessageTypes:function(){return M},simpleEqualCheck:function(){return tt},subAccountAffiliateBiz:function(){return le},throttle:function(){return Xt},trackerMap:function(){return Se},unifyLocale:function(){return Et},updateTimeLocale:function(){return Ct}});var e,t=n(95).t,r={MSG_TYPE_TEXT:"text",MSG_TYPE_IMAGE:"image",MSG_TYPE_OFFER:"offer",MSG_TYPE_PRODUCT:"product",MSG_TYPE_ORDER:"order",MSG_TYPE_STICKER:"sticker",MSG_TYPE_NOTIFICATION:"notification",MSG_TYPE_VOUCHER:"voucher",MSG_TYPE_ITEM_LIST:"item_list",MSG_TYPE_SHOPPING_CART:"shopping_cart",MSG_TYPE_FAQ:"faq",MSG_TYPE_FAQ_QUESTION:"faq_question",MSG_TYPE_FAQ_FEEDBACK:"faq_feedback",MSG_TYPE_FAQ_LIVEAGENT:"faq_liveagent",MSG_TYPE_FAQ_UNSUPPORTED:"faq_unsupported",MSG_TYPE_FAQ_FEEDBACK_PROMPT:"faq_feedback_prompt",MSG_TYPE_FAQ_LIVEAGENT_PROMPT:"faq_liveagent_prompt",MSG_TYPE_UNTATED_ORDER_REMINDER:"unrated_order_reminder",MSG_TYPE_FLASH_SALE:"flash_sale",MSG_TYPE_BUNDLE_DEAL:"bundle_deal",MSG_TYPE_BUNDLE_MESSAGE:"bundle_message",MSG_TYPE_OPTION_PACK:"option_pack",MSG_TYPE_SELECTED_OPTION:"selected_option",MSG_TYPE_ADD_ON_DEAL:"add_on_deal",MSG_TYPE_VIDEO:"video",MSG_TYPE_IMAGE_WITH_TEXT:"image_with_text",MSG_TYPE_RATE_CARD:"rating_card",MSG_TYPE_NEW_FAQ:"new_faq",MSG_TYPE_FAQ_CATEGORY_CHOICE:"faq_category_choice",MSG_TYPE_FAQ_QUESTION_LIST:"faq_question_list",MSG_TYPE_FAQ_TYPE_CHOICE:"faq_type_choice",MSG_TYPE_FAQ_CATEGORY_LIST:"faq_category_list",MSG_TYPE_FAQ_TYPE_BOT_REQUEST_TEXT_MESSAGE:"faq_bot_request_text",MSG_TYPE_FAQ_TYPE_BOT_REQUEST_ORDER_MESSAGE:"faq_bot_request_order",FAQ_TYPE_BOT_RESPONSE_MESSAGE:"faq_bot_response",MSG_TYPE_SECURITY_TIPS:"security_tips",MSG_TYPE_CRM_ITEM_LIST:"crm_item_list",MSG_TYPE_RR:"return_refund_card",MSG_TYPE_CRM_ORDER_RATE:"crm_order_rate",MSG_TYPE_LOGISTICS_CARD:"logistics_card",MSG_TYPE_LOGISTICS_ISSUE_ENQUIRY_CARD:"logistics_issue_enquiry_card",MSG_TYPE_EXPEDITED_LOGISTICS_CARD:"expedited_logistics_card",MSG_TYPE_LATE_DELIVERY_COMPENSATION_VOUCHER:"late_delivery_compensation_voucher",MSG_TYPE_LOADING:"loading",MSG_TYPE_CUSTOMER_SERVICE_ENTRANCE:"customer_service_entrance",MSG_TYPE_INSURANCE_CS_GUIDE:"insurance_cs_guide",MSG_TYPE_FAQ_BOT_REVIEW_SUMMARY_CARD:"faq_bot_review_summary_card",MSG_TYPE_FAQ_BOT_GALLERY_CARD:"faq_bot_buyer_gallery_card",MSG_TYPE_RESTOCK_REMINDER_CARD:"bot_restock_reminder_card",MSG_TYPE_OUT_STOCK_CARD:"bot_out_stock_card",MSG_TYPE_FAQ_BOT_TIMELINE_CARD:"faq_bot_timeline_card",MSG_TYPE_BOT_BARGAIN_CARD:"faq_bot_price_history_card",MSG_TYPE_FAQ_BOT_AUTHENTIC_CARD:"faq_bot_authentic_card",MSG_TYPE_FAQ_TYPE_BOT_CONTACT_COURIER_CARD:"faq_bot_contact_courier_card",MSG_TYPE_RAISE_RR_CARD:"rr_entrance_card",MSG_TYPE_INQUIRY_RR_OPERATION_CARD:"track_rr_status_card",MSG_TYPE_INQUIRY_RR_OPERATION_FEEDBACK_CARD:"rr_operate_feedback_card",MSG_TYPE_FAQ_TYPE_BOT_ITEM_COMPARISON:"faq_type_bot_item_comparison",MSG_TYPE_INFORM_PROMOTION:"crm_bundle_item_inform_promotion",MSG_TYPE_NEW_ARRIVAL:"crm_bundle_item_new_arrival",MSG_TYPE_CUSTOM_MESSAGE:"crm_bundle_item_custom_message",MSG_TYPE_TEXT_WITH_BUBBLE:"text_with_bubble",MSG_TYPE_QUESTION_LIST:"question_list",MSG_TYPE_RICH_TEXT:"rich_text",MSG_TYPE_FAQ_BOT_SUGGESTION_CARD:"bot_text_with_suggestion_card",MSG_TYPE_FAQ_BOT_VOUCHER_PRODUCT:"bot_voucher_product",MSG_TYPE_SET_STOCK_REMINDER_CARD:"out_of_stock_reminder_card",MSG_TYPE_FAQ_BOT_RAISE_RR_CARD:"faq_bot_raise_rr_card",MSG_TYPE_FAQ_BOT_RAISE_RR_CARD_FEEDBACK_CARD:"faq_bot_raise_rr_feedback_card",MSG_TYPE_FAQ_BOT_TRACK_RR_STATUS_CARD:"faq_bot_track_rr_status_card",MSG_TYPE_FAQ_BOT_TRACK_RR_STATUS_FEEDBACK_CARD:"faq_bot_operate_rr_feedback_card",MSG_TYPE_FAQ_BOT_ITEM_COLLECTIONS:"faq_bot_item_collections",MSG_TYPE_FAQ_BOT_TEXT_WITH_SHORTCUT:"faq_bot_text_with_shortcut",MSG_TYPE_FAQ_BOT_PRODUCT:"product_new",MSG_TYPE_FAQ_BOT_SELECT_PRODUCT:"faq_bot_select_product",MSG_TYPE_OFFICIAL_CHAT_BANNER:"official_chat_banner",MSG_TYPE_OFFICIAL_CHAT_VOUCHER:"official_chat_voucher",MSG_TYPE_OFFICIAL_CHAT_REPAYMENT:"official_chat_repayment",MSG_TYPE_CREDIT_CS_GUIDE:"cs_guide",MSG_TYPE_FAQ_BOT_VOUCHER_FULFILLMENT:"faq_bot_voucher_fulfillment",MSG_TYPE_FAQ_BOT_MARKDOWN:"markdown",MSG_TYPE_FAQ_TYPE_BOT_ITEM_VIDEO_CARD:"faq_bot_item_video_card",MSG_TYPE_CHAT_ORDER_INVITATION_CARD:"chat_order_invitation_card",MSG_TYPE_FAQ_TYPE_BOT_TEXT_WITH_OPTION:"bot_text_with_option",MSG_TYPE_VARIATION_CARD:"variation_card",MSG_TYPE_FAQ_BOT_PROMOTION_PRODUCT_CARD:"faq_bot_promotion_product",MSG_TYPE_ACTIVE_CHATBOT_CARD:"active_chatbot_card",MSG_TYPE_FAQ_TYPE_BOT_MULTI_PRODUCTS_CARD:"faq_bot_multi_products_card",MSG_TYPE_FAQ_TYPE_FIRST_MSG_ITEM_RCMD:"first_msg_item_rcmd"},o={SENDING:1,FAILED:2,SUCCEED:3,DELIVERY:4,READ:5},c={SENDER_FORBIDDEN:27,FORBIDDEN:28,LIMITING:29,CUSTOM_ERROR:42,BLACKLIST:43,CANCEL_ORDER:44,UNVERIFIED_PHONE_NUMBER:45,EXCEED_DAILY_LIMIT:26,UNTRUSTED_NETWORK:46,NEED_CAPTCHA:47,DFP_ERROR:48,SPAMMER:49,FAQ_EXPIRED:50,FAQ_SESSION_OLD:51,NEED_CAPTCHA_VERIFY:52,FROM_USER_FROZEN:53,TO_USER_FROZEN:54,FAQ_PAUSED:55,SYSTEM_SEND_RATE_CARD:56,MESSAGE_REPETITIVE_LEVEL_1:57,DEFAULT:-1,SHOP_BIND_SUBACCOUNT:58},i=9,a={ALL:-1,PERSONAL:1,TEAM:2};!function(e){e[e.MSG_OPT_NORMAL=0]="MSG_OPT_NORMAL",e[e.MSG_OPT_AUTO_REPLY=1]="MSG_OPT_AUTO_REPLY",e[e.MSG_OPT_BLOCKED=2]="MSG_OPT_BLOCKED",e[e.MSG_OPT_CENSORED_BLACKLIST=16]="MSG_OPT_CENSORED_BLACKLIST",e[e.MSG_OPT_CENSORED_WHITELIST=32]="MSG_OPT_CENSORED_WHITELIST",e[e.MSG_OPT_IGNORE_UNREAD_FOR_RECEIVER=64]="MSG_OPT_IGNORE_UNREAD_FOR_RECEIVER",e[e.MSG_OPT_IGNORE_UNREAD_FOR_SENDER=128]="MSG_OPT_IGNORE_UNREAD_FOR_SENDER",e[e.MSG_OPT_INVISIBLE_FOR_RECEIVER=256]="MSG_OPT_INVISIBLE_FOR_RECEIVER",e[e.MSG_OPT_INVISIBLE_FOR_SENDER=512]="MSG_OPT_INVISIBLE_FOR_SENDER",e[e.MSG_OPT_ADS=1024]="MSG_OPT_ADS",e[e.MSG_OPT_FAQ_SESSION=2048]="MSG_OPT_FAQ_SESSION",e[e.MSG_OPT_TRIGGER_FAQ=4096]="MSG_OPT_TRIGGER_FAQ",e[e.MSG_OPT_SOCIAL_MESSAGE=8192]="MSG_OPT_SOCIAL_MESSAGE",e[e.MSG_OPT_OFFWORK_AUTOREPLY=16384]="MSG_OPT_OFFWORK_AUTOREPLY",e[e.MSG_OPT_CANCELORDER_WARNING_SENT=32768]="MSG_OPT_CANCELORDER_WARNING_SENT",e[e.MSG_OPT_CANCELORDER_WARNING_RETRACT=65536]="MSG_OPT_CANCELORDER_WARNING_RETRACT",e[e.MSG_OPT_CANCELORDER_WARNING_NOT_SEND=66496]="MSG_OPT_CANCELORDER_WARNING_NOT_SEND",e[e.MSG_OPT_CHATBOT_SESSION=131072]="MSG_OPT_CHATBOT_SESSION",e[e.MSG_OPT_TRIGGER_CHATBOT=262144]="MSG_OPT_TRIGGER_CHATBOT",e[e.MSG_OPT_PRIVATE_MESSAGE=524288]="MSG_OPT_PRIVATE_MESSAGE",e[e.MSG_OPT_SILENT_FOR_SENDER=1048576]="MSG_OPT_SILENT_FOR_SENDER",e[e.MSG_OPT_DELETE=2097152]="MSG_OPT_DELETE",e[e.MSG_OPT_RECALL=8388608]="MSG_OPT_RECALL",e[e.MSG_OPT_TRIGGER_TOP_BANNER_UPDATE=536870912]="MSG_OPT_TRIGGER_TOP_BANNER_UPDATE"}(e||(e={}));var s,l,f,_,d,p=88;!function(e){e[e.Submit=1]="Submit",e[e.Refund=2]="Refund",e[e.Reject=3]="Reject"}(s||(s={})),function(e){e[e.ReturnAndRefund=0]="ReturnAndRefund",e[e.Return=1]="Return"}(l||(l={})),function(e){e[e.day=1]="day",e[e.hour=2]="hour"}(f||(f={})),function(e){e[e.Inquiry=1]="Inquiry",e[e.Expedite=2]="Expedite"}(_||(_={})),function(e){e[e.Normal=0]="Normal",e[e.Stuck=1]="Stuck",e[e.AfterEstimated=2]="AfterEstimated",e[e.AfterGuarantee=3]="AfterGuarantee"}(d||(d={}));var S,v,E={Normal:"normal",Stuck:"stuck",AfterEstimated:"exceed",AfterGuarantee:"latest"},h=["inquiry_logistics_switch_order","expedite_delivery_switch_order","inquiry_logistics","expedite_delivery"],T=["rr_entrance","noti_type_raise_return_refund_switch_order","noti_type_track_return_refund_switch_order"],O="noti_type_track_return_refund_switch_order",g=["noti_type_raise_return_refund_switch_order","noti_type_track_return_refund_switch_order"],m="choice_queue_status",b=["noti_type_seller_send_message_in_chatbot","noti_type_seller_pause_chatbot"],y="noti_type_seller_item_kb_enhancement";!function(e){e.rr_entrance="modal.select_order.title",e.noti_type_raise_return_refund_switch_order="modal.select_raise_rr_order.title",e.noti_type_track_return_refund_switch_order="modal.select_track_rr_order.title"}(S||(S={})),function(e){e[e.AUTO_REPLY=1]="AUTO_REPLY",e[e.OFFWORK_AUTO_REPLY=2]="OFFWORK_AUTO_REPLY",e[e.CHAT_ASSISTANT=3]="CHAT_ASSISTANT",e[e.CHAT_ASSITANT_WITH_TCS=4]="CHAT_ASSITANT_WITH_TCS",e[e.CHAT_ASSISTANT_WITH_REVIEW=5]="CHAT_ASSISTANT_WITH_REVIEW",e[e.CHAT_ASSISTANT_WITH_REVIEW_AND_TCS=6]="CHAT_ASSISTANT_WITH_REVIEW_AND_TCS"}(v||(v={}));var R,A=function(e){return[v.CHAT_ASSISTANT,v.CHAT_ASSITANT_WITH_TCS].includes(e)},C=function(e){return[v.CHAT_ASSISTANT_WITH_REVIEW,v.CHAT_ASSISTANT_WITH_REVIEW_AND_TCS].includes(e)},P=function(e){return A(e)||C(e)},D=function(e){return[v.CHAT_ASSITANT_WITH_TCS,v.CHAT_ASSISTANT_WITH_REVIEW_AND_TCS].includes(e)},I=function(e){return Object.values(v).includes(e)},w=function(e){return A(e)?t("message.label_type.ai_assistant"):C(e)?t("message.label_type.support_review"):""};!function(e){e.Call="call",e.Email="email",e.WhatsApp="whatsapp",e.Line="line",e.Facebook="facebook",e.Dots="3dots"}(R||(R={}));var N,M=[r.MSG_TYPE_VIDEO,r.MSG_TYPE_PRODUCT,r.MSG_TYPE_FAQ_TYPE_BOT_ITEM_VIDEO_CARD],L=["old_webchat","new_webchat","ios","android","mini_webchat","pc_mall_minichat","mweb","openapi","ios_minichat","android_minichat"];function U(e){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}function x(e){var t=function(e,t){if("object"!==U(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==U(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===U(t)?t:String(t)}function j(e,t,n){return(t=x(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e[e.TYPING_DOT=1]="TYPING_DOT",e[e.DOT=2]="DOT",e[e.DOT_TYPING=3]="DOT_TYPING"}(N||(N={}));var F={NORMAL:"normal",PENDING:"pending",SUCCEED:"succeed",FAILED:"failed"},H=G(G({},F),{},{INIT_PENDING:"pendingInit",INIT_FAILED:"failedInit",TEMPORY_ERROR:"temporyError"}),Y=G(G({},F),{},{BLACKLIST_ERROR:"blacklistError",INTERNAL_SERVER_ERROR:"internalServerError"}),B={ENABLED:"enabled",DISABLED:"disabled",NO_PERSSION:"no_permission"},V={SUCCEED:"succeed",FAILED:"failed",HISTORY:"history",SHOW:"show",PENDING:"pending"},W={PENDING:"pending",ACCEPTED:"accepted",REJECTED:"rejected",CANCELLED:"cancelled"},Q={CONNECT:"connect",CONNECT_ERROR:"connect_error",DISCONNECT:"disconnect",RECONNECT_ATTEMPT:"reconnect_attempt",RECONNECT_ERROR:"reconnect_error",RECONNECTING:"reconnecting",RECONNECT:"reconnect"};function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q(e,t){if(e){if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,c,i,u=[],a=!0,s=!1;try{if(c=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;a=!1}else for(;!(a=(r=c.call(n)).done)&&(u.push(r.value),u.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{if(!a&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return u}}(e,t)||q(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var X,J,$,Z,ee,te={conversationCellForBCSubAccount:84,conversationCellForBCSubAccountTH:94,conversationCell:62,conversationCellTH:70,shopCardCell:212,shopListCell:72,voucherCell:146,conversationShopListCell:60,dropdownShopListCell:44,contactCell:48};function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oe,ce,ie,ue,ae={CUSTOMER:"customer",AGENT:"agent"};!function(e){e[e.Normal=0]="Normal",e[e.Agent=1]="Agent",e[e.ServingToday=2]="ServingToday"}(oe||(oe={})),function(e){e.Buyer="buyer",e.Driver="driver",e.Affiliate="affiliate"}(ce||(ce={})),function(e){e[e.Buyer=0]="Buyer",e[e.SubAccount=2]="SubAccount",e[e.Driver=9]="Driver",e[e.Affiliate=11]="Affiliate",e[e.Chatbot=12]="Chatbot",e[e.MCN=14]="MCN",e[e.KOL=15]="KOL"}(ie||(ie={})),function(e){e[e.OFFICIAL_CREDIT=1]="OFFICIAL_CREDIT"}(ue||(ue={}));var se,le=[ie.MCN,ie.KOL],fe=(j(X={},ie.SubAccount,"buyer"),j(X,ie.MCN,"mcn"),j(X,ie.KOL,"kol"),X),_e=(j(J={},ce.Buyer,[ie.SubAccount]),j(J,ce.Affiliate,[ie.KOL,ie.MCN]),J),de=(j($={},ce.Buyer,ie.Buyer),j($,ce.Driver,ie.Driver),j($,ce.Affiliate,ie.Affiliate),$),pe={TODAY:"today",ALL:"all"},Se=(j(Z={},pe.ALL,"all_chats"),j(Z,pe.TODAY,"serving_today"),Z);!function(e){e[e.KOL=1]="KOL",e[e.MCN=2]="MCN"}(se||(se={}));var ve,Ee=te,he=Ee.conversationCellForBCSubAccount,Te=Ee.conversationCell,Oe=function(e){return e?he:Te},ge={PINNED:"pinned",UNREPLIED:"unreplied",AUTOREPLY:"auto_replied",MANUALREPLY:"manually_replied",ALL_BUYERS:"all_buyers",BUYER_TO_PAY:"to_pay",INQUIRY_WITHOUT_ORDER:"inquiry_without_order"},me=[ge.PINNED,ge.UNREPLIED,ge.AUTOREPLY,ge.MANUALREPLY],be=[ge.BUYER_TO_PAY,ge.INQUIRY_WITHOUT_ORDER,ge.ALL_BUYERS],ye=[ge.UNREPLIED,ge.PINNED,ge.AUTOREPLY,ge.MANUALREPLY],Re={SHOW:1,HIDE:2},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.unread_count,n=void 0===t?0:t,r=e.seller_unread_status;return"number"==typeof n&&n>0||r===Re.SHOW},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 0===e.unread_count&&e.seller_unread_status!==Re.SHOW};!function(e){e[e.GET=0]="GET",e[e.UPDATE_PRODUCT=1]="UPDATE_PRODUCT",e[e.UPDATE_ORDER=2]="UPDATE_ORDER",e[e.UPDATE_RECOMMEND=7]="UPDATE_RECOMMEND"}(ve||(ve={}));var Pe,De=function(e){var t,n,r,o,c,i,u=null===(t=e.find((function(e){return"auto_replied"===e.type})))||void 0===t?void 0:t.conversations,a=null===(n=e.find((function(e){return"pinned"===e.type})))||void 0===n||null===(r=n.conversations)||void 0===r?void 0:r.map((function(e){return null==e?void 0:e.id})),s=null===(o=e.find((function(e){return"unreplied"===e.type})))||void 0===o?void 0:o.conversations,l=null==s||null===(c=s.find((function(e){var t;return"exit_faq"===(null===(t=e.latest_message_content)||void 0===t?void 0:t.notification_type)})))||void 0===c?void 0:c.id;return[null==u||null===(i=u.find((function(e){return!a.includes(e.id)})))||void 0===i?void 0:i.id,l]},Ie=function(e,t){return t?ie.Chatbot:e},we=me[0],Ne=me.slice(0),Me=(j(ee={},me[1],!1),j(ee,me[0],!1),j(ee,me[2],!1),j(ee,me[3],!1),ee),Le=function(e,t,n){var r=null==n?void 0:n.length;if(t&&4===Object.keys(e).length){var o=re({},Me);o[we]=e[we];var c=Ne.find((function(t){return e[t]}));return c&&(o[c]=!0),r&&(o.upreplied=!0,o.auto_replied=!0),o}return null},Ue=function(e,t,n){var r=K(n,2),o=r[0],c=r[1],i={serveTodaySingleFolderStatus:"",singleFolderStatus:""};if(t){var u="",a="";ye.every((function(t){var n;return null===(n=Object.keys(e))||void 0===n?void 0:n.includes(t)}))&&((u=ye.find((function(t){return e[t]}))||"")&&(o?u=ge.AUTOREPLY:c&&(u=ge.UNREPLIED)),i=re(re({},i),{},{serveTodaySingleFolderStatus:u})),be.every((function(t){var n;return(null===(n=Object.keys(e))||void 0===n?void 0:n.includes(t))||t===ge.ALL_BUYERS}))&&(a=be.find((function(t){return e[t]}))||"",i=re(re({},i),{},{singleFolderStatus:a}))}return i};!function(e){e.MONITOR="monitor",e.SERVING="serving"}(Pe||(Pe={}));var xe,je,ke={SYNC:4,SELECTOR:13},Ge={SEND:7},Fe={PRELOAD:1},He={MAIN_SUBACCOUNT:"main_subaccount",ADMIN_SUBACCOUNT:"admin_subaccount",NORMAL_SUBACCOUNT:"normal_subaccount"},Ye={SELLER:"seller",SUBACCOUNT:"subaccount"},Be=function(e){if(!e)return!1;var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=window.innerHeight&&t.right<=window.innerWidth},Ve={CLICK:"click",IMPRESSION:"impression",ACTION_DRAG_VIDEO:"action_drag_video",DELETE_PREVIEW_MEDIA:"delete_preview_media",CLOSE_PREVIEW_MEDIA:"close_preview_media",VIEW:"view",ACTION_SELECT:"action_select",ACTION_SEARCH:"action_search",ACTION_HOVER:"action_hover",ACTION_TOGGLE_ON_SUCCESS:"action_toggle_on_success",ACTION_TOGGLE_OFF_SUCCESS:"action_toggle_off_success",ACTION_DISAPPEAR:"action_disappear",ACTIVATE_CHATBOT_SUCCESS:"activate_chatbot_success"};!function(e){e.LandingPage="SIPDirectChatFromChatLandingPage",e.ProductPage="SIPProductPage",e.OrderPage="SIPOrderPageFromBuyer",e.ShopPage="SIPShopPage"}(xe||(xe={})),function(e){e[e.Disable=0]="Disable",e[e.AutoToggle=1]="AutoToggle",e[e.Opt=2]="Opt"}(je||(je={}));var We,Qe={error:"error",success:"success",normal:"normal",warn:"warn",info:"info",highlight:"highlight"},ze={pending:Qe.warn,error:Qe.error,resolved:Qe.success};!function(e){e[e.Login=0]="Login",e[e.Redirection=1]="Redirection",e[e.Messages=2]="Messages",e[e.Conversations=3]="Conversations"}(We||(We={}));var qe={sg:"en",ph:"en",tw:"zhHant",id:"id",th:"th",vn:"vi",my:"en",br:"pt-BR",mx:"es-MX",cl:"es-CL",pl:"pl",co:"es-CO",kh:"km-KH",mm:"my-MM",la:"lo-LA"},Ke={en:"en",zhHans:"zh-Hans","ms-my":"ms-MY",zhHant:"zh-Hant",id:"id",th:"th",vi:"vi","pt-BR":"pt-BR","es-MX":"es-MX","es-CL":"es-CL","es-CO":"es-CO","es-AR":"es-AR",pl:"pl",fr:"fr","es-ES":"es-ES",fil:"fil",my:"my",km:"km","km-KH":"km-KH","my-MM":"my-MM","lo-LA":"lo-LA"},Xe={USERID:"__chat_userid__",LAST_ACTIVE:"last-active-time",MINI_ALERT:"mini-should-show-alert",MINI_TEXT_BOX_HEIGHT:"mini-text-box-height"},Je={ACK:"ack",TAB_FOCUSED:"tabFocused",CALC_CONNECTIONS:"calcConnections",CLOSE_CONNECTION:"closeConnection",SHARE_API_DATA:"shareApiData"},$e={UNREAD:"unread",UPDATE_SETTING:"updateSetting"},Ze=199999,et=function(e){return!e||0===Object.keys(e).length},tt=function(e,t){return JSON.stringify(e)===JSON.stringify(t)},nt=function(e,t){if(!e)return!1;if(!t)return!0;var n=(e+="").length,r=(t+="").length;if(n!==r)return n>r;var o=e.split(""),c=null;return o.forEach((function(e,n){"boolean"!=typeof c&&(c=parseInt(e)>parseInt(t[n])||parseInt(e)===parseInt(t[n])&&null)})),!!c},rt=n(602),ot=n(598),ct=n.n(ot),it=n(480);function ut(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return at(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?at(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,i=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){u=!0,c=e},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw c}}}}function at(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var st,lt,ft,_t,dt=["hans","hant"],pt=["my","en","zh-hans","zh-hant","ms-my","th-th","vi-vn","id-id","zh-cn","pt-br","hi","es-mx","es-co","es-cl","es-es","es-ar","pl","fr","fil","km"],St=function(e){return"".concat(e[0].toUpperCase()).concat(e.substring(1))},vt=function(e){if(e.includes("-")){var t=e.split("-");return dt.includes(t[1])?"".concat(t[0],"-").concat(St(t[1])):"".concat(t[0],"-").concat(t[1].toUpperCase())}return e},Et=function(e){var t,n=(e||"en").toLowerCase(),r="en",o=ut(pt);try{for(o.s();!(t=o.n()).done;){var c=t.value;if(c.includes(n)){r=vt(c);break}}}catch(e){o.e(e)}finally{o.f()}return r},ht={en:"default","ms-MY":"ms","th-TH":"th",th:"th","zh-Hans":"zh-Hans","zh-Hant":"zh-Hant","vi-VN":"vi",vi:"vi","id-ID":"id",id:"id","zh-CN":"zh-Hans","pt-BR":"pt-BR",hi:"hi","es-MX":"es-MX","es-CO":"es-CO","es-CL":"es-CL",pl:"pl","es-ES":"es-ES",fr:"fr","es-AR":"es-AR",fil:"ph",my:"my",km:"km","km-KH":"km-KH","my-MM":"my-MM","lo-LA":"lo-LA"},Tt={en:"SG",ms:"MY",th:"TH","zh-Hans":"CN","zh-Hant":"TW",vi:"VN",ph:"PH",id:"ID","pt-BR":"BR","es-MX":"MX","es-CO":"CO","es-CL":"CL","es-AR":"AR",fr:"FR",pl:"PL","es-ES":"ES",hi:"IN",fil:"PH",my:"MM",default:"SG",km:"VN","km-KH":"KH","my-MM":"MM","lo-LA":"LA"},Ot=function(e){var t=Et(e);return Tt[ht[t]]||Tt.default},gt=function(e){var t=Et(e);switch(t){case"th-TH":return"th";case"vi-VN":return"vi";case"id-ID":return"id";default:return t}},mt={en:"default","ms-MY":"ms-my","th-TH":"th",th:"th","zh-Hans":"tw","zh-Hant":"tw","vi-VN":"vn",vi:"vn",km:"vn","id-ID":"id",id:"id","zh-CN":"cn","pt-BR":"pt-br",hi:"hi","es-MX":"es-mx","es-CO":"es-co","es-CL":"es-cl",pl:"pl","es-ES":"es-es",fr:"fr","es-AR":"es-ar",fil:"fil",my:"my"},bt=function(e){var t=Et(e);return mt[t]||"default"},yt=function(){var e,t=ct().get("language");if(t)e=Ke[t]||"en";else{var n=qe[(0,it.X7)()]||"en";e=Ke[n]||"en"}return e},Rt=n(95).t,At=function(){},Ct=function(e){var t=Ot(e);st=t;var n=(0,rt.getBoundUtils)(t,e);At=n.formatTime},Pt=function(e){return At(e,"hh:mm")};!function(e){e.Today="today",e.Yesterday="yesterday"}(lt||(lt={})),function(e){e[e.Time=0]="Time"}(ft||(ft={})),function(e){e[e.sunday=0]="sunday",e[e.monday=1]="monday",e[e.tuesday=2]="tuesday",e[e.wednesday=3]="wednesday",e[e.thursday=4]="thursday",e[e.friday=5]="friday",e[e.saturday=6]="saturday"}(_t||(_t={}));var Dt,It=function(e){var t=e.value,n=e.date,r=e.suffix,o=e.prefix,c="",i="";if(o&&(c=Rt("conversation_detail.message_list.".concat(o.type))+(void 0===o.separator?"  ":o.separator)),r){var u=r.type===ft.Time?Pt(n):"";i=(void 0===r.separator?", ":r.separator)+u}return c+t+i};!function(e){e[e.Yesterday=0]="Yesterday",e[e.Today=1]="Today",e[e.ThisMonth=2]="ThisMonth",e[e.ThisYear=3]="ThisYear",e[e.ThisWeek=4]="ThisWeek",e[e.NONE=5]="NONE"}(Dt||(Dt={}));var wt=864e5,Nt=function(e,t){var n=t||{},r=n.noTodayFlag,o=n.noTimeFlag,c=n.needFullFormat,i=n.onlyKeepDate,u=n.isConvPreview,a=new Date(e),s=At(e,{month:"short",day:"short",year:"long"});if(c)return It({value:s,date:a,suffix:{type:ft.Time}});if(i)return s;var l=["tw","cn"].includes(st.toLowerCase()),f=function(e,t){var n=new Date,r=new Date(e);if(t){var o=n-r,c=(new Date).setHours(0,0,0,0);if(o<=6048e5&&o>=wt+(n.getTime()-c))return Dt.ThisWeek}if(n.getFullYear()===r.getFullYear()){if(n.getMonth()===r.getMonth()){var i=n.getDate(),u=r.getDate();return i===u?Dt.Today:i-1===u?Dt.Yesterday:Dt.ThisMonth}return Dt.ThisYear}return Dt.NONE}(e,u);switch(f){case Dt.Today:var _=r?void 0:{type:lt.Today},d={type:ft.Time,separator:""};return It({value:"",date:a,prefix:_,suffix:d});case Dt.Yesterday:var p={type:lt.Yesterday},S=o?void 0:{type:ft.Time,separator:""};return It({value:"",date:a,prefix:p,suffix:S});case Dt.ThisWeek:return Rt("common.".concat(_t[new Date(e).getDay()]));case Dt.ThisMonth:case Dt.ThisYear:var v=o?void 0:{type:ft.Time};return It({value:At(e,u?l?"MM/dd":"dd/MM":{month:"short",day:"short"}),date:a,suffix:v});default:var E=o?void 0:{type:ft.Time};return It({value:At(e,u?l?"yy/MM/dd":"dd/MM/yy":{month:"short",day:"short",year:"long"}),date:a,suffix:E})}},Mt="yyyy-MM-dd hh:mm",Lt=function(e){return At(e,(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")||Mt)},Ut=function(e){var t=e.created_at,n=e.created_timestamp;return Nt(t||1e3*n,{noTodayFlag:!0,noTimeFlag:!0,isConvPreview:!0})},xt=function(e,t){return At(e,{month:"short",day:"short",year:"long"})===At(t,{month:"short",day:"short",year:"long"})},jt={0:"sunday",1:"monday",2:"tuesday",3:"wednesday",4:"thursday",5:"friday",6:"saturday"},kt=function(e,t){var n=1e3*e;switch(t){case"time":return Pt(n);case"date":var r=new Date,o=new Date(n);if(r.getFullYear()===o.getFullYear()){if(r.getMonth()===o.getMonth()){var c=r.getDate(),i=o.getDate();if(c===i)return Rt("conversation_detail.message_list.today");if(c-1===i)return Rt("conversation_detail.message_list.yesterday");if(c-i<7){var u=o.getDay();return Rt("common.".concat(jt[u]))}return At(n,{month:"short",day:"short"})}return At(n,{month:"short",day:"short"})}return At(n,{month:"short",day:"short",year:"long"})}},Gt=n(661),Ft=n.n(Gt),Ht=function(e){return 0===e||1===e?"one":e>=1e6?"many":"other"},Yt=function(e){return 1===e?"one":Number.isInteger(e)?[2,3,4].includes(e%10)&&![12,13,14].includes(e%100)?"few":![2,3,4].includes(e%10)||[12,13,14].includes(e%100)?"many":"other":"other"},Bt=function(e){return e<=1?"one":"other"},Vt={fr:Ht,pl:Yt,default:Bt},Wt={fr:function(e,t){return"".concat(Ht(e),".").concat(Ht(t))},pl:function(e,t){return"".concat(Yt(e),".").concat(Yt(t))},default:function(e,t){return"".concat(Bt(e),"_").concat(Bt(t))}},Qt=["fr","pl"],zt=function(e,t,n){var r=Ft().language||"en",o=Qt.includes(r)?r:"default";return void 0!==n?"".concat(e,"_").concat(Wt[o](t,n)):"".concat(e,"_").concat(Vt[o](t))},qt=function(e,t){var n=t||window.location.search,r=null;if(n){var o=n.indexOf("?")+1,c=new RegExp("(^|&)"+e+"=([^&]*)(&|$)");r=n.substr(o).match(c)}return r?unescape(r[2]):null},Kt=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,o=Date.now();return function(){for(var c=arguments.length,i=new Array(c),u=0;u<c;u++)i[u]=arguments[u];t&&(clearTimeout(t),t=null),Date.now()-o>r?(e.apply(void 0,i),o=Date.now()):t=window.setTimeout((function(){e.apply(void 0,i),o=Date.now()}),n)}},Xt=function(e,t){var n,r,o,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=null,u=0,a=function(){u=!1===c.leading?0:(new Date).getTime(),i=null,o=e.apply(n,r),i||(n=r=null)},s=function(){var s=(new Date).getTime();u||!1!==c.leading||(u=s);var l=t-(s-u);n=this;for(var f=arguments.length,_=new Array(f),d=0;d<f;d++)_[d]=arguments[d];return r=_,l<=0||l>t?(i&&(clearTimeout(i),i=null),u=s,o=e.apply(n,r),i||(n=r=null)):i||!1===c.trailing||(i=window.setTimeout(a,l)),o};return s},Jt="AI-Banner",$t="MiniChat-Unreplied-Filter",Zt="Onboarding-Highlight-Assistant",en="Onboarding-Highlight-AutoReplied",tn="Region-Filter",nn="modal",rn=function(e,t){var n=t.superType,r=t.secondaryType,o=e.find((function(e){return e.name===n}));if(o){var c=o.children;if(c.length){var i=c.find((function(e){return e.name===r}));return i||!1}return!1}return!1},on=function(e){return rn(e,{superType:Jt,secondaryType:nn})},cn=function(e){return rn(e,{superType:$t,secondaryType:nn})},un=function(e){return rn(e,{superType:Zt,secondaryType:nn})},an=function(e){return rn(e,{superType:en,secondaryType:nn})},sn=function(e){return!!window.__WEBCHAT_SESSION__.use_top_region_ui&&rn(e,{superType:tn,secondaryType:nn})},ln=n(349),fn=n.n(ln),_n={getItem:function(e,t){try{var n=window.localStorage.getItem(e);return null==n?n:t?JSON.parse(n):n}catch(e){console.warn("*** LocalStorage Error: Can not get LocalStorage *** \n".concat(e))}},setItem:function(e,t,n){try{var r=n?JSON.stringify(t):t;window.localStorage.setItem(e,r)}catch(e){console.warn("*** LocalStorage Error: Can not set LocalStorage *** \n".concat(e))}},removeItem:function(e){try{window.localStorage.removeItem(e)}catch(e){console.warn("*** LocalStorage Error: Can not remove LocalStorage *** \n".concat(e))}}},dn=function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?_n.getItem(e):fn().getItem(e)},pn=function(e,t){return fn().setItem(e,t)},Sn=function(e,t){return t?_n.removeItem(e):fn().removeItem(e)},vn=fn().supports(fn().INDEXEDDB)||fn().supports(fn().WEBSQL)?1e3:100;function En(e){return function(e){if(Array.isArray(e))return z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||q(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var hn,Tn,On=[1173241077,1261497292,1262080160,178828848,110573301,51115741],gn=[601262932,601263083],mn=[441174],bn=function(e){var t=(0,it.IE)();return("live"===t?On:"staging"===t?mn:gn).includes(e)},yn=n(95).t;function Rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rn(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Cn=r.MSG_TYPE_TEXT,Pn=r.MSG_TYPE_IMAGE,Dn=r.MSG_TYPE_PRODUCT,In=r.MSG_TYPE_ORDER,wn=r.MSG_TYPE_STICKER,Nn=r.MSG_TYPE_NOTIFICATION,Mn=r.MSG_TYPE_VOUCHER,Ln=r.MSG_TYPE_ITEM_LIST,Un=r.MSG_TYPE_FAQ,xn=r.MSG_TYPE_FAQ_QUESTION,jn=r.MSG_TYPE_FAQ_LIVEAGENT,kn=r.MSG_TYPE_FAQ_FEEDBACK,Gn=r.MSG_TYPE_FAQ_UNSUPPORTED,Fn=r.MSG_TYPE_FAQ_FEEDBACK_PROMPT,Hn=r.MSG_TYPE_FAQ_LIVEAGENT_PROMPT,Yn=r.MSG_TYPE_BUNDLE_MESSAGE,Bn=r.MSG_TYPE_OPTION_PACK,Vn=r.MSG_TYPE_SELECTED_OPTION,Wn=r.MSG_TYPE_VIDEO,Qn=r.MSG_TYPE_IMAGE_WITH_TEXT,zn=r.MSG_TYPE_RATE_CARD,qn=r.MSG_TYPE_NEW_FAQ,Kn=r.MSG_TYPE_FAQ_CATEGORY_CHOICE,Xn=r.MSG_TYPE_FAQ_QUESTION_LIST,Jn=r.MSG_TYPE_FAQ_TYPE_CHOICE,$n=r.MSG_TYPE_FAQ_CATEGORY_LIST,Zn=r.MSG_TYPE_FAQ_TYPE_BOT_REQUEST_TEXT_MESSAGE,er=r.MSG_TYPE_FAQ_TYPE_BOT_REQUEST_ORDER_MESSAGE,tr=r.FAQ_TYPE_BOT_RESPONSE_MESSAGE,nr=r.MSG_TYPE_SHOPPING_CART,rr=r.MSG_TYPE_CRM_ITEM_LIST,or=r.MSG_TYPE_RR,cr=r.MSG_TYPE_CRM_ORDER_RATE,ir=r.MSG_TYPE_LOGISTICS_CARD,ur=r.MSG_TYPE_LOGISTICS_ISSUE_ENQUIRY_CARD,ar=r.MSG_TYPE_EXPEDITED_LOGISTICS_CARD,sr=r.MSG_TYPE_LATE_DELIVERY_COMPENSATION_VOUCHER,lr=r.MSG_TYPE_CUSTOMER_SERVICE_ENTRANCE,fr=r.MSG_TYPE_INSURANCE_CS_GUIDE,_r=r.MSG_TYPE_FAQ_BOT_REVIEW_SUMMARY_CARD,dr=r.MSG_TYPE_QUESTION_LIST,pr=r.MSG_TYPE_TEXT_WITH_BUBBLE,Sr=r.MSG_TYPE_OUT_STOCK_CARD,vr=r.MSG_TYPE_RESTOCK_REMINDER_CARD,Er=r.MSG_TYPE_FAQ_BOT_TIMELINE_CARD,hr=r.MSG_TYPE_BOT_BARGAIN_CARD,Tr=r.MSG_TYPE_FAQ_BOT_AUTHENTIC_CARD,Or=r.MSG_TYPE_FAQ_TYPE_BOT_CONTACT_COURIER_CARD,gr=r.MSG_TYPE_RAISE_RR_CARD,mr=r.MSG_TYPE_INQUIRY_RR_OPERATION_CARD,br=r.MSG_TYPE_INQUIRY_RR_OPERATION_FEEDBACK_CARD,yr=r.MSG_TYPE_FAQ_TYPE_BOT_ITEM_COMPARISON,Rr=r.MSG_TYPE_INFORM_PROMOTION,Ar=r.MSG_TYPE_NEW_ARRIVAL,Cr=r.MSG_TYPE_CUSTOM_MESSAGE,Pr=r.MSG_TYPE_FAQ_BOT_SUGGESTION_CARD,Dr=r.MSG_TYPE_SET_STOCK_REMINDER_CARD,Ir=r.MSG_TYPE_FAQ_BOT_RAISE_RR_CARD,wr=r.MSG_TYPE_FAQ_BOT_RAISE_RR_CARD_FEEDBACK_CARD,Nr=r.MSG_TYPE_FAQ_BOT_TRACK_RR_STATUS_CARD,Mr=r.MSG_TYPE_FAQ_BOT_TRACK_RR_STATUS_FEEDBACK_CARD,Lr=r.MSG_TYPE_FAQ_BOT_ITEM_COLLECTIONS,Ur=r.MSG_TYPE_FAQ_BOT_TEXT_WITH_SHORTCUT,xr=r.MSG_TYPE_FAQ_BOT_PRODUCT,jr=r.MSG_TYPE_FAQ_BOT_VOUCHER_PRODUCT,kr=r.MSG_TYPE_FAQ_BOT_SELECT_PRODUCT,Gr=r.MSG_TYPE_CREDIT_CS_GUIDE,Fr=r.MSG_TYPE_OFFICIAL_CHAT_BANNER,Hr=r.MSG_TYPE_OFFICIAL_CHAT_REPAYMENT,Yr=r.MSG_TYPE_OFFICIAL_CHAT_VOUCHER,Br=r.MSG_TYPE_RICH_TEXT,Vr=r.MSG_TYPE_FAQ_BOT_VOUCHER_FULFILLMENT,Wr=r.MSG_TYPE_FAQ_BOT_MARKDOWN,Qr=r.MSG_TYPE_FAQ_TYPE_BOT_ITEM_VIDEO_CARD,zr=r.MSG_TYPE_FAQ_BOT_LIVE_STREAM_ITEM,qr=r.MSG_TYPE_CHAT_ORDER_INVITATION_CARD,Kr=r.MSG_TYPE_ACTIVE_CHATBOT_CARD,Xr=r.MSG_TYPE_FAQ_TYPE_BOT_MULTI_PRODUCTS_CARD,Jr=r.MSG_TYPE_FAQ_TYPE_BOT_TEXT_WITH_OPTION,$r=r.MSG_TYPE_VARIATION_CARD,Zr=r.MSG_TYPE_FAQ_BOT_PROMOTION_PRODUCT_CARD,eo=r.MSG_TYPE_FAQ_TYPE_FIRST_MSG_ITEM_RCMD,to="common.unsupported_message",no=(j(hn={},jn,"faq.live_agent"),j(hn,Gn,"faq.new_unsupport_input"),j(hn,Fn,"faq.feedback_prompt"),j(hn,Hn,"faq.new_live_agent_prompt"),j(hn,Wn,"conversation_detail.input_field.toolbar.video.tip"),j(hn,Qn,"conversation_list.conversation_cell.new_image_message"),j(hn,"".concat(Mn,"_shop"),"conversation_detail.workstation.voucher_panel.shop_voucher"),j(hn,"".concat(Mn,"_item"),"conversation_detail.workstation.voucher_panel.item_voucher"),j(hn,"".concat(Mn,"_product"),"conversation_detail.workstation.voucher_panel.product_voucher"),hn),ro=function(e,t){var n=no[e]||to;return bn(t)&&("faq.new_unsupport_input"!==n&&"faq.live_agent"!==n&&"faq.new_live_agent_prompt"!==n&&"conversation_detail.workstation.voucher_panel.shop_voucher"!==n||(n="".concat(n,"_idscs"))),yn(n)},oo=[mr,Xr],co=[Pn,Yn,er,Dn,In,Mn,zn,wn,xr,Xr],io=[ir,ur,ar,sr],uo=[xr,zr,Xr],ao=(j(Tn={},$r,"preview.seller_view_inquiring_variation"),j(Tn,"".concat($r,"_buyer"),"preview.buyer_view_inquiring_variation"),j(Tn,nr,"message.cart_reminder"),j(Tn,Tr,"Authentic_card_preview"),j(Tn,Kr,"chat_list.preview.translate_failed"),j(Tn,qr,"common.product"),j(Tn,"".concat(qr,"_buyer"),"message.invite_order.title"),j(Tn,Sr,"preview.set_restock_reminder"),j(Tn,vr,"preview.restock_reminder"),j(Tn,hr,"common.preview.bargain_card"),j(Tn,zr,"livestream_card_preview_text"),j(Tn,Wn,"conversation_detail.input_field.toolbar.video.tip"),j(Tn,Fn,"faq.feedback_prompt"),j(Tn,Qn,"conversation_list.conversation_cell.new_image_message"),j(Tn,Dr,"preview.prefix.set_stock_reminder"),j(Tn,Zr,"conversation_list.conversation_cell.new_faq_bot_multi_products_card_message"),Tn),so=[xr,Qr],lo=[Wn,Sr,vr,hr,zr,qr,Qn,xr,Dr],fo=function(e,t,n,r,o){var c,i,u,a,s=yn(function(e,t){var n=so.includes(e)?Dn:e;return co.includes(n)?"conversation_list.conversation_cell.new_".concat(n,"_message"):e===Ln?"common.tips.recommended".concat(t?"":"_for_you"):""}(e,n)||ao[e]);if(lo.includes(e)){switch(e){case qr:return yn(ao["".concat(e,"_buyer")]);case zr:return yn(to)}var l="";switch(e){case qr:l=null==t||null===(c=t.item_card_v2)||void 0===c||null===(i=c.name)||void 0===i?void 0:i.text;break;case Qn:l=(null==t?void 0:t.caption)||(null==t?void 0:t.title)||(null==t?void 0:t.text);break;case xr:l=(null==t||null===(u=t.models)||void 0===u||null===(a=u[0])||void 0===a?void 0:a.model_name)||(null==t?void 0:t.name);break;case Dr:l=yn("label.out_stock.title")}return"[".concat(s,"]").concat(l?" ".concat(l):"")}if(e===$r)return yn(ao["".concat(e,"_buyer")]);var f="";switch(e){case Dn:f=null==t?void 0:t.product_name;break;case In:f=((null==t?void 0:t.products)||[]).map((function(e){return e.title})).join("; ");break;case zn:f=yn(n?"conversation_list.preview.rate_card_sender":"rate_card.rate_out_service");break;case wn:if(null!=t&&t.sticker_name)return"[".concat(null==t?void 0:t.sticker_name,"]");break;case Ln:f=((null==t?void 0:t.chat_product_infos)||[]).map((function(e){return e.name})).join("; ");break;case Qr:f=_o(null==t?void 0:t.name,r);break;case Mn:if(null!=t&&t.type)return f=" ".concat(null==t?void 0:t.discount_text,", ").concat(null==t?void 0:t.rule_text),"[".concat(ro("".concat(Mn,"_").concat(e),o),"]").concat(f)}return"".concat(s).concat(f?" ".concat(f):"")},_o=function(e,t){var n=e.type,r=e.content,o=null==r?void 0:r.title;switch(n){case Gr:case fr:o=null==r?void 0:r.chat_general_text;break;case Ir:case wr:case Nr:case Mr:o=null==r?void 0:r.card_title;break;case Jr:o=null==r?void 0:r.text;break;case pr:if(o=null==r?void 0:r.text,1===(null==r?void 0:r.bubble_type))return yn("modal.select_order.title")}return Go(o,t)||yn(to)},po=[].concat(En(h),En(T),[m],En(b)),So=function(t){var n=t.message,r=t.enableTranslation,o=t.locale,c=t.conversationShopId,i=t.currentSellerAccountId,u=t.isChatlistPreview,a=t.toShopId,s=t.isSubAccount,l=t.isCBSubAccount,f=gt(o),_=function(t,n){if(!t)return{text:yn(to)};var r=t.type,o=t.message_option,c=t.crm_message_preview,i=(t.custom_preview_text,t.label_info),u=(i=void 0===i?{}:i).label_type,a=P(u);if(null!=c&&c.text&&!oo.includes(r)){var s=Go(c,n);return{text:a?"".concat("").concat(s):s}}return To(o,e.MSG_OPT_CENSORED_BLACKLIST)?{text:"".concat("").concat(yn("common.blacklist.replaced_text"))}:r?{chatbotPrefix:""}:{text:"".concat("").concat(yn(to))}}(n,f),d=_.text,p=_.chatbotPrefix;if(void 0!==d)return{text:d};var S,v,E=n.type,h=n.content,T=void 0===h?{}:h,O=T||{},g=O.text,m=void 0===g?"":g,b=O.translation,R=Do(n,{isAgent:!1,shop_id:c});switch(E){case Wr:case Br:case cr:case _r:case Lr:case Ur:case lr:case Er:v=function(e,t,n){var r,o,c=e.custom_preview_text,i=e.type,u=e.content,a=Go(c,t),s="";switch(i){case Lr:s=null==u||null===(r=u.item_collections)||void 0===r||null===(o=r[0])||void 0===o?void 0:o.collection_name;break;case Ur:s=null==u?void 0:u.text;break;case lr:return s=yn("common.chat_with_shopee"),1===(null==u?void 0:u.button_type)?a||s:yn("text.customer_service_entrance");case Er:var l;if(!n)return null==u||null===(l=u.business_info)||void 0===l?void 0:l.quoted_text}return a||s||yn(to)}(n,f,u);break;case dr:case rr:case Rr:case Ar:case Cr:case Gr:case fr:case Ir:case wr:case Nr:case Mr:case Jr:case pr:case jr:v=_o(n,f);break;case gr:case br:case mr:case or:v=function(e,t,n,r){var o,c,i=e.type,u=e.content,a="";switch(i){case gr:case br:a=Go(null==u?void 0:u.card_title,t);break;case mr:a=Go(n?null==u?void 0:u.card_title_for_sender:null==u?void 0:u.card_title_for_receiver,t);break;case or:a=Ro({isBuyer:r===(null==u?void 0:u.user_id),solution:null==u||null===(o=u.rr_detail)||void 0===o?void 0:o.solution,status:null==u||null===(c=u.rr_detail)||void 0===c?void 0:c.status})}return"[".concat(yn("label.return_and_refund"),"] ").concat(a)}(n,f,R,i);break;case jn:case xn:case kn:case Vn:case Bn:case Kn:case Zn:case kr:case Fr:case Yr:case Pr:case yr:case qn:case Un:case tr:case Vr:case Hr:v=function(e,t){var n,r,o,c,i,u,a,s=e.type,l=e.content,f=(null==l?void 0:l.text)||(null==l?void 0:l.title)||"";switch(s){case Or:f=(null==l||null===(n=l.business_info)||void 0===n?void 0:n.quoted_text)||"";break;case Pr:case yr:f=(null==l?void 0:l.comparison_summary)||"";break;case qn:case Un:var _;f=(t?null==l||null===(_=l.translated_opening)||void 0===_?void 0:_.text:null==l?void 0:l.opening)||(null==l?void 0:l.opening)||yn("faq.no_set.chat_bot_title");break;case tr:var d=JSON.parse(null==l?void 0:l.bot_data)||{},p=d.message,S=(p=void 0===p?{}:p).plain_text,v=void 0===S?"":S,E=d.reply_type;f=(1===E||1001===E?v:null==l?void 0:l.preview_text)||yn(to);break;case Vr:f=(null==l||null===(r=l.promo_title)||void 0===r||null===(o=r.text)||void 0===o?void 0:o.replace(/<\/?b>/g,""))||(null==l||null===(c=l.card_title)||void 0===c?void 0:c.text)||"";break;case Hr:f="[".concat(null==l||null===(i=l.preview)||void 0===i||null===(u=i.prefix)||void 0===u?void 0:u.replace(/[[\]]/g,""),"] ").concat(null==l||null===(a=l.bill_status)||void 0===a?void 0:a.content)}return f}(n,l);break;case Pn:case Yn:case er:case Dn:case In:case zn:case wn:case xr:case Xr:case Ln:case Qr:case Wn:case Sr:case vr:case hr:case zr:case Kr:case Tr:case nr:case $r:case qr:case Qn:case Zr:v=fo(E,T,R,f,a);break;case Cn:v=R?m:ho({message:n,isSend:R,isSubAccount:s,enableTranslation:r})&&(null==b?void 0:b.text)||m,l&&(v=(null==b?void 0:b.text)||m);break;case Xn:case Jn:case $n:v=function(e,t){var n=e.type,r=e.content;return go(n===Jn?null==r?void 0:r.faq_type_choice_translation:null==r?void 0:r.fixed_title,t)}(n,o);break;case Gn:case Hn:v=function(e,t,n){var r=e.type,o=e.content;return r===Hn&&((null==o?void 0:o.live_agent_text)||[]).length?go(null==o?void 0:o.live_agent_text,t):ro(r,n)}(n,o,a);break;case Nn:var A=bo(T,o),C=A.notification_for_sender,D=A.notification_for_receiver,I=A.notifications_for_sender_hyperlink,w=A.notifications_for_receiver_hyperlink;if(A.notification_type===y)v=R?D:C;else if(po.includes(null==T?void 0:T.notification_type)){var N;null!==(N=v=R?I:w)&&void 0!==N&&N.includes("<a>")&&(v=v.replace(/<\/?a>/g,""))}else v=R?C:D;break;case ir:case ar:case ur:case sr:v=function(e,t){var n,r=e.type,o=e.content,c=void 0===o?{}:o,i=yn("message.logistics_card.preview.prefix"),u="";switch(r){case ir:case ar:u=Ao(r,c,(null==c||null===(n=c.common_info)||void 0===n?void 0:n.user_id)===t,!0);break;case ur:u=Co(null==c?void 0:c.enquiry_info);break;case sr:u=yn("message.late_delivery_compensation_voucher.title")}return"[".concat(i,"] ").concat(u)}(n,i);break;case Hr:R||(S=!0);break;case eo:var M=(T||{}).item_card_v2s,L=null==M?void 0:M.length;v=yn(1===L?"common.recommend_product":"conversation_list.conversation_cell.new_faq_bot_multi_products_card_message");break;default:v=yn(to)}return{text:"".concat(p).concat(v),isPendingReceivedOffer:S}},vo=function(e){var t,n=(j(t={},N.TYPING_DOT,"common.typing_dot"),j(t,N.DOT,"common.dot"),j(t,N.DOT_TYPING,"common.dot_typing"),t);return{text:yn(null==n?void 0:n[e])||"",isPendingReceivedOffer:!0}},Eo=["crm","proactive_update"],ho=function(t){var n=t.message,o=t.isSend,c=t.isSubAccount,i=t.enableTranslation,u=n.send_status,a=n.message_option,s=n.content,l=void 0===s?{}:s,f=n.country,_=n.type,d=n.source,p=mo(l);return!o&&(c||"ID"!==f)&&_===r.MSG_TYPE_TEXT&&!Eo.includes(d)&&a!==e.MSG_OPT_SOCIAL_MESSAGE&&2!==u&&i&&!p},To=function(e,t){return(e&t)===t},Oo=function(){return To((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).message_option,e.MSG_OPT_DELETE)},go=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=e.find((function(e){return gt(t).toLocaleLowerCase().includes(e.lang.toLocaleLowerCase())}))||e.find((function(e){return"en"===e.lang}));return(n||{}).text},mo=function(e){var t=e||{},n=t.translation,r=t.mid;if(!n)return!0;var o=(void 0===r?{}:r).source_language,c=void 0===o?"":o,i=n||{},u=i.final,a=i.mid,s=i.target_language,l=void 0===s?"":s,f=i.source_language,_=void 0===f?"":f,d=u?u.target_language:l,p=u?u.source_language:_,S=a?a.source_language:c;return S?S===d:p===d&&"unknown"!==p},bo=function(e,t){var n=(e||{}).noti_text_of_all_languages,r=void 0===n?[]:n;if(!r.length)return e;var o=r.find((function(e){return gt(t).toLocaleLowerCase().includes(e.language.toLocaleLowerCase())}));if(o)return o;var c=r.find((function(e){return"en"===e.language}));return c||e},yo=function(e){var t=e.type,n=e.textContent,r=e.content,o={};switch(t){case In:o={products:(n||{}).products};break;case Mn:var c=n||{};o={rule_text:c.rule_text,discount_text:c.discount_text,type:c.type};break;case Dn:o={product_name:r.product_name||(null==n?void 0:n.name)}}return An(An({},e),{},{content:An(An({},r),o)})},Ro=function(e){var t=e.isBuyer,n=e.status,r=e.solution===l.Return?"return":"return_refund",o=n===s.Submit?"proposed":n===s.Refund?"succeed":"rejected";return yn("rr_message_title.".concat(t?"buyer":"seller",".").concat(r,".").concat(o))},Ao=function(e,t,n,o){var c=t||{},i=c.common_info,u=(i=void 0===i?{}:i).card_label,a=i.order_delivery_status,s=c.logistic_tracking_info,l=(s=void 0===s?{}:s).estimate_delivery_time,f=s.stuck_time,p=c.expedite_delivery_button,S=e===r.MSG_TYPE_EXPEDITED_LOGISTICS_CARD,v=u===_.Inquiry,h=E[d[a]],T="".concat(Lt(1e3*l,"www"),", ").concat(Lt(1e3*l,"LHDS")),O=o?T:"<a>".concat(T,"</a>"),g=Math.floor(f/86400),m="stuck"===h&&0===g,b="";if(S&&n&&!v)b=yn("message.expedited_logistics_card.title.buyer.expedite");else if(n){var y=p||S||a!==d.AfterGuarantee&&a!==d.AfterEstimated&&(a!==d.Stuck||v)?"":".unable_expedite";b=yn("message.".concat(e,".title.buyer.").concat(v?"inquiry":"expedite",".").concat(h).concat(y),{date:O,num:g}),m&&!S&&(b=v?yn("message.logistics_card.title.buyer.inquiry.normal",{date:O}):yn("message.logistics_card.title.buyer.expedite.nostuck".concat(y)))}else b=yn("message.logistics_card.title.seller.".concat(h),{date:O,num:g}),m&&(b="".concat(yn("message.logistics_card.title.seller.normal",{date:O})).concat(yn("message.logistics_card.title.buyer.expedite.nostuck.unable_expedite")));return b},Co=function(e){var t=e||{},n=t.display_sla_type,r=t.display_sla_value,o=t.enquiry_id;if(n===f.day&&r&&o&&"0"!==o){var c="".concat(f[n],"s");return yn("message.issue_enquiry_card.title.".concat(c),{value:r})}return yn("message.issue_enquiry_card.title.unavailable")},Po=function(e,t){if(!e||!t.includes("]"))return{prefix:t,suffix:""};var n=t.split("] "),r=n.shift(),o=n.join(" ");return{prefix:"".concat(r,"]"),suffix:" ".concat(o)}},Do=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.isAgent,r=t.to_tob_user_id,o=t.shop_id,c=e.from_id,i=e.to_shop_id;return n?c!==r:i!==o},Io=function(e){return e.replace(/[.[\]{}()+?*^\\$?]/g,"\\$&")},wo=function(){return Math.ceil(Date.now()/1e3).toString()},No=function(e){return"".concat("\n  margin: 0;\n  box-sizing: border-box;\n  padding: 8px 10px 10px;\n  font-size: 14px;\n  line-height: 20px;\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  position: fixed;\n  left: -1000;\n  right: -1000;\n","max-width: ").concat(e,"px")},Mo=function(e){var t=document.createElement("span");return t.setAttribute("style","\n  font-size: 12px;\n  line-height: 16px;\n  margin-left: 8px\n"),t.innerText=e,t},Lo=function(e,t,n,r){var o=document.createElement("pre"),c=No(e);if(o.id="chat-text-pre",o.setAttribute("style",c),o.innerText=t,n){var i=Mo(n);if(o.appendChild(i),r){var u=function(){var e=document.createElement("span");return e.setAttribute("style","\n  width: 20px;\n  height: 1px;\n  display: inline-block;\n"),e}();o.appendChild(u)}}return o},Uo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"height";document.body.appendChild(e);var n=e.getBoundingClientRect(),r="height"===t?n.height:n.width;return document.body.removeChild(e),r},xo=function(e,t,n,r){var o=Lo(n,e),c=Mo(t),i=Lo(n,e,t,r),u=Uo(o);return{conflict:u!==Uo(i),multiLine:u>38,timeWidth:Uo(c,"width"),widthConflict:Uo(i,"width")>Uo(o,"width")}},jo=function(e){var t=e.isSubAccount,n=e.status,r=e.userStatus,o=e.isBlocked;return"closed"===n?"closed":["banned","frozen"].includes(r)?r:!(0,it.z$)()&&t||!o?"":"blocked"},ko=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40,o=document.getElementById("infinite-list");if(!e||!o)return!1;var c=null==o||null===(t=o.getBoundingClientRect)||void 0===t?void 0:t.call(o),i=null==e||null===(n=e.getBoundingClientRect)||void 0===n?void 0:n.call(e);return Math.min(null==i?void 0:i.bottom,null==c?void 0:c.bottom)-Math.max(null==i?void 0:i.top,null==c?void 0:c.top)>r},Go=function(e,t){var n,r,o,c;return"string"==typeof e?e:(null==e||null===(n=e.translated_with_lang)||void 0===n||null===(r=n.find((function(e){return e.language.toLocaleLowerCase()===(null==t?void 0:t.toLocaleLowerCase())})))||void 0===r?void 0:r.text)||(null==e||null===(o=e.translated_text)||void 0===o||null===(c=o.find((function(e){return e.translated_language.toLocaleLowerCase()===(null==t?void 0:t.toLocaleLowerCase())})))||void 0===c?void 0:c.translated_text)||(null==e?void 0:e.text)||""},Fo=function(e,t){var n,r,o;return null===(n=(null===(r=Object.values(e))||void 0===r?void 0:r.find((function(e){return e.lang===gt(t)})))||(null===(o=Object.values(e))||void 0===o?void 0:o.find((function(e){return"en"===e.lang}))))||void 0===n?void 0:n.text},Ho=n(95),Yo=function(e){return e===Ye.SUBACCOUNT},Bo=function(e,t){return Yo(e)&&t===He.MAIN_SUBACCOUNT}}(),u}())},29494:function(e,t,n){"use strict";e.exports=n(96296)}}]);