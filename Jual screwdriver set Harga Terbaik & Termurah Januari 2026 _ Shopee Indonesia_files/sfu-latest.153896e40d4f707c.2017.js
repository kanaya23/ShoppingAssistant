"use strict";(("undefined"!=typeof self?self:this).webpackChunkshopee_pc=("undefined"!=typeof self?self:this).webpackChunkshopee_pc||[]).push([[9211],{7685:(e,t,i)=>{i.d(t,{DV:()=>e$});var r,a,n,o,s,c,l,u,p,d,h,v,f,_,m,g,y,w,b,R,H,C,k=i(68485),P=i(74053),S=i(34920),E=i(11566),x=i(76409),T=i(86028),O=i(61105),F=i(65129),U=i(15234),A=i(38199),D=i(76852),I="device_sz_fingerprint",L="sz-token",q="af-ac-enc-sz-token",z="x-sz-sdk-version",B="d-nonptcha-sync",M="/verify/traffic",N="/verify/traffic/error",j="/buyer/login",W={onInit:function(){},onComplete:function(){},onFail:function(){},onTimeout:function(){}},Y=((o={})[(n=em)(0)]=W,o[n(1)]=W,o.hookFUFetch=W,o.hookFUXhr=W,o),X={test:"90a081b48a9c87345189bda87a989d23",uat:"5a733eaa4e1df48aa36fd9316f093107",staging:"d9dd212362d63e8ddb085bb5bce5259f",stable:"dc6fe70845cb784460ead6c7fd76bb91",live:"f9ffc83459897a13dd14c537e84b1753"},V=((a={}).env={test:"test.",stable:"test-stable.",staging:"staging.",liveish:"live-test.",live:"",uat:"uat."},a.cid={SG:"sg",TW:"xiapi",MY:"my",PH:"ph",TH:"th",ID:"id",VN:"vn",BR:"br",MX:"mx",CO:"co",CL:"cl",PL:"pl",AR:"xiapi",ES:"xiapi",FR:"xiapi",IN:"xiapi"},a),K=["/api/v2/item/get","/api/v4/item/get","/api/v4/pdp/get","/api/v4/pdp/get_pc","/api/v4/pdp/get_rw"],G=["/api/v4/search/search_facet","/api/v4/search/search_items","/api/v4/search/search_page_common","/api/v4/search/get_ymal_items","/api/v4/search/search_filter_config","/api/v4/search/search_mart_items","/api/v4/search/search_user"],J=["/api/v4/shop/get_shop_detail","/api/v4/shop/get_categories","/api/v4/shop/get_shop_tab","/api/v4/shop/rcmd_items","/api/v4/shop/get_shop_base","/api/v4/shop/get_shop_seo","/api/v4/shop/get_products_tab_data","/api/v4/shop/get_membership_data","/api/v4/shop/get_campaign_preview","/api/v4/shop/get_top_products","/api/v4/shop/get_shop_seller_show","/api/v4/shop/get_shop_seller_info","/api/v4/shop/is_show","/api/v4/shop/get_shop_by_user","/api/v4/shop/get_follow_prize_campaign","/api/v4/shop/get_shop_base_preview","/api/v4/shop/search_items","/api/v4/shop/get_shop_core_info","/api/v4/shop/get_popup_data","/api/v4/shop/get_campaign_tab_data","/api/v4/shop/block_user","/api/v4/shop/get_scp_list","/api/v4/shop/get_shop_tab_preview","/api/v4/shop/unfollow","/api/v4/shop/follow"],$=Object.freeze({REQUEST_TIMEOUT:-99,FE_SERVER_ERROR:-999,SERVER_ERROR:10005,t:0x562056f});(c=s||(s={}))[c.Captcha=1]="Captcha",c[c.ForceLogin=2]="ForceLogin",c[c.Redirect=5]="Redirect",c[c.FORCE_DOWNLOAD_APP=8]="FORCE_DOWNLOAD_APP",c[c.FORCE_BIND_PHONE=9]="FORCE_BIND_PHONE",c[c.VERIFY_PHONE=10]="VERIFY_PHONE",(u=l||(l={}))[u.Block=2]="Block",u[u.Challenge=3]="Challenge",(d=p||(p={}))[d.Level1=1]="Level1",d[d.Level2=2]="Level2",d[d.Level3=3]="Level3",(v=h||(h={})).External="1",v.Internal="2",(_=f||(f={})).ShopeeInternal="1",_.ShopeeApp="2",(g=m||(m={}))[g.AntiCrawler=0]="AntiCrawler",g[g.Dfp=1]="Dfp",(w=y||(y={})).Request="request",w.Success="success",w.Timeout="timeout",w.Failed="failed",(R=b||(b={}))[R.PC=0]="PC",R[R.RW=1]="RW",R[R.SHOPEELIVE=2]="SHOPEELIVE",R[R.BANK=3]="BANK",(C=H||(H={})).FORCEAPP="1",C.BINDPHONE="2",C.VERIFYPHONE="3";var Q,Z,ee=!("undefined"==typeof window||!window.document||!window.document.createElement),et=/beeshop|shopee/i,ei=/shopee.*app_type=2(\s|$)/i,er=/shopee-food-driver/i,ea=/shopee-express-driver/i,en=/shopeepay|airpay/i,eo=/mitra/i,es=/seatalk/i,ec=/shopee-toc-acc-sdk/i,el=/now/i,eu=/spinjam.*app_type=20(\s|$)/i;(Z=Q||(Q={}))[Z.Shopee=1]="Shopee",Z[Z.ShopeeFoodDriver=2]="ShopeeFoodDriver",Z[Z.ShopeePartner=3]="ShopeePartner",Z[Z.ShopeeExpressDriver=4]="ShopeeExpressDriver",Z[Z.ShopeePay=5]="ShopeePay",Z[Z.Mitra=6]="Mitra",Z[Z.SeaTalk=7]="SeaTalk",Z[Z.ShopeeAccountSdk=8]="ShopeeAccountSdk",Z[Z.ShopeeFoodBuyer=11]="ShopeeFoodBuyer",Z[Z.SPinjam=12]="SPinjam";var ep=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){if(ee)return window.navigator.userAgent}();if(void 0!==e)return er.test(e)?Q.ShopeeFoodDriver:ei.test(e)?Q.ShopeePartner:ea.test(e)?Q.ShopeeExpressDriver:eo.test(e)?Q.Mitra:es.test(e)?Q.SeaTalk:ec.test(e)?Q.ShopeeAccountSdk:el.test(e)?Q.ShopeeFoodBuyer:en.test(e)?Q.ShopeePay:et.test(e)?Q.Shopee:eu.test(e)?Q.SPinjam:void 0},ed=function(){return void 0!==ep()};function eh(e,t){var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return"";var i=Object.keys(e).filter(function(t){return null!=e[t]});return i.length?(t?"":"?")+i.sort().map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&"):""}(t);if(!i.substring(1))return e;var r=(0,F._)(e.split("#"),2),a=r[0],n=r[1];return a=a.indexOf("?")>-1?a+"&"+i.substring(1):""+a+i,n?a+"#"+n:a}var ev=[/^(seller\.)((xiapi|sg|th|vn|id|ph|br|my|tw|mx|co|cl|in|ar|pl|fr|es)\.)((test|uat|staging|live-test|test-stable)\.)?shopee\.cn$/,/^(banhang\.)((test|uat|staging|live-test|test-stable)\.)?shopee\.vn$/,/^(seller\.)((test|uat|staging|live-test|test-stable)\.)?shopee\.(co\.(id|th)|com\.(ar|br|co|mx|my)|cl|es|fr|in|ph|pl|sg|tw)$/];function ef(e){if(!e)return!1;try{var t=new URL(e).hostname;return ev.some(function(e){return e.test(t)})}catch(e){return!1}}function e_(){return self.__ENV__}function em(e,t){var i=eD,r=i();return i.Lg||(i.Lg=[]),(em=function(t,a){t-=0;var n=i.Lg[t];return n||(void 0===em.LX&&(em.LT=function(e){for(var t,i,r="",a="",n=0,o=0;i=e.charAt(o++);~i&&(t=n%4?64*t+i:i,n++%4)&&(r+=String.fromCharCode(255&t>>(-2*n&6))))i="hgcpzqfsmnixkvotwlyejbduarRKXUNIMPGTYOFSVWBALCEHJQDZ4910567832+/=".indexOf(i);for(var s=0,c=r.length;s<c;s++)a+="%"+("00"+r.charCodeAt(s).toString(16)).slice(-2);return decodeURIComponent(a)},e=arguments,em.LX=!0),n=em.LT(r[t]),i.Lg[t]=n),n})(e,t)}function eg(){return self.__LOCALE__}var ey,ew=((ey={}).malls={SG:"shopee.sg",TW:"shopee.tw",MY:"shopee.com.my",PH:"shopee.ph",TH:"shopee.co.th",ID:"shopee.co.id",VN:"shopee.vn",BR:"shopee.com.br",MX:"shopee.com.mx",CO:"shopee.com.co",CL:"shopee.cl",AR:"shopee.com.ar",FR:"shopee.fr",PL:"shopee.pl",ES:"shopee.es",IN:"shopee.in"},ey.envs={test:"test.",stable:"test-stable.",staging:"staging.",liveish:"live-test.",live:"",uat:"uat."},ey);function eb(e){var t=e.env,i=e.locale;return"https://"+ew.envs[t]+ew.malls[i]}var eR=/web_sdk_host=snack/i;function eH(e){var t=e.isRelative,i=e.host;return eh(""+(t?"":i)+e.path,e.params)}function eC(e){var t,i,r,a,n,o,s=e.history,c=e.redirectType,l=e.shouldReplaceHistory,u=e.absoluteRedirectPath,p=e.relativeRedirectPath;c!==h.External&&s?l?s.replace(p):ed()?null==(i=window)||null==(t=i.WebViewJavascriptBridge)||t.callHandler("navigate",((n={}).url=u,n.popSelf=0,n.navbar={},n)):s.push(p):l?location.replace(u):ed()?null==(a=window)||null==(r=a.WebViewJavascriptBridge)||r.callHandler("navigate",((o={}).url=u,o.popSelf=0,o.navbar={},o)):location.href=u}function ek(e){var t=e.history,i=e.next,r=e.appKey,a=e.scene,n=e.shouldReplaceHistory,o=void 0===n||n,s=e.clientId,c=e.redirectType,l=void 0===c?h.External:c,u=e.verificationPageHost,p=void 0===u?location.origin:u,d=e.antiBotTrackingId,v=e.setRedirecting;l!==h.External&&t||v&&v();var f,_,m,g=(0,T._)({is_initial:!0,app_key:r,scene:void 0===a?"crawler_item":a,client_id:s,redirect_type:l,next:i,should_replace_history:o,anti_bot_tracking_id:d},i.includes("__mobile__")||ed()?{__mobile__:1}:{});eC(((m={}).history=t,m.redirectType=l,m.shouldReplaceHistory=o,m.absoluteRedirectPath=eH(((_={isRelative:!1}).host=p,_.path=M,_.params=g,_)),m.relativeRedirectPath=eH(((f={isRelative:!0}).host=p,f.path=M,f.params=g,f)),m))}function eP(e){var t,i,r,a,n,o,s=e.history,c=e.trackingId,l=e.shouldReplaceHistory,u=e.redirectType,p=void 0===u?h.External:u,d=e.verificationPageHost,v=void 0===d?location.origin:d,f=e.homeUrl,_=e.isLoggedIn,m=e.error_type,g=(0,T._)({tracking_id:c,is_logged_in:void 0===_||_,home_url:f||location.origin},m?((r={}).type=m,r):{},m===H.BINDPHONE||m===H.VERIFYPHONE?((i={}).next=location.href,i):{},location.origin.includes("xiapibuy")?((t={}).origin=location.origin,t):{},ed()?{__mobile__:1}:{});eC(((o={}).history=s,o.redirectType=p,o.shouldReplaceHistory=void 0===l||l,o.absoluteRedirectPath=eH(((n={isRelative:!1}).host=v,n.path=N,n.params=g,n)),o.relativeRedirectPath=eH(((a={isRelative:!0}).host=v,a.path=N,a.params=g,a)),o))}function eS(e){var t,i=e.history,r=e.next,a=e.redirectType,n=void 0===a?h.External:a,o=e.shouldReplaceHistory,s=void 0===o||o,c=e.verificationPageHost,l=void 0===c?location.origin:c,u=e.isFromGoogleAdsPDP,p=e.trackingId,d=(0,O._)((0,T._)({next:r},r.includes("__mobile__")||ed()?{__mobile__:1}:{},u?((t={}).is_from_fu=(new Date).getTime(),t):{}),{fu_tracking_id:p});if(function(){if(ee){var e=window.navigator.userAgent;if(eR.test(e))return!0}return!1}())window.SHPLSBridge&&(0,k._)(function(){return(0,D.YH)(this,function(e){switch(e.label){case 0:return[4,window.SHPLSBridge.checkLogin()];case 1:if(e.sent())return[3,3];return[4,window.SHPLSBridge.login()];case 2:e.sent(),window.location.reload(),e.label=3;case 3:return[2]}})})();else if(ed())null==(f=window)||null==(v=f.WebViewJavascriptBridge)||v.callHandler("login",((m={}).redirectPath=eh("main",((_={}).apprl=r,_)),m.redirectTab=1,m),function(e){0===(null==e?void 0:e.error)&&location.replace(r)});else if(location.origin.includes("xiapibuy")){var v,f,_,m,g,y,w,b,R,H,C,P,S=window.location.origin+"/api/seller_platform/nonce/callback/",E=window.btoa(JSON.stringify(((R={}).next=window.location.href,R))),x=e_();eC(((b={}).history=i,b.redirectType=h.External,b.shouldReplaceHistory=s,b.absoluteRedirectPath=eH(((w={isRelative:!1}).host="https://account.seller."+(V.env[x]||"")+"shopee.com",w.path="/signin/oauth/identifier",(y={account_type:2}).client_id=X[x]||X.live,y.require_passwd=!0,y.login_types="[1,2,3,4,5]",y.redirect_uri=S,y.region=eg(),y.response_type="tob_nonce",y.scope="profile",y.state=E,w.params=y,w)),b.relativeRedirectPath=eH(((g={isRelative:!0}).host=l,g.path=j,g.params=d,g)),b))}else eC(((P={}).history=i,P.redirectType=n,P.shouldReplaceHistory=s,P.absoluteRedirectPath=eH(((C={isRelative:!1}).host=l,C.path=j,C.params=d,C)),P.relativeRedirectPath=eH(((H={isRelative:!0}).host=l,H.path=j,H.params=d,H)),P))}function eE(e,t){return new Promise(function(i,r){setTimeout(function(){try{i(t())}catch(e){r(e)}},e)})}var ex="1.12.27",eT=function(e){var t,i,r,a;ef(window.location.href)||null==(i=window)||null==(t=i.Sentry)||t.captureException(e,((a={}).tags=((r={sentryProjectSlug:"shopee-secure-fetch-utils"}).sfuVersion=""+ex,r),a))};function eO(e){var t=e.antiCrawlerConfig,i=e.response,r=e.pathname,a=e.platform,n=e.source,o=e.setRedirecting,c=e.getRedirecting,u=e.triggerAntiCrawlerCustomizedErrorPage,p=e.triggerAntiCrawlerForceLogin,d=e.triggerAntiCrawlerVerification,v=e.enablePopup;if(i&&t){if(i[3]?(B=(q=i)[4],N=q[0],j=q[1],X=q[2],Y=q[3],W=null==(z=q[6])?void 0:z[0],K=null==z?void 0:z[1]):(B=(q=i).challenge_type,N=q.action_type,j=q.tracking_id,X=q.is_login,Y=q.error,W=null==(I=q.captcha_extra_info)?void 0:I.tracking_id,K=null==(L=q.captcha)?void 0:L.business),Y!==$.t||location.href.includes("/verify/traffic")||location.href.includes("/verify/captcha")||c&&o&&c())return;if(N===l.Block){var f=a===b.SHOPEELIVE?location.origin+"/pc/setup":t.homeUrl;return void u(((D={}).trackingId=j||"",D.shouldReplaceHistory=t.shouldReplaceHistory,D.redirectType=t.redirectType,D.isLoggedIn=X,D.verificationPageHost=t.verificationPageHost,D.homeUrl=f,D))}if(B===s.Captcha){var _=a==b.PC||a==b.RW?(K||"TSS")+"."+b[a]:n?(K||"TSS")+"."+n:t.appKey;if(!_)return;return void(v&&t.usePopupCaptcha?function(e){var t,i,r=e.appKey,a=e.scene,n=e.clientId,o=e.shouldReplaceHistory,s=e.antiBotTrackingId,c=e.verificationPageHost;if(ee){if(document.querySelector("#sfu-captcha-modal"))return;var l=document.createElement("div");l.setAttribute("id","sfu-captcha-modal"),l.classList.add("sfu-captcha-modal"),l.classList.add("open");var u=document.createElement("div");u.classList.add("sfu-captcha-modal-body"),l.appendChild(u);var p=document.createElement("iframe"),d=((i={is_initial:!0}).app_key=r,i.scene=void 0===a?"crawler_item":a,i.client_id=n,i.redirect_type=h.Internal,i.use_popup=!0,i.should_replace_history=o,i.anti_bot_tracking_id=s,i.__mobile__="1",i),v=eH(((t={isRelative:!1}).host=c||window.location.protocol+"//"+window.location.host,t.path=M,t.params=d,t));p.setAttribute("src",v),p.setAttribute("name","sfu-captcha-modal-iframe"),p.style.width="100%",p.style.height="100%",u.appendChild(p),document.body.appendChild(l),document.body.classList.add("sfu-captcha-modal-open");var f=document.createElement("script");f.setAttribute("type","text/javascript");var _=document.createTextNode(`
    function closeSFUCaptchaModal() {
        var sfuCaptchaModal = document.querySelector('#sfu-captcha-modal');
        if(sfuCaptchaModal){
          sfuCaptchaModal.remove();
        }
        document.body.classList.remove('sfu-captcha-modal-open');
    }
    `);f.appendChild(_);var m=document.createElement("style");m.setAttribute("type","text/css");var g=document.createTextNode(`
    .sfu-captcha-modal {
        display: none;
        position: fixed; 
        inset: 0;
        background-color: rgba(0, 0, 0, .75);
        z-index: 100000;
        overflow: auto;
    }
    .sfu-captcha-modal.open {
        display: flex;
    }
    .sfu-captcha-modal-body {
        width: 80vw;
        max-width: 500px;
        min-width:  400px;
        height: 550px;
        margin: auto; 
        background: #fff;
    }
    .sfu-captcha-modal iframe {
      box-sizing: border-box;
    }
    body.sfu-captcha-modal-open {
        overflow: hidden;
    }`);m.appendChild(g),document.getElementsByTagName("head")[0].appendChild(m),document.getElementsByTagName("head")[0].appendChild(f)}}(((A={}).clientId=t.captchaClientId||"",A.next=t.next||location.href,A.appKey=_,A.scene="crawler_item",A.redirectType=t.redirectType,A.shouldReplaceHistory=t.shouldReplaceHistory,A.verificationPageHost=t.verificationPageHost,A.antiBotTrackingId=W,A)):d(((U={}).clientId=t.captchaClientId||"",U.next=t.next||location.href,U.appKey=_,U.scene="crawler_item",U.redirectType=t.redirectType,U.shouldReplaceHistory=t.shouldReplaceHistory,U.verificationPageHost=t.verificationPageHost,U.antiBotTrackingId=W,U.setRedirecting=o,U)))}if(B===s.Redirect){var m=e_(),g=eg();if(m&&g){var y="https://"+(V.cid[g]||"xiapi")+"."+(V.env[m]||"")+"xiapibuy.com";location.replace(y)}return}if(B===s.ForceLogin){if(location.href.includes("/buyer/login")||location.href.includes("/buyer/authenticate"))return;var w,R,C,k,P,S,E,x,T,O,F,U,A,D,I,L,q,z,B,N,j,W,Y,X,K,G,J,Q=location.pathname.startsWith("/product")&&location.href.includes("gads_t_sig");Q&&(a===b.PC||a===b.RW)&&(window.BITrack?window.BITrack(((F={}).data=((O={type:"v3"}).timestamp=(new Date).getTime(),(T={operation:"action_sfu_handle"}).data=((x={code:1}).scenario=JSON.stringify(((E={}).response=i,E.pathname=r,E)),x),O.info=T,O),F)):ef(window.location.href)||null==(J=window)||null==(G=J.Sentry)||G.captureMessage("BITrack is not defined",((S={}).tags=((P={sentryProjectSlug:"shopee-secure-fetch-utils"}).sfuVersion=""+ex,P),S))),p(((k={}).next=t.next||location.href,k.redirectType=t.redirectType,k.shouldReplaceHistory=t.shouldReplaceHistory,k.verificationPageHost=t.verificationPageHost,k.isFromGoogleAdsPDP=Q,k.trackingId=j||"",k))}if(B===s.FORCE_DOWNLOAD_APP)return void u(((C={}).trackingId=j||"",C.shouldReplaceHistory=t.shouldReplaceHistory,C.redirectType=t.redirectType,C.verificationPageHost=t.verificationPageHost,C.error_type=H.FORCEAPP,C));if(B===s.FORCE_BIND_PHONE)return void u(((R={}).trackingId=j||"",R.shouldReplaceHistory=t.shouldReplaceHistory,R.redirectType=t.redirectType,R.verificationPageHost=t.verificationPageHost,R.error_type=H.BINDPHONE,R));if(B===s.VERIFY_PHONE)return void u(((w={}).trackingId=j||"",w.shouldReplaceHistory=t.shouldReplaceHistory,w.redirectType=t.redirectType,w.verificationPageHost=t.verificationPageHost,w.error_type=H.VERIFYPHONE,w))}}var eF=function(e,t,i,r){if(!e.allowCors&&!i||r&&e.limitMethods&&!e.limitMethods.some(function(e){return e.toLowerCase()===r.toLowerCase()}))return!1;switch(e.match){case"contain":if(t.includes(e.policyurl))return!e.exclude||!e.exclude.some(function(e){return t.includes(e)});break;case"regexp":if(e.policyurl.test(t))return!e.exclude||!e.exclude.some(function(e){return t.includes(e)});break;case"full":if(e.policyurl===t)return!0}return!1},eU=function(e,t,i,r){for(var a=0;a<e.length;a++){var n=e[a];if(eF(n,t,i,r))return n}},eA=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;(0,P._)(this,e),(0,E._)(this,"items",void 0),(0,E._)(this,"maxSize",void 0),this.items=[],this.maxSize=t}return(0,S._)(e,[{key:"enqueue",value:function(e){this.size()>=this.maxSize&&(this.dequeue(),(0,x._)(e,eq)&&this.items[0].civid),this.items.push(e)}},{key:"dequeue",value:function(){return this.isEmpty()?"Underflow":this.items.shift()}},{key:"isEmpty",value:function(){return 0===this.items.length}},{key:"size",value:function(){return this.items.length}},{key:"getItems",value:function(){return this.items}}]),e}();function eD(){return["Rd6WUqvOa0bDRul6j1lA","Kf2PrqvOa0bDRul6j1lA","UsnWr1UOXYqEUfOpXFq0KfbDw0bZUf2CRuWOrzbDXF2DjfqSrw","UsnWr1UOXYqEUfOpXFq0KfbDlF2Da1bkK1UWKM","UsnWr1UOXYqEUfOpXFq0KfbDbFbDRdrWa1q4Rd2E","X1PHUdQYb1qWUzrHXYlFXzOERuw","ad64RjrDaubYw12ErFOS","r1b4b1bGlfb1RdvOlFOEr1bDXsnWKSw"]}var eI=function(){function e(t,i){(0,P._)(this,e),(0,E._)(this,"key",void 0),(0,E._)(this,"timestamp",void 0),this.key=t,this.timestamp=i}return(0,S._)(e,[{key:"serialize",value:function(){var e=new ArrayBuffer(6),t=new DataView(e);return t.setUint16(0,this.key),t.setUint32(2,this.timestamp),e}}]),e}(),eL=function(){function e(t,i,r){(0,P._)(this,e),(0,E._)(this,"x",void 0),(0,E._)(this,"y",void 0),(0,E._)(this,"timestamp",void 0),this.x=t,this.y=i,this.timestamp=r}return(0,S._)(e,[{key:"serialize",value:function(){var e=new ArrayBuffer(8),t=new DataView(e);return t.setUint16(0,this.x),t.setUint16(2,this.y),t.setUint32(4,this.timestamp),e}}]),e}(),eq=function(){function e(t,i,r,a,n,o,s,c,l,u,p){(0,P._)(this,e),(0,E._)(this,"operation",void 0),(0,E._)(this,"timestamp",void 0),(0,E._)(this,"civid",void 0),(0,E._)(this,"page_type",void 0),(0,E._)(this,"page_section",void 0),(0,E._)(this,"target_type",void 0),(0,E._)(this,"last_civ_id",void 0),(0,E._)(this,"itemidl",void 0),(0,E._)(this,"itemidr",void 0),(0,E._)(this,"shopidl",void 0),(0,E._)(this,"shopidr",void 0),this.operation=t,this.timestamp=i,this.civid=r,this.page_type=a,this.page_section=n,this.target_type=o,this.last_civ_id=s,this.itemidl=c,this.itemidr=l,this.shopidl=u,this.shopidr=p}return(0,S._)(e,[{key:"serialize",value:function(e){var t=new ArrayBuffer(34),i=new DataView(t);i.setUint8(0,this.operation),i.setUint32(1,this.timestamp),i.setUint8(5,e.indexOf(this.civid));for(var r=0;r<this.page_type.length;r++)i.setUint8(6+r,this.page_type.charCodeAt(r));for(r=0;r<this.page_section.length;r++)i.setUint8(11+r,this.page_section.charCodeAt(r));return i.setUint8(16,this.target_type),i.setUint8(17,e.indexOf(this.last_civ_id)),i.setUint32(18,this.itemidl),i.setUint32(22,this.itemidr),i.setUint32(26,this.shopidl),i.setUint32(30,this.shopidr),t}}]),e}(),ez=function(){function e(t,i,r,a,n,o,s,c){(0,P._)(this,e),(0,E._)(this,"basetimestampl",void 0),(0,E._)(this,"basetimestampr",void 0),(0,E._)(this,"cividmaplen",void 0),(0,E._)(this,"eventlen",void 0),(0,E._)(this,"oribitlen",void 0),(0,E._)(this,"cividmap",void 0),(0,E._)(this,"currentTimeOffset",void 0),(0,E._)(this,"nonce",void 0),this.basetimestampl=t,this.basetimestampr=i,this.cividmaplen=r,this.eventlen=a,this.oribitlen=n,this.cividmap=o,this.currentTimeOffset=s,this.nonce=c}return(0,S._)(e,[{key:"serialize",value:function(){var e=this.cividmap.length,t=new ArrayBuffer(23+e),i=new DataView(t);i.setUint32(0,this.basetimestampl),i.setUint32(4,this.basetimestampr),i.setUint8(8,this.cividmaplen),i.setUint8(9,this.eventlen),i.setUint8(10,this.oribitlen);for(var r=0;r<e;r++)i.setUint8(11+r,this.cividmap.charCodeAt(r));for(i.setUint32(11+e,this.currentTimeOffset),r=0;r<8;r++)i.setUint8(15+e+r,this.nonce[r]);return t}}]),e}(),eB=new eA(20),eM=new eA(21),eN=new eA(5),ej=new eA(5),eW={view:1,auto_view:2,click:3,impression:4,other:5},eY={item:1,shop:2,voucher:3,banner:4,category:5,skinny_banner:6,cluster:7,tab:8,other:9};function eX(){try{var e=void 0!==performance.timeOrigin?performance.timeOrigin:performance.timing.navigationStart,t=Math.floor(performance.now());e<1e10&&(e*=1e3);var i=Math.floor(e/1e9),r=Math.floor(e%1e9),a=[];eB.getItems().map(function(e){a.includes(e.civid)||""===e.civid||a.push(e.civid),a.includes(e.last_civ_id)||""===e.last_civ_id||a.push(e.last_civ_id)}),eN.getItems().map(function(e){a.includes(e.civid)||""===e.civid||a.push(e.civid),a.includes(e.last_civ_id)||""===e.last_civ_id||a.push(e.last_civ_id)});var n=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=new Uint8Array(e),i=0;i<e;i++)t[i]=Math.floor(256*Math.random());return t}(),o=new ez(i,r,a.length,eB.size()+eN.size(),eM.size(),a.join(""),t,n),s=23+o.cividmap.length+34*(eB.size()+eN.size())+8*eM.size()+6*ej.size(),c=new ArrayBuffer(s),l=new Uint8Array(c);l.set(new Uint8Array(o.serialize()),0);var u=23+o.cividmap.length;eB.getItems().map(function(e){(null==e?void 0:e.serialize)&&(l.set(new Uint8Array(e.serialize(a)),u),u+=34)}),eN.getItems().map(function(e){(null==e?void 0:e.serialize)&&(l.set(new Uint8Array(e.serialize(a)),u),u+=34)}),eM.getItems().map(function(e){(null==e?void 0:e.serialize)&&(l.set(new Uint8Array(e.serialize()),u),u+=8)}),ej.getItems().map(function(e){(null==e?void 0:e.serialize)&&(l.set(new Uint8Array(e.serialize()),u),u+=6)});for(var p=btoa(String.fromCharCode.apply(null,Array.from(l))),d="",h=1,v=0;v<p.length;v++)p[v]===p[v+1]?h++:(d+=h>=5?"A|"+h+"|":p[v].repeat(h),h=1);return d}catch(e){return eT(e),"error"}}var eV,eK,eG=((eK={})["/webapi/v1/shop_page/replay/add"]={shouldReplaceHistory:"false"},eK["/webapi/v1/host_config/permission"]={shouldReplaceHistory:"false"},eK["/webapi/v1/item/my_shop"]={shouldReplaceHistory:"false"},eK["/webapi/v1/item/my_likes"]={shouldReplaceHistory:"false"},eK["/webapi/v1/item/my_recent"]={shouldReplaceHistory:"false"},eK["/webapi/v1/item/parse_url"]={shouldReplaceHistory:"false"},eK),eJ=((eV={})["/api/v4/microsite/get_items"]={shouldReplaceHistory:"false"},eV["/api/v4/market_coin/get_product_feeds"]={shouldReplaceHistory:"false"},eV["/api/v2/add_on_deal/info"]={shouldReplaceHistory:"false"},eV["/api/v2/add_on_deal/get_main_item_info"]={shouldReplaceHistory:"false"},eV["/api/v2/add_on_deal/get_add_on_deal_list"]={shouldReplaceHistory:"false"},eV["/api/v2/add_on_deal/get_sub_item_info"]={shouldReplaceHistory:"false"},eV["/api/v4/flash_sale/flash_sale_get_items"]={shouldReplaceHistory:"false"},eV["/api/v4/flash_sale/spm/get_all_itemids"]={shouldReplaceHistory:"false"},eV["/api/v4/pdp/other_quantities/get"]={shouldReplaceHistory:"false"},eV["/api/v4/product/get_shop_info"]={shouldReplaceHistory:"false"},eV["/api/v4/search/search_prefills"]={shouldReplaceHistory:"false"},eV["/api/v4/search/search_hint"]={shouldReplaceHistory:"false"},eV["/api/v4/search/trending_search"]={shouldReplaceHistory:"false"},eV);function e$(e){var t,r,a,n,o=e.locale,s=e.env,c=e.platform,l=e.source,u=e.enableGlobalHook,p=e.enableTMS,d=e.baseUrl,v=void 0===d?"":d,f=e.shouldAppendHost,_=(e.allowShortDfp,e.headers),g=e.enablePopup,y=e.handleMaintenanceModeResponse,w=e.policies,R=e.performanceTrackings,H=e.onError,C=e.onJsonResponse,P=void 0===C?function(){}:C,S=(r={},c==b.PC||c==b.RW?r=eJ:c===b.SHOPEELIVE&&(r=eG),r),M=function(e){var t,r=e.locale,a=e.env,n=e.platform,o=e.source,s=e.ACConfig,c=e.performanceTrackings,l=void 0===c?Y:c,u=e.enableGlobalHook,p=e.enableTMS,d=e.enablePopup,v=e.policies,f=e.onError,_=void 0===f?function(){}:f,g=null,y=null,w=null,R=null,H=null,C=null,P=!1;function S(){P=!0}function M(){return P}function N(e){(n===b.PC||n===b.RW)&&eT(e)}function j(e){return(0,k._)(function(e){var t,o,s,c,u,p,d,h,v,f;return(0,D.YH)(this,function(_){switch(_.label){case 0:if(t=e.history,s=void 0===(o=e.onFail)?function(){}:o,h=em,!(n!==b.BANK&&(t&&(C=t),null==y&&null==w&&ee)))return[3,4];_.label=1;case 1:return _.trys.push([1,3,,4]),l[h(0)].onInit(),l[h(1)].onInit(),[4,y=(0,k._)(function(){return(0,D.YH)(this,function(e){return[2,i.e(6476).then(i.bind(i,86357))]})})()];case 2:return g=_.sent(),l[h(1)].onComplete(),(r||a)&&(g.default?g.default.setSdkConfig((0,T._)({},r?((d={}).region=r,d):{},a?((p={}).env=a,p):{})):g.setSdkConfig((0,T._)({},r?((u={}).region=r,u):{},a?((c={}).env=a,c):{}))),w=g.default?g.default.initSdk(m.Dfp):g.initSdk(m.Dfp),R=eE(5e3,function(){return{timeout:!0}}),H=eE(1e3,function(){return{timeout:!0}}),l[h(0)].onComplete(),[3,4];case 3:return N(_.sent()),null==(v=(f=l[h(0)]).onFail)||v.call(f),s(),[3,4];case 4:return[2]}})}).apply(this,arguments)}function W(){var e,t=function(e){for(var t="",i=0;i<e.length;i++)t+=e[i].toString(16).padStart(2,"0");return t}(function(){for(var e=new Uint8Array(8),t=0;t<8;t++)e[t]=Math.floor(256*Math.random());return e}());return(e={})["af-ac-enc-dat"]=t,e}function X(){return(0,k._)(function(){var e,t,i,r=arguments;return(0,D.YH)(this,function(a){switch(a.label){case 0:t=void 0!==(e=(r.length>0&&void 0!==r[0]?r[0]:{}).shouldWaitForDfpInit)&&e,a.label=1;case 1:return a.trys.push([1,4,,5]),[4,y];case 2:return a.sent(),[4,Promise.race([w,t?R:H])];case 3:return[2,(a.sent(),g.default?g.default.getClientCheckData():g.getClientCheckData())];case 4:return[2,(N(i=a.sent()),_(i),"")];case 5:return[2]}})}).apply(this,arguments)}function V(){return""+ex}function $(){return(0,k._)(function(){var e;return(0,D.YH)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,y];case 1:return t.sent(),[2,(e=g.default?g.default.getDegradedData():g.getDegradedData())&&"string"==typeof e?(0,U._)(e).some(function(e){return e.charCodeAt(0)>127})?"":e:""];case 2:return t.sent(),[2,""];case 3:return[2]}})})()}return function(){if(ee&&u&&!window.__fu_hook){window.__fu_hook=!0,p&&function(){try{document.addEventListener("keydown",function(e){try{var t,i=performance.now();if(void 0!==e.key&&null!==e.key)1==e.key.length?t=new eI(e.key.charCodeAt(0),i):e.key.length>1&&(t=new eI(e.key.charCodeAt(0)<<8|e.key.charCodeAt(e.key.length-1),i)),ej.enqueue(t);else if(void 0!==e.keyCode){var r=new eI(e.keyCode,i);ej.enqueue(r)}}catch(e){return eT(e),"error"}}),navigator.maxTouchPoints>0?(document.addEventListener("touchmove",function(e){try{if(void 0!==e.touches&&null!==e.touches){var t=void 0;if(e.touches.length>0?t=e.touches:e.changedTouches.length>0&&(t=e.changedTouches),void 0!==t){var i=performance.now(),r=new eL(t[0].clientX+1e4,t[0].clientY,i);eM.enqueue(r)}}}catch(e){return eT(e),"error"}}),document.addEventListener("touchend",function(e){try{if(void 0!==e.touches&&null!==e.touches){var t=void 0;if(e.touches.length>0?t=e.touches:e.changedTouches.length>0&&(t=e.changedTouches),void 0!==t){var i=performance.now(),r=new eL(t[0].clientX+1e4,t[0].clientY,i);eM.enqueue(r)}}}catch(e){return eT(e),"error"}})):(document.addEventListener("mousemove",function(e){try{var t=performance.now(),i=new eL(e.clientX,e.clientY,t);eM.enqueue(i)}catch(e){return eT(e),"error"}}),document.addEventListener("click",function(e){try{var t=performance.now(),i=new eL(e.clientX+1e4,e.clientY,t);eM.enqueue(i)}catch(e){return eT(e),"error"}}))}catch(e){eT(e)}if("function"==typeof window.IDBObjectStore){var e=IDBObjectStore.prototype.add;try{IDBObjectStore.prototype.add=function(t,i){try{if("object"==(void 0===t?"undefined":(0,A._)(t))&&null!==t&&null!==t.data&&void 0!==t.data){var r=JSON.parse(t.data);if(null!==r.operation&&void 0!==r.operation){var a=-1!==eW[r.operation]?eW[r.operation]:0,n=r.event_timestamp-(void 0!==performance.timeOrigin?performance.timeOrigin:performance.timing.navigationStart),o=r.civ_id.replace(/-/g,""),s=r.page_type.slice(0,5),c=r.page_section.slice(0,5),l=0;""!=r.target_type&&null!==r.target_type&&(l=eY[r.target_type]?eY[r.target_type]:9);var u="";null!==r.last_civ_id&&void 0!==r.last_civ_id&&(u=r.last_civ_id.replace(/-/g,""));var p=0,d=0;if(null!==r.data&&void 0!==r.data){var h=r.data;if(null!==h.viewed_objects&&void 0!==h.viewed_objects&&h.viewed_objects.length>0){var v=h.viewed_objects[0];null!=v&&(null!==v.ctx_itemid&&void 0!==v.ctx_itemid&&(p=v.ctx_itemid),null!==v.itemid&&void 0!==v.itemid&&(p=v.itemid),null!==v.item_id&&void 0!==v.item_id&&(p=v.item_id),null!==v.ctx_shopid&&void 0!==v.ctx_shopid&&(d=v.ctx_shopid),null!==v.shopid&&void 0!==v.shopid&&(d=v.shopid),null!==v.shop_id&&void 0!==v.shop_id&&(d=v.shop_id))}}var f=Math.floor(p/1e9),_=p%1e9,m=Math.floor(d/1e9),g=d%1e9;3==a?eN.enqueue(new eq(a,n,o,s,c,l,u,f,_,m,g)):eB.enqueue(new eq(a,n,o,s,c,l,u,f,_,m,g))}}}catch(e){eT(e)}return e.call(this,t,i)}}catch(e){eT(e)}}}();var e=window.fetch;window.fetch=function(){for(var t=arguments.length,i=Array(t),c=0;c<t;c++)i[c]=arguments[c];return(0,k._)(function(){var t,c,u,f,_,m,g,y,w,R,H,k,P,I,L,Y,X,Q,Z,ee,et,ei,er,ea,en,eo,es,ec,el,eu;return(0,D.YH)(this,function(D){switch(D.label){case 0:y=(g=(0,F._)(i,2))[0],w=g[1],D.label=1;case 1:if(D.trys.push([1,10,,11]),k=(H=window.Request&&(0,x._)(y,Request)?new URL(y.url,window.location.origin):new URL(y.toString(),window.location.origin)).origin===window.location.origin,P=H.pathname.replace(/\/+$/,""),I=null==w||null==(R=w.method)?void 0:R.toLowerCase(),L=performance.now(),X=!1,Y=!1,(null==w?void 0:w.anticrawler)&&(Y=!0),p&&(K.some(function(e){return P===e})||G.some(function(e){return P===e})||J.some(function(e){return P===e}))&&(X=!0),!Y&&v&&Array.isArray(v)&&v.length>0&&(Y=!!eU(v,P,k,I)),!Y)return[3,3];return l.hookFUFetch.onInit(),j({}),Q=V(),[4,$()];case 2:Z=D.sent(),ee=W(),window.Request&&(0,x._)(y,Request)?(y.headers.set(z,Q),y.headers.set(q,Z),Object.entries(ee).forEach(function(e){var t=(0,F._)(e,2),i=t[0],r=t[1];y.headers.set(i,r)}),X&&(er=eX(),y.headers.set(B,er))):w?Array.isArray(w.headers)?(w.headers.push([z,Q]),w.headers.push([q,Z]),Object.entries(ee).forEach(function(e){var t=(0,F._)(e,2),i=t[0],r=t[1];(null==w?void 0:w.headers).push([i,r])}),X&&(ea=eX(),w.headers.push([B,ea]))):w.headers=(0,T._)((0,O._)((0,T._)({},w.headers,ee),(et={},(0,E._)(et,q,Z),(0,E._)(et,z,Q),et)),X?((m={})[B]=eX(),m):{}):((_={}).headers=(0,T._)((0,O._)((0,T._)({},ee),(ei={},(0,E._)(ei,q,Z),(0,E._)(ei,z,Q),ei)),X?((f={})[B]=eX(),f):{}),w=_),(n===b.PC||n===b.RW)&&(window.__SFUC||(window.__SFUC=0),window.__SFUC++),en=Math.floor(performance.now()-L),(null==w?void 0:w.anticrawler)||l.hookFUFetch.onComplete(en),D.label=3;case 3:return[4,e(y,w)];case 4:if(!(eo=D.sent())||!eo.ok)return[2,eo];D.label=5;case 5:if(D.trys.push([5,8,,9]),es=eo.status,!(Y&&es>=200&&es<300&&204!==es)||!((ec=eo.headers.get("content-type"))&&ec.includes("application/json")))return[3,7];return[4,eo.clone().json()];case 6:if(!(el=D.sent())||"object"!=(void 0===el?"undefined":(0,A._)(el))||Array.isArray(el))return[2,eo];eu=(null==w?void 0:w.anticrawler)?w.anticrawler:null==s?void 0:s[P],eO((c=em,(u={}).antiCrawlerConfig=(0,O._)((0,T._)({redirectType:n==b.PC||n==b.RW?h.Internal:h.External,verificationPageHost:n==b.PC||n==b.RW?location.origin:eb(((t={}).env=a||"live",t.locale=r||"SG",t))},eu),{shouldReplaceHistory:!1!==(null==eu?void 0:eu.shouldReplaceHistory)&&"false"!==(null==eu?void 0:eu.shouldReplaceHistory)}),u.response=el,u.pathname=P,u.platform=n,u.source=o,u.setRedirecting=S,u.getRedirecting=M,u[c(2)]=function(e){return eP((0,O._)((0,T._)({},e),{history:C}))},u[c(3)]=function(e){return eS((0,O._)((0,T._)({},e),{history:C}))},u[c(4)]=function(e){return ek((0,O._)((0,T._)({},e),{history:C}))},u.enablePopup=d,u)),D.label=7;case 7:return[2,eo];case 8:return[2,(N(D.sent()),eo)];case 9:return[3,11];case 10:return[2,(N(D.sent()),e.apply(void 0,(0,U._)(i)))];case 11:return[2]}})})()};var t=XMLHttpRequest.prototype.open,i=XMLHttpRequest.prototype.setRequestHeader,c=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.open=function(){for(var e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];this.openargs=i,this.headers={},t.apply(this,i)},XMLHttpRequest.prototype.setRequestHeader=function(e,t){this.headers[e]=t,i.call(this,e,t)},XMLHttpRequest.prototype.send=function(e){return(0,k._)(function(){var t,i,u,f,_,m,g,y,w,R,H,k,P,E;return(0,D.YH)(this,function(x){switch(x.label){case 0:if(x.trys.push([0,3,4,5]),t=this,i="",u=!1,f=!1,!this.openargs||(m=(_=new URL(this.openargs[1].toString(),window.location.origin)).origin===window.location.origin,i=_.pathname.replace(/\/+$/,""),g=this.openargs[0].toLowerCase(),y=performance.now(),v&&Array.isArray(v)&&v.length>0&&(u=!!eU(v,i,m,g)),p&&(K.some(function(e){return i===e})||G.some(function(e){return i===e})||J.some(function(e){return i===e}))&&(f=!0),!u))return[3,2];for(var F in l.hookFUXhr.onInit(),j({}),w=V(),this.headers[z]||this.setRequestHeader(z,w),R=W())this.headers[F]||this.setRequestHeader(F,R[F]);return[4,$()];case 1:H=x.sent(),this.headers[q]||this.setRequestHeader(q,H),f&&(k=eX(),this.headers[B]||this.setRequestHeader(B,k)),(n===b.PC||n===b.RW)&&(window.__SFUC||(window.__SFUC=0),window.__SFUC++),P=Math.floor(performance.now()-y),l.hookFUXhr.onComplete(P),x.label=2;case 2:return E=this.onreadystatechange,this.onreadystatechange=function(){for(var e,c,l,p=arguments.length,v=Array(p),f=0;f<p;f++)v[f]=arguments[f];if(t.readyState===XMLHttpRequest.DONE)try{if(u&&t.status>=200&&t.status<300&&204!==t.status){var _=t.getResponseHeader("Content-Type");if(_&&!_.includes("application/json"))return;var m=t.responseType;if("blob"==m||"arraybuffer"==m||"document"==m)return;var g=m&&"text"!==m&&t.response?t.response:JSON.parse(t.responseText),y=null==s?void 0:s[i];eO((c=em,(l={}).antiCrawlerConfig=(0,O._)((0,T._)({redirectType:n==b.PC||n==b.RW?h.Internal:h.External,verificationPageHost:n==b.PC||n==b.RW?location.origin:eb(((e={}).env=a||"live",e.locale=r||"SG",e))},y),{shouldReplaceHistory:"false"!==(null==y?void 0:y.shouldReplaceHistory)}),l.response=g,l.pathname=i,l.source=o,l.platform=n,l.setRedirecting=S,l.getRedirecting=M,l[c(2)]=function(e){return eP((0,O._)((0,T._)({},e),{history:C}))},l[c(3)]=function(e){return eS((0,O._)((0,T._)({},e),{history:C}))},l[c(4)]=function(e){return ek((0,O._)((0,T._)({},e),{history:C}))},l.enablePopup=d,l))}}catch(e){N(e)}null==E||E.apply(t,v)},[3,5];case 3:return N(x.sent()),[3,5];case 4:return c.call(this,e),[7];case 5:return[2]}})}).call(this)}}}(),(t={}).i=j,t.o=V,t.p=$,t.l=function(){return(0,k._)(function(){var e,t;return(0,D.YH)(this,function(i){switch(i.label){case 0:return i.trys.push([0,6,,7]),[4,y];case 1:if(i.sent(),!g.default)return[3,3];return[4,g.default.getLongToken()];case 2:return t=i.sent(),[3,5];case 3:return[4,g.getLongToken()];case 4:t=i.sent(),i.label=5;case 5:return[2,(e=t)&&"string"==typeof e?e:""];case 6:return[2,(N(i.sent()),"")];case 7:return[2]}})})()},t.u=W,t.h=function(e){return ek((0,O._)((0,T._)({},e),{history:C}))},t.v=function(e){return eP((0,O._)((0,T._)({},e),{history:C}))},t.m=function(e){return eS((0,O._)((0,T._)({},e),{history:C}))},t._=X,t.R=function(e){return(0,k._)(function(e){var t,i,r,a,n,o,s,c,l,u;return(0,D.YH)(this,function(p){switch(p.label){case 0:i=void 0!==(t=e.shouldWaitForDfpInit)&&t,r=e.useHeader,a=e.customDfp,p.label=1;case 1:return p.trys.push([1,7,,8]),[4,y];case 2:return p.sent(),[4,Promise.race([w,i?R:H])];case 3:if(p.sent(),"string"!=typeof a)return[3,4];return o=a,[3,6];case 4:return[4,X(((u={})[em(5)]=i,u))];case 5:o=p.sent(),p.label=6;case 6:return n=o,[2,r?n.length>=300?{}:((l={})[L]=n,l):((c={})[I]=n,c)];case 7:return[2,(N(s=p.sent()),_(s),{})];case 8:return[2]}})}).apply(this,arguments)},t.getRedirecting=M,t.setRedirecting=S,t.ACConfig=s,t}(((t={}).locale=o,t.platform=c,t.source=l,t.policies=w,t.env=s,t.ACConfig=S,t.performanceTrackings=void 0===R?Y:R,t.enableTMS=p,t.enableGlobalHook=u,t.enablePopup=void 0!==g&&g,t.onError=void 0===H?function(){}:H,t)),N=M.i,j=M._,W=M.R,X=M.v,V=M.m,Q=M.h,Z=M.o,et=(M.p,M.l);function ei(e,t,r){return(0,k._)(function(){var a,n,o,s,c,l,u,p,d,h,m;return(0,D.YH)(this,function(g){switch(g.label){case 0:return g.trys.push([0,4,,5]),a=(ee||/^(https?:)?\/\//.test(e))&&!f?e:""+v+e,n=(null==t?void 0:t.isFormData)?r||new FormData:JSON.stringify(r),o=(null==t?void 0:t.isFormData)?void 0:{Accept:"application/json","Content-Type":"application/json"},[4,(window.global=window,i.g&&i.g.fetch?i.g.fetch:fetch)(a,(0,O._)((0,T._)({method:t&&t.method?t.method:"GET",headers:(0,T._)({},o,(null==t?void 0:t.overideCreateSFUHeaders)?null==t?void 0:t.headers:(0,T._)({},_,null==t?void 0:t.headers))},t&&!1===t.withCredentials?{}:{credentials:"include"}),{body:n,signal:null==t?void 0:t.signal,anticrawler:null==t?void 0:t.antiCrawlerConfig}))];case 1:if(!((c=(s=g.sent()).status)>=200&&c<300))return[3,3];if((l=s.headers.get("content-type"))&&!l.includes("application/json"))return[2,s];return[4,s.json()];case 2:return[2,(P(u=g.sent(),s),"object"!=(void 0===u?"undefined":(0,A._)(u))||Array.isArray(u)?u:(0,O._)((0,T._)({},u),{__raw:s}))];case 3:return[2,408===c?((m={}).error=$.REQUEST_TIMEOUT,m.error_msg=c.toString(),m.__raw=s,m):(y&&y(s),(h={}).error=$.SERVER_ERROR,h.error_msg=null==c?void 0:c.toString(),h.__raw=s,h)];case 4:return p=g.sent(),[2,((d={}).error=$.SERVER_ERROR,d.error_msg=p,d)];case 5:return[2]}})})()}function er(e,t,i){return(0,k._)(function(){var r,a,n,o,s,c,l,u,p,d,h,v,f,_;return(0,D.YH)(this,function(m){switch(m.label){case 0:if(r=em,n=(a=(null==i?void 0:i[r(6)])||{}).antiCrawler,o=a.apiProtection,(s=a.deviceFingerPrint)&&N({}),!s)return[3,2];return[4,W((u=em,(p={}).useHeader=null==s?void 0:s.useHeader,p[u(5)]=s[u(5)]||!1,p.customDfp=s.customDfp,p))];case 1:return _=m.sent(),[3,3];case 2:_={},m.label=3;case 3:return d=_,h=(null==s?void 0:s.dataFormatter)?s.dataFormatter((null==s?void 0:s.useHeader)?d[L]||"":d[I]||""):d,v=(null==i?void 0:i.isFormData)||(null==s?void 0:s.useHeader)||(l=h)&&0===Object.keys(l).length&&Object.getPrototypeOf(l)===Object.prototype?t:(0,T._)({},t,h),f=n?M.u():{},[4,ei(e,((c={method:"POST"}).headers=(0,O._)((0,T._)({},null==i?void 0:i.headers,f,(null==s?void 0:s.useHeader)?h:{}),(0,E._)({},z,Z())),c.isFormData=null==i?void 0:i.isFormData,c.overideCreateSFUHeaders=null==i?void 0:i.overideCreateSFUHeaders,c.withCredentials=null==o?void 0:o.withCredentials,c.signal=null==i?void 0:i.signal,c.antiCrawlerConfig=n,c),v)];case 4:return[2,m.sent()]}})})()}return a=em,(n={}).http=ei,n.get=function(e,t){return(0,k._)(function(){var i,r,a,n,o,s,c,l,u,p,d;return(0,D.YH)(this,function(h){switch(h.label){case 0:return i=em,a=(r=(null==t?void 0:t[i(6)])||{}).antiCrawler,n=r.apiProtection,(o=r.deviceFingerPrint)&&N({}),[4,o?W(((l={useHeader:!0})[(c=em)(5)]=o[c(5)]||!1,l.customDfp=o.customDfp,l)):Promise.resolve({})];case 1:return u=h.sent(),p=(null==o?void 0:o.dataFormatter)?o.dataFormatter(u["sz-token"]||""):u,d=a?M.u():{},[4,ei(e,((s={method:"GET"}).headers=(0,O._)((0,T._)({},null==t?void 0:t.headers,d,p),(0,E._)({},z,Z())),s.overideCreateSFUHeaders=null==t?void 0:t.overideCreateSFUHeaders,s.withCredentials=null==n?void 0:n.withCredentials,s.signal=null==t?void 0:t.signal,s.antiCrawlerConfig=a,s))];case 2:return[2,h.sent()]}})})()},n.post=er,n.postForm=function(e,t,i){return(0,k._)(function(){var r;return(0,D.YH)(this,function(a){for(var n in r=new FormData,t)r.append(n,t[n]);return[2,er(e,r,(0,O._)((0,T._)({},i),{isFormData:!0}))]})})()},n[a(0)]=function(e){var t;ee&&M.i(((t={}).history=null==e?void 0:e.history,t))},n[a(4)]=Q,n[a(2)]=X,n[a(3)]=V,n[a(7)]=j,n.getLongToken=et,n}[{policyurl:"api/mydata",match:"contain",exclude:["api/mydata/homepage/key-metrics"]}].concat((0,U._)([{policyurl:"webchat/api/v1.2/mini/vouchers/vouchers_by_ids",match:"contain"},{policyurl:"webchat/api/v1.2/mini/vouchers/shopee/vouchers_by_ids",match:"contain"},{policyurl:"webchat/api/v1.2/chat_preview/detail",match:"contain"},{policyurl:"webchat/api/v1.2/mini/chat_preview/detail",match:"contain"},{policyurl:"webchat/api/v1.2/shopee/vouchers_by_ids",match:"contain"},{policyurl:"webchat/api/v1.2/mini/shopee/vouchers_by_ids",match:"contain"},{policyurl:/api\/v3\/affiliateplatform\/.*/,match:"regexp"},{policyurl:/api\/pas\/v1\/setup_helper\/.*/,match:"regexp"},{policyurl:"api/selleradmin/v1/product",match:"contain"},{policyurl:"api/marketing/v4/review_prize/get_products",match:"contain"},{policyurl:"api/marketing/v4/discount/global/get_items",match:"contain"},{policyurl:"api/v3/settings/reply_shop_rating",match:"contain"},{policyurl:"api/marketing/v3/public/product_selector",match:"contain"},{policyurl:/webchat\/api\/v1\.2\/mini\/order\/.*/,match:"regexp"},{policyurl:/webchat\/api\/v1\.2\/order\/.*\/rate_buyer/,match:"regexp"},{policyurl:/webchat\/api\/v1\.2\/order\/.*\/cancel/,match:"regexp"},{policyurl:"webchat/api/v1.2/mini/orders/orders_by_buyer",match:"contain"},{policyurl:"webchat/api/v1.2/orders/orders_by_buyer",match:"contain"},{policyurl:"api/mkt/cmt/bidding/bidding_list",match:"contain"},{policyurl:"api/mkt/cmt/nominated/nominated_entity_list",match:"contain"},{policyurl:"api/mkt/cmt/preview/preview_list",match:"contain"},{policyurl:"api/mkt/cmt/product/online/selector/verify",match:"contain"},{policyurl:"api/mkt/cmt/product/online/selector/verify_products_select_for_bid",match:"contain"},{policyurl:"api/crm/v1/product_selector",match:"contain"},{policyurl:"api/marketing/v4/graphql/query",match:"contain"},{policyurl:"api/marketing/v4/public/product_selector",match:"contain"},{policyurl:"api/marketing/v4/shop_flash_sale/batch_items/get",match:"contain"},{policyurl:"api/n/decoration/public/get_flash_sale_info",match:"contain"},{policyurl:"api/n/decoration/public/get_mega_campaign_items",match:"contain"},{policyurl:"api/marketing/v4/review_prize/get_recommend_products",match:"contain"},{policyurl:"api/marketing/v4/review_prize/get_svs_item_info",match:"contain"},{policyurl:"api/marketing/v4/review_prize/item/list",match:"contain"},{policyurl:"api/marketing/v4/review_prize/product_selector",match:"contain"},{policyurl:"api/marketing/v3/voucher/product_selector",match:"contain"},{policyurl:"api/v1/affiliateplatform/shop/itemsv2",match:"contain"},{policyurl:"api/v3/affiliateplatform/gql",match:"contain"},{policyurl:"api/tool/mass_product/get_unpublished_product_list",match:"contain"},{policyurl:"api/v2/message",match:"contain",allowCors:!0},{policyurl:"api/v2/solution",match:"contain",allowCors:!0},{policyurl:"api/v2/user_message_history",match:"contain",allowCors:!0},{policyurl:"api/v2/init_session",match:"contain",allowCors:!0},{policyurl:"api/v2/order_list",match:"contain",allowCors:!0}])),(r={})["/webchat/api/v1.2/vouchers/vouchers_by_ids"]={usePopupCaptcha:!0},r["/webchat/api/v1.2/mini/vouchers/vouchers_by_ids"]={usePopupCaptcha:!0},r["/webchat/api/v1.2/chat_preview/detail"]={usePopupCaptcha:!0},r["/webchat/api/v1.2/mini/chat_preview/detail"]={usePopupCaptcha:!0},r["/webchat/api/v1.2/shopee/vouchers_by_ids"]={usePopupCaptcha:!0},r["/webchat/api/v1.2/mini/shopee/vouchers_by_ids"]={usePopupCaptcha:!0},r["/webchat/api/v1.2/mini/orders/orders_by_buyer"]={usePopupCaptcha:!0},r["/webchat/api/v1.2/orders/orders_by_buyer"]={usePopupCaptcha:!0}}}]);
//# sourceMappingURL=https://sourcemap.webfe.shopeemobile.com/pcmall-static/_/sfu-latest.153896e40d4f707c.2017.js.map