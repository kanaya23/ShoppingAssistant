(self.miniJsonp=self.miniJsonp||[]).push([[9631],{27830:function(e,t,r){var o;o=(e,t,r,o,n,a,s,i,c,l,u)=>(()=>{"use strict";var _={9701:(e,t,r)=>{r.d(t,{t:()=>a});var o=r(8661),n=r.n(o),a=n().t.bind(n())},7187:e=>{var t,r="object"==typeof Reflect?Reflect:null,o=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var n=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(r,o){function n(r){e.removeListener(t,a),o(r)}function a(){"function"==typeof e.removeListener&&e.removeListener("error",n),r([].slice.call(arguments))}E(e,t,a,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&E(e,"error",t,{once:!0})}(e,n)}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var s=10;function i(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function l(e,t,r,o){var n,a,s,l;if(i(r),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),s=a[t]),void 0===s)s=a[t]=r,++e._eventsCount;else if("function"==typeof s?s=a[t]=o?[r,s]:[s,r]:o?s.unshift(r):s.push(r),(n=c(e))>0&&s.length>n&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,l=u,console&&console.warn&&console.warn(l)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _(e,t,r){var o={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},n=u.bind(o);return n.listener=r,o.wrapFn=n,n}function d(e,t,r){var o=e._events;if(void 0===o)return[];var n=o[t];return void 0===n?[]:"function"==typeof n?r?[n.listener||n]:[n]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(n):S(n,n.length)}function p(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function S(e,t){for(var r=new Array(t),o=0;o<t;++o)r[o]=e[o];return r}function E(e,t,r,o){if("function"==typeof e.on)o.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function n(a){o.once&&e.removeEventListener(t,n),r(a)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||n(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||n(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return c(this)},a.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,a=this._events;if(void 0!==a)n=n&&void 0===a.error;else if(!n)return!1;if(n){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var i=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw i.context=s,i}var c=a[e];if(void 0===c)return!1;if("function"==typeof c)o(c,this,t);else{var l=c.length,u=S(c,l);for(r=0;r<l;++r)o(u[r],this,t)}return!0},a.prototype.addListener=function(e,t){return l(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return l(this,e,t,!0)},a.prototype.once=function(e,t){return i(t),this.on(e,_(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return i(t),this.prependListener(e,_(this,e,t)),this},a.prototype.removeListener=function(e,t){var r,o,n,a,s;if(i(t),void 0===(o=this._events))return this;if(void 0===(r=o[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete o[e],o.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(n=-1,a=r.length-1;a>=0;a--)if(r[a]===t||r[a].listener===t){s=r[a].listener,n=a;break}if(n<0)return this;0===n?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,n),1===r.length&&(o[e]=r[0]),void 0!==o.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,r,o;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var n,a=Object.keys(r);for(o=0;o<a.length;++o)"removeListener"!==(n=a[o])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(o=t.length-1;o>=0;o--)this.removeListener(e,t[o]);return this},a.prototype.listeners=function(e){return d(this,e,!0)},a.prototype.rawListeners=function(e){return d(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},a.prototype.listenerCount=p,a.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},6782:e=>{e.exports=s},3830:e=>{e.exports=i},5292:e=>{e.exports=c},8661:t=>{t.exports=e},7444:e=>{e.exports=n},6598:e=>{e.exports=r},1383:e=>{e.exports=l},4944:e=>{e.exports=u},1855:e=>{e.exports=t},4672:e=>{e.exports=a},459:e=>{e.exports=o}},d={};function p(e){var t=d[e];if(void 0!==t)return t.exports;var r=d[e]={exports:{}};return _[e](r,r.exports,p),r.exports}p.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return p.d(t,{a:t}),t},p.d=(e,t)=>{for(var r in t)p.o(t,r)&&!p.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},p.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),p.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var S={};return(()=>{p.r(S),p.d(S,{$tracker:()=>We,Blacklist:()=>T,CancelOrderWarning:()=>f,CustomError:()=>n,EventBus:()=>Qe,ExceptionName:()=>ae,Forbidden:()=>t,HTTPError:()=>y,InternalServerError:()=>O,Limiting:()=>d,MarkName:()=>oe,NeedCaptchaVerify:()=>g,NotFound:()=>u,ReportComponent:()=>ne,ReportPoint:()=>Ae,TemporyError:()=>v,Unauthoried:()=>l,UnprocessableEntity:()=>_,UntrustedNetwork:()=>E,UnverifiedPhoneNumber:()=>h,Webview:()=>c,affiliateSchema:()=>$e,agentConversationSchema:()=>ct,clearApiCache:()=>G,collectAsyncTask:()=>De,collectComponentTask:()=>Pe,collectConversationLoadTask:()=>Ce,collectLoadTask:()=>Re,configTrackerUser:()=>Be,contactsSchema:()=>lt,conversationSchema:()=>et,exceptionTag:()=>se,fetch:()=>Fe,getReportManager:()=>pe,getTranslation:()=>ht,initMDAPSdk:()=>we,isError:()=>m,isInServiceDownDuration:()=>F,mdapConfig:()=>Oe,messageSchema:()=>Ze,messageShortcutsSchema:()=>st,normalize:()=>dt,offerSchema:()=>ot,orderSchema:()=>tt,productSchema:()=>rt,rateCardsSchema:()=>it,reportApiTime:()=>Me,shopSchema:()=>at,shopService:()=>w,stickerSchema:()=>nt,userSchema:()=>Je,vouchersSchema:()=>ut});class e extends Error{constructor(e,t,r){super(e),this.name=this.constructor.name,this.errors=t,this.data=r}}class t extends e{constructor(e,t,r){super(e,t,r),this.name=this.constructor.name}handler(){}}var r=p(9701).t,o=["unauthorized_for_shop","target_subaccount_unauthorized_for_shop","target_group_unauthorized_for_shop","conversation_not_belong_to_you","conversation_not_dispatch","cannot_move_conversation_to_yourself","target_subaccount_not_online","subaccount_conversation_not_found","conversation_closed"];class n extends e{constructor(e,t,r){super(e,t,r),this.name=this.constructor.name,this.handler=this.handler.bind(this)}handler(){var e="";if(o.includes(this.errors))e="forward.error.".concat(this.errors);else switch(this.errors){case"user_have_delete_disable":e="forward.error.user_deleted";break;case"user_has_pending_order":e="conversation_detail.workstation.block_fail_modal.title";break;case"too_many_requests_for_unique_fields":e="feedback_modal.too_many_requests_for_unique_fields";break;default:e="common.server_error.warning_tips"}return{show:!0,type:"fail",message:r(e)}}}var a=p(1855),s=p(9701).t,i={rating_card_expired:"conversation_detail.message_list.csat_expired",have_submited_csat:"conversation_detail.message_list.csat_have_submited",no_organic_within_24hr:"conversation_detail.message_list.csat_no_organic_within_24hr",send_rating_card_too_frequently:"conversation_detail.message_list.csat_send_rating_card_too_frequently",buyer_receiver_too_many_rating_card:"conversation_detail.message_list.csat_buyer_receiver_too_many_rating_card",buyer_active_feedback_off:"conversation_detail.message_list.csat_buyer_active_feedback_off",not_chat_with_agent:"conversation_detail.message_list.csat_not_chat_with_agent",have_received_rating_card_today:"conversation_detail.message_list.csat_have_received_rating_card_today",can_not_rate_now:"conversation_detail.message_list.csat_can_not_rate_now",can_not_rate_bot_now:"cast.error.can_not_rate_bot_now",bot_frequency_limit:"cast.error.bot_frequency_limit",not_chat_with_bot:"cast.error.not_chat_with_bot"};class c extends e{constructor(e,t,r){super(e,t,r),this.name=this.constructor.name}handler(e){var t,r=null!==(t=i[this.errors])&&void 0!==t?t:"common.server_error.warning_tips";"cast.error.can_not_rate_bot_now"===r&&(0,a.checkSpecialShops)(e)&&(r="".concat(r,"_idscs"));var o=s(r);if("buyer_receiver_too_many_rating_card"===this.errors){var n,c,l=null!==(n=null===(c=this.data)||void 0===c?void 0:c.limit)&&void 0!==n?n:"";o=s(i.buyer_receiver_too_many_rating_card,{count:l})}return{message:o,show:!0,type:"fail"}}}class l extends e{}class u extends e{}class _ extends e{}class d extends e{}class E extends e{}class v extends e{}class T extends e{}class f extends e{}class h extends e{}class O extends e{}class g extends e{}var y=e=>{switch(e){case 401:return l;case 403:return t;case 404:return u;case 422:return _;case 429:return d;case 451:return E;case 452:return v;case 491:return n;case 492:return T;case 493:return c;case 494:return f;case 495:return h;case 499:return g;case 500:return O;default:return Error}},m=e=>"".concat(e).startsWith("4")||"".concat(e).startsWith("5");function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A(e,t,r,o,n,a,s){try{var i=e[a](s),c=i.value}catch(e){return void r(e)}i.done?t(c):Promise.resolve(c).then(o,n)}function R(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var a=e.apply(t,r);function s(e){A(a,o,n,s,i,"next",e)}function i(e){A(a,o,n,s,i,"throw",e)}s(void 0)}))}}var C=p(6598),P=p.n(C),D=p(459);function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var w=new class{constructor(){this.shopsMap={}}updateShopMap(e){this.shopsMap=N(N({},this.shopsMap),e)}getRegion(e,t){var r=this;return R((function*(){if(t){var o,n=null===(o=r.shopsMap[t])||void 0===o?void 0:o.country;if(!n){var s=yield Fe({resource:"shop",id:t,params:{need_cache:1,cache_expires:600}});return r.updateShopMap({[s.id]:s}),s.country}return n}var i=(0,a.getRuntimeRegion)().toUpperCase();return["KR","CN"].includes(i)||e?"GLOBAL":i}))()}};"live"!==(0,a.getRuntimeServer)()&&(window.shopService=w);var M=p(7444),L=p.n(M),U="CHAT_API",G=()=>{window.caches&&window.caches.delete(U)};function j(e,t){return x.apply(this,arguments)}function x(){return(x=R((function*(e,t){try{var r=new URL(e).searchParams,o=r.get("need_cache"),n=r.get("force_update"),a=r.get("_ts"),s=t.method&&"get"===t.method.toLowerCase(),i="&csrf_token=".concat(encodeURIComponent(r.get("csrf_token")||"")),c="&force_update=".concat(String(n)),l=e.replace(i,"").replace(c,"").replace(a||"","");if(s&&o&&window.caches){var u=yield window.caches.open(U),_=yield u.match(l),d=Date.now();if(_){if(d<Number(_.headers.get("cache-expires"))&&!n)return _;yield u.delete(l)}var p=yield L()(e,t),S=p.clone();if(200===p.status){var E=[...p.headers.entries()],v={},T=d+1e3*(Number(r.get("cache_expires"))||3600),f=yield p.blob();E.forEach((e=>{v[e[0]]=e[1]})),v["cache-expires"]=T;var h=new Response(f,{headers:new Headers(v)});try{u.put(l,h)}catch(e){window.caches.delete(U)}}return S}return L()(e,t)}catch(r){return L()(e,t)}}))).apply(this,arguments)}var k=p(4672),F=()=>{var e=window.__SERVICEDOWN_STATT_TIME__,t=window.__SERVICEDOWN_END_TIME__,r=void 0!==e&&void 0!==t,o=Math.ceil(Date.now()/1e3);return r&&o>=e&&o<=t},H=e=>{m(e)||!F()&&window.__CHAT_GLOBAL__.setServiceDownStatus&&k.store.dispatch(window.__CHAT_GLOBAL__.setServiceDownStatus({alert:!1,closed:!1,list:!1,message:!1}))},Y=(e,t)=>{var r=new(y(e))(t.message,t.errors||t.error_code||t.errcode,t.data);if(r)throw r},B=(e,t,r)=>{if(m(e)){var{uri:o,resource:n}=r,{error_code:s}=t||{};"br_site_is_close"===s&&(e=>{var t;F()?(t=e.split("?")[0]).endsWith("conversations")||t.endsWith("conversation/list")?window.__CHAT_GLOBAL__.setServiceDownStatus&&k.store.dispatch(window.__CHAT_GLOBAL__.setServiceDownStatus({alert:!0,list:!0})):window.__CHAT_GLOBAL__.setServiceDownStatus&&k.store.dispatch(window.__CHAT_GLOBAL__.setServiceDownStatus({alert:!0,message:!0})):window.__CHAT_GLOBAL__.setServiceDownStatus&&k.store.dispatch(window.__CHAT_GLOBAL__.setServiceDownStatus({alert:!1,closed:!1,list:!1,message:!1}))})(o),[400,404].includes(e),[491,493].includes(e)?Y(e,t):401===e?((0,a.removeItem)("mini-session"),(0,a.removeItem)("mini-sc_redirect"),"login"===n&&Y(e,t)):Y(e,t)}},V=e=>{var{uri:t,id:r,parentId:o}=e;if(void 0!==r&&parseInt(r)<=0&&!t.includes("message_shortcuts/group")||void 0!==o&&parseInt(o)<=0)throw new Error},W=(e,t,r)=>{throw e||(t.offlineError=!0),t};function Q(e){return z.apply(this,arguments)}function z(){return z=R((function*(e){var t=e.getReader(),r=new TextDecoder,o=[];function n(){return a.apply(this,arguments)}function a(){return(a=R((function*(){var{done:e,value:a}=yield t.read();if(e)return JSON.parse(o.join(""));var s=r.decode(a,{stream:!0});return o.push(s),n()}))).apply(this,arguments)}return n()})),z.apply(this,arguments)}var q,K,X=p(6782),J=p(3830),$=p.n(J),Z=p(5292),ee=p.n(Z),te={"18a6f08d7326025b60ded61f60c9ea20":"LOAD_HTML","0d2968a6996a60fee2db1270a70ef563":"LOAD_STATIC",ea02fc90bd3663f3179be7a1b7847a83:"APP_PREPARE","4e0b71ed91b3eacb1dfc4ec7f63b2966":"LOGIN_API","9d4a48b69fed6d1001e63ee668a05488":"LOGIN_SUCCEEDED","84fcedc144bfce212ae8db9f6ebb84ec":"SHOW_WEBCHAT"},re={"94a2f272c378ddf18f5c88f4e951c709":"SHOW_HOME_PAGE",a5707a9d6695fc50e257b51aee9ec03b:"LOAD_RESOURCE",dd25761ed961c46f4a0725abf6325b3a:"RENDER_HOME_PAGE","65d0f06861e011436277b54e32e0e702":"SEND_MESSAGE_API",b2bad090fbb5b6eb526af0423326ba91:"SEND_MESSAGE_CONSUMING","00f7d4cb0b968ed35a91ae83c0346fe1":"FETCH_CONV_API",b7b04ad90caccf19961c3dcdf7063294:"FETCH_MESSAGE_API","7ce993bd22dee11001514ad2b8e760bf":"RENDER_MESSAGE_LIST_FROM_CONV"};q={LOAD_HTML:"31b7f223943eee895738ce50e49a359a",LOAD_STATIC:"0ec7c5189cc4ada79908cfe5d6bd97ca",APP_PREPARE:"a61675f22b23600e51007c24a9b8aaf2",LOGIN_API:"75cbf76696b4f8d988de72cdfeb1877c",LOGIN_SUCCEEDED:"05c0e68ee42384c7e07e47fec4400e28",SHOW_WEBCHAT:"1b16553696a08e9f016235005a5a0678",SHOW_HOME_PAGE:"94a2f272c378ddf18f5c88f4e951c709",VIDEO_UPLOAD:"334a26e8a6dc82c95a47430f8af2e198",SERVICE_DONE:"19f2ea17be2d1d80257667787e54c882",MESSAGE_SOCKET:"f76ebd29ea3ed4571c9ea48ca893ac14",READ_SOCKET:"37e5b36437f0166056d3312fcea2b592",LOGIN_FAILED:"df8a83f83c949bb6a2b84c6f0048e203",SOCKET_FAILED:"13ddf42d9169b2ce05feb84224d79057",SHARED_TABS:"94e8d83005c95982268ff1c8b036313e",LOGIN_IN_HTML:"4075993c600862e7c604e35cd692a297",LOGIN_IN_SERVICE:"2845ad2751849e3d43b26a805a25dbb4",PRE_FETCH_USER_INFO:"36a82dac2154de34fa4c6d7e3da73a19",NON_PRE_FETCH_USER_INFO:"a9de236c14047b42eec108bf7f22f2ac",TRANSLATION_IN_HTML:"b3105979b5cc6448de8272e177db5741",TRANSLATION_IN_SERVICE:"acfba493a8c2d11ad323bc09c2d06603",CONVERSATION_MOUNTED:"53ddb086a61674f59a9d84e1a02f04a5",CONVERSATION_LOADED:"800c5562450216bccfad6cd11847c160",RECEIVE_CHATBOT_RESPONSE:"a6f37d623af1c31b5ae3eb333fc571c8",REPORT_T3:"b16720c32b08d2c2b4b9cebb66205520",REPORT_T4:"20749fffb5583f720b3eacf5013c4398",REPORT_ERROR:"ce4cc92284f6ed31f8266c8e676744c5",MESSAGE_LATENCY:"4cb5dab311e98cba8ecb48c5e3df9e12",LOAD_RESOURCE:"a5707a9d6695fc50e257b51aee9ec03b",RENDER_HOME_PAGE:"dd25761ed961c46f4a0725abf6325b3a",SEND_MESSAGE_API:"65d0f06861e011436277b54e32e0e702",SEND_MESSAGE_CONSUMING:"b2bad090fbb5b6eb526af0423326ba91",FETCH_CONV_API:"00f7d4cb0b968ed35a91ae83c0346fe1",FETCH_MESSAGE_API:"b7b04ad90caccf19961c3dcdf7063294",RENDER_MESSAGE_LIST_FROM_CONV:"7ce993bd22dee11001514ad2b8e760bf",FETCH_TRANSLATION_ASYNC:"961879cce46dc871cea546c825daf31d",FETCH_TRANSLATION_SYNC:"9f3d370e38d01f43e13f3e7465c1734c",RENDER_OLD_ENTRY:"34be4e989931224dfd8363a07ff0f896",RENDER_NEW_ENTRY:"99502b156aba4099d7e2fa2316f211cd",USER_SETTING:"6ec802950c6974b45c8a9080a70e7017",SEND_MESSAGES:"407610332f95a6a3bde8f720195f5a40"},K={LOAD_HTML:"18a6f08d7326025b60ded61f60c9ea20",LOAD_STATIC:"0d2968a6996a60fee2db1270a70ef563",APP_PREPARE:"ea02fc90bd3663f3179be7a1b7847a83",LOGIN_API:"4e0b71ed91b3eacb1dfc4ec7f63b2966",LOGIN_SUCCEEDED:"9d4a48b69fed6d1001e63ee668a05488",SHOW_WEBCHAT:"84fcedc144bfce212ae8db9f6ebb84ec",SHOW_HOME_PAGE:"94a2f272c378ddf18f5c88f4e951c709",VIDEO_UPLOAD:"cc0dbd7370b7ade934cfe7c01bbd4ae9",SERVICE_DONE:"26ba92fb54150fe3bd6f827bb08ce8c9",MESSAGE_SOCKET:"a01882e94fde5237ca815e13b0e2a88b",READ_SOCKET:"e46fdcb42cae43a7e6f49213f150fa8e",LOGIN_FAILED:"87df9f73fb8b93629ae8a08822cfcf77",SOCKET_FAILED:"3a74221d64cf853a5c3ca65c3c3339eb",SHARED_TABS:"22557ca0a2caca6bae43f1932f088d47",LOAD_RESOURCE:"a5707a9d6695fc50e257b51aee9ec03b",RENDER_HOME_PAGE:"dd25761ed961c46f4a0725abf6325b3a",SEND_MESSAGE_API:"65d0f06861e011436277b54e32e0e702",SEND_MESSAGE_CONSUMING:"b2bad090fbb5b6eb526af0423326ba91",FETCH_CONV_API:"00f7d4cb0b968ed35a91ae83c0346fe1",FETCH_MESSAGE_API:"b7b04ad90caccf19961c3dcdf7063294",RENDER_MESSAGE_LIST_FROM_CONV:"7ce993bd22dee11001514ad2b8e760bf",FETCH_TRANSLATION_ASYNC:"961879cce46dc871cea546c825daf31d",FETCH_TRANSLATION_SYNC:"9f3d370e38d01f43e13f3e7465c1734c"};var oe={HTML_LOADED:"HTML_LOADED",STATIC_LOADED:"STATIC_LOADED",APP_PREPARED:"APP_PREPARED",LOGIN_API_RESPONSED:"LOGIN_API_RESPONSED",APP_RENDERING:"APP_RENDERING",RENDER_CONVERSATION_LIST:"RENDER_CONVERSATION_LIST",RENDER_MESSAGE_LIST:"RENDER_MESSAGE_LIST",RENDER_WELCOME_PAGE:"RENDER_WELCOME_PAGE",START_SEND_MESSAGE:"START_SEND_MESSAGE",START_HANDLE_RESPONSE:"START_HANDLE_RESPONSE"},ne={WELCOME_PAGE:"WELCOME_PAGE",MESSAGE_LIST:"MESSAGE_LIST",CONVERSATION_LIST:"CONVERSATION_LIST",APP:"APP"},ae={TYPE_ERROR:"TypeError",RANGE_ERROR:"RangeError",SYNTAX_ERROR:"SyntaxError",REFERENCE_ERROR:"ReferenceError",SAGA_ERROR:"Saga Error",ERROR_BOUNDARY:"Error Boundary",PRELOAD_ERROR:"Preload Error",SOCKET_LOGIN_FAILED:"Socket Login Failed",LOGIN_ERROR:"Login Error",PARAMETER_ERROR:"Parameter Error",API_UNCAUGHT_ERROR:"Api Uncaught Error",API_CLIENT_ERROR:"Api Client Error",FETCH_CONV_ERROR:"Fetch Conversation Error",FETCH_SERVE_TODAY_CONV_ERROR:"Fetch Serve Today Conversation Error"},se={TYPE_ERROR:"type_error",RANGE_ERROR:"range_error",SYNTAX_ERROR:"syntax_error",REFERENCE_ERROR:"reference_error",ERROR_BOUNDARY:"error_boundary",PRELOAD_ERROR:"preload_error",SOCKET_LOGIN_FAILED:"socket_login_failed",LOGIN_ERROR:"login_error",PARAMETER_ERROR:"parameter_error",API_CLIENT_ERROR:"api_client_error",API_UNCAUGHT_ERROR:"api_uncaught_error",FETCH_CONV_ERROR:"fetch_conversation_error",FETCH_SERVE_TODAY_CONV_ERROR:"fetch_serve_today_conversation_error"},{TYPE_ERROR:ie,RANGE_ERROR:ce,SYNTAX_ERROR:le,REFERENCE_ERROR:ue}=ae;se.TYPE_ERROR,se.RANGE_ERROR,se.SYNTAX_ERROR,se.REFERENCE_ERROR;class _e{reportLoadResource(){De(Ae.LOAD_RESOURCE,0)}reportRenderHomePage(e){De(Ae.RENDER_HOME_PAGE,0,{isSidebar:e})}reportShowHomePage(e){if(window.__MINICHAT_ENTRY_CLICKED__){var{startTime:t,fromPage:r}=window.__MINICHAT_ENTRY_CLICKED__,o=Date.now()-t;window.__MINICHAT_ENTRY_CLICKED__=void 0,e?setTimeout((()=>{Pe(ne.APP,{duration:o,id:Ae.SHOW_HOME_PAGE,extra:{isSidebar:e,fromPage:r}})}),1e3):Pe(ne.APP,{duration:o,id:Ae.SHOW_HOME_PAGE,extra:{isSidebar:e,fromPage:r}})}}reportWhetherPrefetchUserInfo(){window.__CHATEASY_LOCALE__?De(Ae.PRE_FETCH_USER_INFO,0):De(Ae.NON_PRE_FETCH_USER_INFO,0)}reportShowMinichat(){var e=Date.now()-window.__START_MINICHAT__;Pe(ne.APP,{duration:e,id:Ae.SHOW_WEBCHAT})}reportFetchTranslationAsync(){De(Ae.FETCH_TRANSLATION_ASYNC,0)}reportFetchTranslationSync(){De(Ae.FETCH_TRANSLATION_SYNC,0)}reportUserSettingApi(e){Ae.USER_SETTING&&De(Ae.USER_SETTING,e)}newReportSendMessagesApi(e){Ae.SEND_MESSAGES&&De(Ae.SEND_MESSAGES,e)}reportSendMessageApi(e){De(Ae.SEND_MESSAGE_API,0,{value:e})}reportSendMessageConsuming(e){var t,r,o=null===(t=(performance.getEntriesByName("".concat(oe.START_SEND_MESSAGE,"_").concat(null===(r=JSON.parse(e).content)||void 0===r?void 0:r.uid),"mark")||[])[0])||void 0===t?void 0:t.startTime,n=Date.now()-Math.round(performance.timeOrigin+o);Pe(ne.APP,{duration:n,id:Ae.SEND_MESSAGE_CONSUMING})}reportFetchConvApi({value:e,resource:t}){De(Ae.FETCH_CONV_API,0,{value:e,resource:t})}reportFetchMessageApi(e){De(Ae.FETCH_MESSAGE_API,0,{value:e})}reportRenderMessageListFromConv(e){window.__CLICK_CONV__&&(Pe(ne.APP,{duration:Date.now()-window.__CLICK_CONV__,id:Ae.RENDER_MESSAGE_LIST_FROM_CONV,extra:{isFirstRender:e}}),window.__CLICK_CONV__=null)}reportVideoUpload(e,t={}){De(Ae.VIDEO_UPLOAD,performance.now()-e,t)}reportVideoServiceDone(e,t={}){var r=performance.getEntriesByName("REPORT_UPLOAD_".concat(e),"mark")[0];if(r){performance.mark("SERVICE_DONE_".concat(e));var o=performance.getEntriesByName("SERVICE_DONE_".concat(e))[0].startTime-r.startTime;performance.clearMarks("REPORT_UPLOAD_".concat(e)),performance.clearMarks("SERVICE_DONE_".concat(e)),De(Ae.SERVICE_DONE,o,t)}}reportMessageSocket(e){var t=+new Date-+e;De(Ae.MESSAGE_SOCKET,t)}reportReadSocket(e){De(Ae.READ_SOCKET,Date.now()-e)}reportLoginFailed(e){De(Ae.LOGIN_FAILED,0,e)}reportSocketFailed(e={}){De(Ae.SOCKET_FAILED,0,e)}reportSharedTabs(e){De(Ae.SHARED_TABS,e)}reportLoginInHtml(){De(Ae.LOGIN_IN_HTML,0)}reportLoginInService(){De(Ae.LOGIN_IN_SERVICE,0)}reportFetchTranslationInHtml(){De(Ae.TRANSLATION_IN_HTML,0)}reportFetchTranslationInService(){De(Ae.TRANSLATION_IN_SERVICE,0)}reportT3OrT4(e){De(e,0)}reportChatbotApiError(){De(Ae.REPORT_ERROR,0)}reportAsyncTask(e,t,r={}){De(e,t,r)}reportReceiveChatbotResponse(){De(Ae.RECEIVE_CHATBOT_RESPONSE,0)}}var de,pe=()=>(window.chatReportManager||(window.chatReportManager=new _e),window.chatReportManager);function Se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ve,Te,fe,he,Oe=e=>{de=e},ge=!1,ye=location.host.includes("shopee.cn"),me=[],be=window.requestIdleCallback,Ae="live"===(0,a.getRuntimeServer)()?q:K,Re=()=>{try{var e=performance.getEntriesByName(oe.HTML_LOADED,"mark")[0].startTime,t=performance.getEntriesByName(oe.STATIC_LOADED,"mark")[0].startTime,r=performance.getEntriesByName(oe.APP_PREPARED,"mark")[0].startTime,o=performance.getEntriesByName(oe.LOGIN_API_RESPONSED,"mark")[0].startTime,n=performance.getEntriesByName(oe.APP_RENDERING,"mark")[0].startTime;me.push({id:Ae.LOAD_HTML,duration:window.__INDEX_HTML_LOADED__},{id:Ae.LOAD_STATIC,duration:Math.floor(t-e)},{id:Ae.APP_PREPARE,duration:Math.floor(r-t)},{id:Ae.LOGIN_API,duration:Math.floor(o-r)},{id:Ae.LOGIN_SUCCEEDED,duration:Math.floor(n-o)})}catch(e){}},Ce=()=>{try{var e=performance.getEntriesByName("ENTRY_CLICKED","mark")[0].startTime,t=performance.getEntriesByName("CONVERSATION_LIST_MOUNTED","mark")[0].startTime,r=performance.getEntriesByName("CONVERSATION_LIST_MOUNTED","mark")[0].startTime;Ae.CONVERSATION_MOUNTED&&e&&t&&me.push({id:Ae.CONVERSATION_MOUNTED,duration:Math.floor(t-e)}),Ae.CONVERSATION_LOADED&&t&&r&&me.push({id:Ae.CONVERSATION_LOADED,duration:Math.floor(r-t)})}catch(e){}},Pe=(e,t)=>{try{var r,o=null,n=null===(r=performance.getEntriesByName(oe.APP_RENDERING,"mark")[0])||void 0===r?void 0:r.startTime;switch(e){case ne.WELCOME_PAGE:o=performance.getEntriesByName(oe.RENDER_WELCOME_PAGE,"mark")[0].startTime,me.push({id:Ae.RENDER_WELCOME_PAGE,duration:Math.floor(o-n)});break;case ne.MESSAGE_LIST:o=performance.getEntriesByName(oe.RENDER_MESSAGE_LIST,"mark")[0].startTime,me.push({id:Ae.RENDER_MESSAGE_LIST,duration:Math.floor(o-n)});break;case ne.CONVERSATION_LIST:o=performance.getEntriesByName(oe.RENDER_CONVERSATION_LIST,"mark")[0].startTime,me.push({id:Ae.RENDER_CONVERSATION_LIST,duration:Math.floor(o-n)})}me.push(t),be(Ie,{timeout:2e3})}catch(e){}},De=(e,t,r={})=>{try{me.push({id:e,duration:t,extra:r}),be(Ie,{timeout:2e3})}catch(e){}};function Ie(e){for(;(e.timeRemaining()>5||e.didTimeout)&&me.length;){var{id:t,duration:r,extra:o}=me.shift();t&&Me(t,r,o),"live"!==(0,a.getRuntimeServer)()&&te[t]&&console.log("|-- 上报阶段: ",te[t],", 耗时为: ".concat(r),", 数据: ",o),re[t]&&console.log("|-- 新加上报点上报阶段: ",re[t],", 耗时为: ".concat(r,", 数据："),o)}me.length&&be(Ie,{timeout:2e3})}var Ne,we=()=>{if(!ge){var e=(0,a.getRuntimeServer)(),t="live"===e,r=(0,a.getRuntimeRegion)(),o=(0,a.getRuntimeVersion)();ve=new X.MdapSdk({app_name:"minichat",secret_key:t?"b23651c629e54c7bc1c9a743f25dbb5825cb1ed4e7bb7f8a78cd788dfc769127":"2b74d02be173856bde260473166da16b83fcc18d18057ce8b4a73eab5f1c7280",environment:e,region:r,app_version:o,sample:.6}),Te=new($())({path:[/[\\/]webchat[\\/]api[\\/].*[\\/](login|(conversations[\\/](\d+)[\\/]messages)|conversations|orders_by_buyer_id|vouchers|products|items|(offer[\\/]given)|read|(video[\\/](in_whitelist|preupload|report_upload|upload_status)))[\\?]/,"/webchat/api/v1.2/messages","webchat/api/v1.2/mini/messages",/[\\/]api[\\/]tsp[\\/].*/]}),fe=new(ee())({path:[/.*[\\/]chateasy[\\/].*\.(js|css)/]}),he=new X.CustomPlugin({}),ve.use(Te),ve.use(fe),ve.use(he),ge=!0}};function Me(e,t,r){ge||we();var o={point_id:e,data:{userType:de,localOrCn:void 0!==Ne?Ne:Ne=ye&&"CN"!==(0,a.getRuntimeRegion)().toUpperCase()?"cn":"local",chatHost:"pcmall",hasSandbox:String(!!window.__MMF_MODULE_BY_SANDBOX__)}};t&&(o=Ee(Ee({},o),{},{duration:t})),r&&(o.data=Ee(Ee({},o.data),r)),he.sendData(o)}function Le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Ue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ge=(0,a.getRuntimeVersion)(),je=function(){var e=R((function*(){var e=null;try{e=a.LS.getItem("mini-session",!0)}catch(t){e=null}return e||(e=yield(0,a.getItem)("mini-session")),e}));return function(){return e.apply(this,arguments)}}(),xe={404:"Resource not found",452:"Tempory Error",500:"Internal server error",502:"Bad Gateway"},ke=90309999;function Fe(e){return He.apply(this,arguments)}function He(){return He=R((function*({url:e,server:t,subServer:r,version:o="v1.2",parent:n,parentId:s,resource:i,id:c,suffix:l,method:u="GET",credentials:_="include",extension:d,params:p={},payload:S,headers:E={},namespace:v="mini",fetcher:T}){var f=(e,t)=>[e,Object.entries(t).filter((([e,t])=>t||0===t)).map((([e,t])=>"".concat(e,"=").concat(encodeURIComponent(t)))).join("&")].filter(Boolean).join("?"),h=function(){var h=R((function*(h){h||(h=yield je());var O,g,y,{token:m,user:{type:b}={}}=h||{},A=0;if("subaccount"===b){var R=(()=>{if("sc"===l)return c;if("auth"===i)return s;if(p.shop_id)return p.shop_id;if(S)try{return JSON.parse(S).shop_id}catch(e){}})();y=yield w.getRegion(!0,R)}else y=(0,a.getRuntimeRegion)().toUpperCase();var C=m&&"include"===_||!t,I=C?{Authorization:"Bearer ".concat(m),"x-shop-region":y}:{};!t&&(t=(0,a.getApiServer)());var N=(()=>{var e=P().get("SPC_CDS_CHAT");if(!e){e=(0,D.v4)();var t=window.location.host.split(".");["seller","banhang"].includes(t[0])&&t.shift(),P().set("SPC_CDS_CHAT",e,{domain:".".concat(t.join("."))})}return e})();if(e){g=e;var M={};N&&(M.SPC_CDS_CHAT=N),g=f(g,M)}else{var L=["https:/",t,r,o,v,n,s,i,c,l].filter(Boolean).join("/"),U=d?"".concat(L,".").concat(d):L;((e,{session:t,shouldAddHeader:r,region:o,spcToken:n})=>{var a,s=null==t||null===(a=t.user)||void 0===a?void 0:a.uid;s&&(e._uid=s),Ge&&(e._v=Ge);var i=P().get("CTOKEN");i&&(e.csrf_token=i),n&&(e.SPC_CDS_CHAT=n),r&&(e["x-shop-region"]=o),e._api_source="pcmall"})(p,{session:h,shouldAddHeader:C,region:y,spcToken:N}),g=f(U,p)}try{var G;V({uri:g,id:c,parentId:s});var x,k,F=Date.now(),z={method:u,credentials:_,headers:Ue(Ue({},I),E),body:S},q=T||j,K=yield q(g,z);if(A="number"==typeof K.status?K.status:(null===(G=K.__raw)||void 0===G?void 0:G.status)||200,T&&200===A&&S){var X=pe();null==X||X.reportSendMessageConsuming(S)}if(T?K.error===ke?Y(A=499,{message:"need captcha",errcode:A,data:null}):A=(null===(k=K.__raw)||void 0===k?void 0:k.status)||200:A=K.status,[200,204].includes(A)&&"report_upload"===i&&S){var{vid:J}=JSON.parse(S);performance.mark("REPORT_UPLOAD_".concat(J))}if(H(A),200===A){var $=null;try{$=yield K.json()}catch(e){$=K}var Z=$ instanceof Array?{[i]:$}:$;return T&&S&&(O=JSON.parse(S).request_id,(0,a.setItem)(O,F)),Z}if(204===A)return null;switch(A){case 404:case 452:case 500:case 502:x={message:xe[A]};break;default:if(T)try{var ee;x=yield Q(null==K||null===(ee=K.__raw)||void 0===ee?void 0:ee.body)}catch(e){x={message:"Server Error"}}else x=yield K.json()}B(A,x,{uri:g,resource:i})}catch(e){W(A,e)}}));return function(e){return h.apply(this,arguments)}}();return h(window.__WEBCHAT_SESSION__)})),He.apply(this,arguments)}var Ye=null,Be=e=>{e&&(Ye=e)},Ve=null,We=({data:e,operation:t=a.TrackerOperation.CLICK,page:r,shopId:o,section:n="",type:s=""})=>{try{Ve||(Ve=window.BITrack?window.BITrack:window.trackingSDK);var i=(({data:e,operation:t,page:r,shopId:o,section:n,type:a})=>{var{shop_id:s="",role:i="",id:c=""}=Ye||{};return{operation:t,page_section:n,target_type:a,page_type:r||"minichat_page",data:Object.assign({},{shopid:s||o,account_type:i||"shopee_user",account_id:c},e)}})({data:e,operation:t,page:r,shopId:o,section:n,type:s});Ve({data:{type:"v3",timestamp:Date.now(),info:i}})}catch(e){console.warn("Tracker error",e)}},Qe=new(p(7187).EventEmitter),ze=p(1383);function qe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Ke(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Xe=(e,t,r)=>new ze.schema.Entity(e,Ke({},t),Ke({},r)),Je=Xe("users"),$e=Xe("affiliate"),Ze=Xe("messages"),et=Xe("conversations"),tt=Xe("orders"),rt=Xe("products"),ot=Xe("offers"),nt=Xe("stickers"),at=Xe("shops"),st=Xe("messageShortcuts"),it=Xe("rateCards"),ct=Xe("agentConversations"),lt=Xe("contacts",{},{idAttribute:"account_id"}),ut=Xe("vouchers"),_t={users:Je,affiliate:$e,messages:Ze,conversations:et,orders:tt,offers:ot,products:rt,stickers:nt,shops:at,messageShortcuts:st,rateCards:it,agentConversations:ct,contacts:lt,vouchers:ut};const dt=(e,t)=>{var r=_t[e]||Xe(e);return t instanceof Array?(0,ze.normalize)(t,[r]):(0,ze.normalize)(t,r)};var pt,St=p(4944),Et=[];pt=[202,215];var vt="https://seller.shopee.sg/api/tsp";"br"===(0,a.getRuntimeRegion)()&&(vt="https://seller.shopee.com.br/api/tsp"),"live"!==(0,a.getRuntimeServer)()&&(vt+="/nonlive");var Tt=(e,t)=>{var r=pt.includes(e)?"c":"r",o=(t||"").toLocaleLowerCase(),n="".concat((0,a.getCDNUrl)(),"shopee-seller-live-sg/tsp/api/").concat(r,"_").concat(e,"_").concat(o,".json");return L()(n).then(function(){var e=R((function*(e){return yield e.json()}));return function(t){return e.apply(this,arguments)}}())},ft=e=>{var t="".concat(vt,"/init?language=").concat(e,"&collections=202%3B215");return L()(t).then(function(){var e=R((function*(e){return yield e.json()}));return function(t){return e.apply(this,arguments)}}()).catch((e=>{}))};function*ht({locale:e}){var t={},r=yield(0,St.call)(ft,e),o=null==r?void 0:r.translations;if((0,a.checkEmptyObject)(o)||(0,a.checkEmptyObject)(o.collection)||Object.keys(o.collection).forEach((e=>{t=Object.assign(t,o.collection[e])})),(0,a.checkEmptyObject)(t)){var n=[];pt.concat(Et).forEach((t=>{n.push(Tt(t,e))})),(yield(0,St.all)(n)).forEach((e=>{Object.assign(t,e)}))}return t}})(),S})(),e.exports=o(r(58518),r(29494),r(36808),r(67429),r(94301),r(44900),r(59065),r(67677),r(58397),r(82677),r(34857))},96961:function(e,t,r){"use strict";e.exports=r(27830)},78232:function(e,t,r){var o;o=(e,t,r,o,n,a,s,i,c,l)=>(()=>{"use strict";var u={1383:t=>{t.exports=e},8156:e=>{e.exports=c},4756:e=>{e.exports=l},8252:e=>{e.exports=a},4944:e=>{e.exports=s},975:e=>{e.exports=t},783:e=>{e.exports=i},2511:e=>{e.exports=o},5644:e=>{e.exports=n},1855:e=>{e.exports=r}},_={};function d(e){var t=_[e];if(void 0!==t)return t.exports;var r=_[e]={exports:{}};return u[e](r,r.exports,d),r.exports}d.d=(e,t)=>{for(var r in t)d.o(t,r)&&!d.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},d.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),d.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var p={};return(()=>{d.r(p),d.d(p,{activeListTabSelector:()=>u,allChatExcludeAllBuyersConversationIdsSelector:()=>Y,allChatsConversationsSelector:()=>Gt,allConversationIdsSelector:()=>K,assistantHighlightSelector:()=>O,autoRepliedHighlightConvIdSelector:()=>y,autoRepliedHighlightSelector:()=>f,autoTranslationStatusSelector:()=>Nt,bannerInfoSelector:()=>oe,bizIdSelector:()=>we,bizIdsSelector:()=>Le,buyerAbtestSelector:()=>xt,buyerToPayConversationsSelector:()=>Lt,changeChatWithTypeSelector:()=>Me,chatWithIhsSelector:()=>pe,chatWithTypeSelector:()=>z,chatbotConversationIdSelector:()=>v,chatbotConversationSelector:()=>x,chatbotThinkingConversationIdSelector:()=>Ot,confirmBannerInfoSelector:()=>ne,conversationBeenDeletedSelector:()=>at,conversationDirectionSelector:()=>fe,conversationHttpStatusSelector:()=>Te,conversationIdsSelector:()=>W,conversationLastMessageIdSelector:()=>ar,conversationLastMessageSelector:()=>nr,conversationsSelector:()=>he,curConvsMessageSelector:()=>Er,curMessagesRelatedSelector:()=>rr,currentBuyerIdSelector:()=>Ue,currentBuyerSelector:()=>Je,currentBuyerShopIdSelector:()=>$e,currentBuyerShopSelector:()=>Ze,currentConversationBuyerIdSelectors:()=>Ve,currentConversationCanReadSelector:()=>ve,currentConversationDueStatusTagSelector:()=>sr,currentConversationHasLoadingSelector:()=>ht,currentConversationIdSelector:()=>ee,currentConversationSelector:()=>De,currentConversationShopIdSelectors:()=>Ye,currentConversationShopNameSelectors:()=>He,currentConversationShopRegionSelectors:()=>Fe,currentConversationShopSelectors:()=>ke,currentConversationShowTypingLoadingSelector:()=>gt,currentConversationStatusSelectors:()=>We,currentConversationToNameSelector:()=>st,currentConversationTranslationAccessSelector:()=>ot,currentPendingOffersCountSelector:()=>_t,currentSellerAccountIdSelector:()=>pt,currentShopIdSelector:()=>Xe,currentShopIsManagedByShopeeSelector:()=>Be,degradeConversationIdsSelector:()=>be,feedbackSelector:()=>gr,filterSelector:()=>Ae,filteredConversationsSelector:()=>Re,folderViewHttpStatusSelector:()=>jt,getConversation:()=>Qe,getConversationBizId:()=>ze,getConversationShopId:()=>qe,getConversationShopRegion:()=>dt,getConversations:()=>Ke,getConversationsSelector:()=>L,getConvsMessagesRelatedSelector:()=>or,getMessageSelector:()=>tr,hasPinFlagSelector:()=>A,highlightStatusSelector:()=>T,ihcsEntitySelector:()=>le,ihsDisableTextSelector:()=>Ee,inlocationSelector:()=>$,inquiryWithoutOrderConversationsSelector:()=>Ut,isAffiliateChatRoomSelector:()=>xe,isBuyerChatRoomSelector:()=>Ge,isChatAvailiableSelector:()=>re,isDriverSelector:()=>te,isNavigateToUnreadMessageSelector:()=>lt,isNormalBuyerSelector:()=>q,isOfficialChatSelector:()=>Ie,keywordSelector:()=>et,lastBuyerSendMessageIdSelector:()=>hr,listsHashSelector:()=>nt,mediaListSelector:()=>Or,messagesRelatedMapSelector:()=>Jt,missedReadNoticeCountSelector:()=>J,modeReducer:()=>Ur,modeSelector:()=>jr,navigateToUnreadMessageIdSelector:()=>ut,needShowConfirmBannerSelector:()=>ae,noticesCountSelector:()=>mr,openFolderSelector:()=>H,pinnedConversationIdsSelector:()=>Q,productTopBannerInfoSelector:()=>se,productTopBannerIsCollapseSelector:()=>ce,readRequestIdsSelector:()=>X,reconnectFlagSelector:()=>yr,redirectionInfoSelector:()=>yt,replyCardsListSelector:()=>br,replyToMessageSelector:()=>fr,resultsSelector:()=>tt,reverseMessagesSelector:()=>_r,rrButtonSelector:()=>At,searchConversationHttpStatusSelector:()=>rt,selectVideoInfoByKey:()=>Zt,selectVideoInfoKeyByVid:()=>er,serveTodayAllConversationIdsSelector:()=>M,serveTodayAutoRepliedConversationIdsSelector:()=>N,serveTodayAutoRepliedConversationsSelector:()=>G,serveTodayConversationHttpStatusSelector:()=>R,serveTodayConversationsSelector:()=>k,serveTodayFolderStatusSelector:()=>_,serveTodayManuallyRepliedConversationIdsSelector:()=>w,serveTodayManuallyRepliedConversationsSelector:()=>j,serveTodayOnlyConversationsSelector:()=>F,serveTodayPinnedConversationIdsSelector:()=>D,serveTodaySingleFolderStatusSelector:()=>S,serveTodayUnrepliedConversationIdsSelector:()=>I,serveTodayUnrepliedConversationsSelector:()=>U,serveTodayWaitingUpdatedRecordsSelector:()=>b,shopAccessSelector:()=>ct,shopIsIhcsSelector:()=>ue,showAssistantAlertSelector:()=>wt,showAssistantHighlightSelector:()=>It,showAutoReplyHighlightSelector:()=>Pt,showBotBannerTextSelector:()=>Mt,showChatbotConversationSelector:()=>Pe,showCollapsePartSelector:()=>ie,showHighlightAreaSelector:()=>Rt,showLoadingMessagesMapSelector:()=>Tt,showOnboardingAnimationSelector:()=>Ct,showOnboardingAnimationStatusSelector:()=>m,showUnrepliedHighlightSelector:()=>Dt,showWorkStationSelector:()=>je,singleConversationIdsSelector:()=>P,singleConversationMarkInfoSelector:()=>vt,singleConversationStateSelector:()=>C,singleFolderStatusSelector:()=>E,sortedConversationsSelector:()=>Ce,subAccountBizIdSelector:()=>Ne,subAccountToIsIhcsSelector:()=>Se,toShopIsIhcsSelector:()=>_e,toShopisChoiceOrIsIhcsSelector:()=>bt,toUserChattingWithIhsSelector:()=>de,totalConversationsCountSelector:()=>St,twoTabsAllConversationIdsSelector:()=>mt,typingStatusConversationIdsSelector:()=>ft,unrepliedHighlightSelector:()=>h,unrepliedHightlightConvIdSelector:()=>g,updateModeRequested:()=>Pr,updateModeSucceeded:()=>Dr,updateTimeNowSelector:()=>Z,useChatWithType:()=>Fr,useConversationFilter:()=>Qr,useCurrentSellerAccount:()=>qr,useDueCount:()=>Br,useDueFilter:()=>Vr,useInMultipleSelectionMode:()=>Wr,useSelectDisabled:()=>Yr,useShowDueFilters:()=>zr,watchModeSagas:()=>Gr});var e={};function t(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}d.r(e),d.d(e,{is:()=>Gt,vZ:()=>K,v2:()=>Nt,Oy:()=>oe,Vy:()=>we,OM:()=>Le,lg:()=>xt,u_:()=>Lt,V2:()=>Me,S0:()=>pe,NP:()=>z,Z5:()=>Ot,vW:()=>ne,xM:()=>at,o6:()=>fe,Vt:()=>Te,To:()=>W,yg:()=>he,A:()=>Ue,vT:()=>Je,Vj:()=>$e,D1:()=>Ze,L5:()=>Ve,f$:()=>ve,G8:()=>ht,xT:()=>ee,mA:()=>De,Vd:()=>Ye,J0:()=>He,f0:()=>Fe,$E:()=>ke,pq:()=>gt,JU:()=>We,Ig:()=>st,Bt:()=>ot,U5:()=>_t,PI:()=>pt,YR:()=>Xe,y3:()=>Be,kq:()=>be,S7:()=>Ae,Xj:()=>Re,MW:()=>jt,cc:()=>Qe,Uf:()=>ze,ry:()=>qe,X9:()=>dt,uv:()=>Ke,Zf:()=>le,yR:()=>Ee,DK:()=>$,FH:()=>Ut,GR:()=>xe,n:()=>Ge,Ni:()=>re,JT:()=>te,eY:()=>lt,kG:()=>q,h0:()=>Ie,a8:()=>et,hW:()=>nt,XX:()=>J,fC:()=>ut,yM:()=>ae,II:()=>Q,Oh:()=>se,VP:()=>ce,TU:()=>X,Sv:()=>yt,Mz:()=>tt,_3:()=>At,kf:()=>rt,n8:()=>ct,gb:()=>ue,ws:()=>wt,iG:()=>It,p3:()=>Pt,fq:()=>Mt,TZ:()=>Pe,zr:()=>ie,CV:()=>Rt,DZ:()=>Tt,zX:()=>Ct,q9:()=>Dt,XY:()=>je,VG:()=>vt,lh:()=>Ce,oS:()=>Ne,iK:()=>Se,gN:()=>_e,oX:()=>bt,_8:()=>de,Nc:()=>St,$Z:()=>mt,fY:()=>ft,Ui:()=>Z});var r=d(1383),o=d(975),n=d(1855),a=d(2511),s=d(5644);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function c(e){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?i(Object(o),!0).forEach((function(r){t(e,r,o[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var l=e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.serveToday)||{}},u=(0,o.createSelector)(l,(e=>e.activeListTab)),_=(0,o.createSelector)(l,(e=>e.folderStatus)),S=(0,o.createSelector)(l,(e=>e.serveTodaySingleFolderStatus)),E=(0,o.createSelector)(l,(e=>e.singleFolderStatus)),v=(0,o.createSelector)(l,(e=>e.chatbotConversationId||0)),T=(0,o.createSelector)(l,(e=>e.highlightStatus)),f=(0,o.createSelector)(l,(e=>{var t;return(null===(t=e.highlightStatus)||void 0===t?void 0:t.autoRepliedHighlightStatus)||!1})),h=(0,o.createSelector)(l,(e=>{var t;return(null===(t=e.highlightStatus)||void 0===t?void 0:t.unrepliedHighlightStatus)||!1})),O=(0,o.createSelector)(l,(e=>{var t;return(null===(t=e.highlightStatus)||void 0===t?void 0:t.assistantHighlightStatus)||!1})),g=(0,o.createSelector)(l,(e=>{var t;return(null===(t=e.highlightStatus)||void 0===t?void 0:t.unrepliedHighlightConvId)||0})),y=(0,o.createSelector)(l,(e=>{var t;return(null===(t=e.highlightStatus)||void 0===t?void 0:t.autoRepliedHighlightConvId)||0})),m=(0,o.createSelector)(l,(e=>{var t;return(null===(t=e.highlightStatus)||void 0===t?void 0:t.showOnboardingAnimationStatus)||!1})),b=(0,o.createSelector)(l,(e=>e.waitingUpdatedRecords||{})),A=(0,o.createSelector)(l,(e=>e.hasPinFlag||!1)),R=(0,o.createSelector)(l,(e=>e.status||"")),C=e=>(0,o.createSelector)(l,(t=>t[e]||{})),P=e=>(0,o.createSelector)(C(e),(e=>Array.from(new Set(e.conversationIds||[])))),D=(0,o.createSelector)(l,(e=>Array.from(new Set((e[n.ServeTodayTab.PINNED]||{}).conversationIds||[])))),I=(0,o.createSelector)(l,(e=>Array.from(new Set((e[n.ServeTodayTab.UNREPLIED]||{}).conversationIds||[])))),N=(0,o.createSelector)(l,(e=>Array.from(new Set((e[n.ServeTodayTab.AUTOREPLY]||{}).conversationIds||[])))),w=(0,o.createSelector)(l,(e=>Array.from(new Set((e[n.ServeTodayTab.MANUALREPLY]||{}).conversationIds||[])))),M=(0,o.createSelector)(D,I,N,w,((e,t,r,o)=>[...e,...t,...r,...o])),L=e=>(0,o.createSelector)(a.conversationEntitiesSelector,P(e),a.shopsEntitiesSelector,((e,t,o)=>((0,r.denormalize)(t,[s.conversationSchema],{conversations:e})||[]).filter(Boolean).map((e=>{var{country:t,name:n}=(0,r.denormalize)(e.shop_id,s.shopSchema,{shops:o})||{};return c(c({},e),{},{shop_region:t,shop_name:n})})))),U=(0,o.createSelector)(L(n.ServeTodayTab.UNREPLIED),(e=>(e.sort(((e,t)=>parseInt(t.latest_message_id)-parseInt(e.latest_message_id))),e))),G=(0,o.createSelector)(L(n.ServeTodayTab.AUTOREPLY),(e=>e.sort(((e,t)=>parseInt(t.latest_message_id)-parseInt(e.latest_message_id))))),j=(0,o.createSelector)(L(n.ServeTodayTab.MANUALREPLY),(e=>e.sort(((e,t)=>parseInt(t.latest_message_id)-parseInt(e.latest_message_id))))),x=(0,o.createSelector)(a.conversationEntitiesSelector,v,((e,t)=>(0,r.denormalize)(t,s.conversationSchema,{conversations:e})||{})),k=(0,o.createSelector)(x,_,S,L(n.ServeTodayTab.PINNED),U,G,j,a.permissionsSelector,((e,t,r,o,a,s,i,l)=>{var u=[],{chatbotToggleOpen:_,chatListRevamp:d}=l||{},p={[n.ServeTodayTab.PINNED]:o,[n.ServeTodayTab.UNREPLIED]:a,[n.ServeTodayTab.AUTOREPLY]:s,[n.ServeTodayTab.MANUALREPLY]:i},S=o.map((e=>e.id))||[];return(_?n.ServeTodayFolders:n.ServeTodayFolders.filter((e=>e!==n.ServeTodayTab.AUTOREPLY))).forEach((e=>{var o=p[e];e!==n.ServeTodayTab.PINNED&&(o=o.filter((e=>!S.includes(e.id))),e===n.ServeTodayTab.AUTOREPLY&&(o=o.map((e=>c(c({},e),{},{isAutoReply:!0}))))),o.length&&(u=(d?r===e:t[e])?u.concat([{key:e,id:"".concat(e,"Tab")},...o]):u.concat([{key:e,id:"".concat(e,"Tab")}]))})),null!=e&&e.id?[e,...u]:u})),F=(0,o.createSelector)(k,(e=>e.filter((e=>!e.id.includes("Tab"))))),H=(0,o.createSelector)(a.permissionsSelector,u,S,E,((e,t,r,o)=>{var{chatListRevamp:n,showServingTab:a}=e,s=a?t:"all";return n?"today"===s&&!r||"all"===t&&!o?null:{today:{key:r,id:"".concat(r,"Tab")},all:{key:o,id:"".concat(o,"Tab")}}[s]:null})),Y=(0,o.createSelector)(P(n.ServeTodayTab.BUYER_TO_PAY),P(n.ServeTodayTab.INQUIRY_WITHOUT_ORDER),((e,t)=>Array.from(new Set([...e,...t]))));function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function V(e){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?B(Object(o),!0).forEach((function(r){t(e,r,o[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):B(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var W=e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.conversationIds)||[]},Q=e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.pinnedConversationIds)||[]},z=e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.chatWithType)||n.ChatWithTypeEnum.Buyer},q=(0,o.createSelector)(z,(e=>e===n.ChatWithTypeEnum.Buyer)),K=(0,o.createSelector)(W,Q,Y,a.permissionsSelector,q,((e,t,r,o,n)=>{var a=e.filter((e=>!t.includes(e)));return null!=o&&o.chatListRevamp&&n?Array.from(new Set(t.concat([...a,...r]))):t.concat(a)})),X=e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.readRequestIds)||[]},J=e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.missedReadNoticeCount)||0},$=e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.inlocation)||!1},Z=e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.updateTimeNow)||"0"},ee=e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.currentConversationId)||null},te=(0,o.createSelector)(z,(e=>e===n.ChatWithTypeEnum.Driver)),re=e=>{var t;return null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.isChatAvailiable},oe=e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.topBannerInfo)||{}},ne=e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.confirmBannerInfo)||{}},ae=(0,o.createSelector)(a.permissionsSelector,ne,((e,t)=>(null==e?void 0:e.showConfirmBanner)&&[n.BannerTypeEnum.UPDATE_PRODUCT,n.BannerTypeEnum.UPDATE_ORDER].includes(null==t?void 0:t.bannerType))),se=(0,o.createSelector)(oe,(e=>(null==e?void 0:e.productBannerInfo)||{})),ie=(0,o.createSelector)(oe,(e=>{var t;return(null==e?void 0:e.bannerType)===n.BannerTypeEnum.UPDATE_PRODUCT&&!(null==e||null===(t=e.productBannerInfo)||void 0===t||!t.product_name)})),ce=(0,o.createSelector)(se,(e=>null==e?void 0:e.collapse)),le=e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.ihcsEntity)||{}},ue=(0,o.createSelector)(le,(e=>e.shop_is_ihcs)),_e=(0,o.createSelector)(le,(e=>e.to_shop_is_ihcs)),de=(0,o.createSelector)(le,(e=>e.to_user_chatting_with_ihs)),pe=(0,o.createSelector)(ue,de,((e,t)=>!e&&t)),Se=(0,o.createSelector)(a.isSubAccountSelector,_e,((e,t)=>e&&t)),Ee=(0,o.createSelector)(ue,pe,Se,((e,t,r)=>{var o="";return e?o="conversation_detail.input_field.self_is_internal_shop":r?o="conversation_detail.input_field.subaccount_chat_with_internal_shop":t&&(o="conversation_detail.input_field.user_chat_with_ihs"),o})),ve=e=>{var t;return(0,a.judgeUndefined)({defaultValue:!0,value:null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.currentConversationCanRead})},Te=e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.status)||""},fe=e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.direction)||""},he=(0,o.createSelector)(a.conversationEntitiesSelector,K,a.shopsEntitiesSelector,((e,t,o)=>((0,r.denormalize)(t,[s.conversationSchema],{conversations:e})||[]).filter(Boolean).map((e=>{var{country:t,name:n}=(0,r.denormalize)(e.shop_id,s.shopSchema,{shops:o})||{};return V(V({},e),{},{shop_region:t,shop_name:n})})))),Oe=(0,o.createSelector)(he,ee,((e,t)=>e.filter((e=>{var{id:r,unread_count:o}=e;return e&&(o>0||r===t)})))),ge=(0,o.createSelector)(he,(e=>e.filter((e=>e.isPinned)))),ye=(0,o.createSelector)(he,(e=>e.filter((e=>e.status&&"closed"===e.status)))),me=(0,o.createSelector)(he,ee,((e,t)=>e.filter((e=>{var{unreplied:r,id:o}=e;return void 0===r||r||!r&&o===t})))),be=(0,o.createSelector)(he,(e=>e.filter((e=>e.lack)).map((e=>e.id))||[])),Ae=e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.filter)||"All"},Re=(0,o.createSelector)(Ae,he,Oe,ge,ye,me,((e,t,r,o,n,a)=>({All:t,Unread:r,Pinned:o,Closed:n,Unreplied:a}[e]))),Ce=(0,o.createSelector)(Re,Q,a.permissionsSelector,Ae,((e,t,r,o)=>{var{waitingTimeFilter:a}=r||{},s=e.filter((e=>!t.includes(e.id))),i=e.filter((e=>t.includes(e.id)));return s.sort(((e,t)=>parseInt(t.latest_message_id)-parseInt(e.latest_message_id))),i.concat(s).filter((e=>void 0===e.faking&&(null==e?void 0:e.biz_id)!==n.BizIdEnum.Chatbot))})),Pe=(0,o.createSelector)(ee,x,((e,t)=>(null==t?void 0:t.id)&&e===(null==t?void 0:t.id))),De=(0,o.createSelector)(he,k,ee,a.isSubAccountSelector,$,a.userEntitiesSelector,a.conversationEntitiesSelector,a.permissionsSelector,Pe,x,((e,t,o,n,a,i,c,l,u,_)=>{if(u)return _;var{showServingTab:d}=l||{},p=(d?[...e,...t]:e).find((e=>e.id===o))||{};if(a&&!p.id&&(p=(0,r.denormalize)(o,s.conversationSchema,{conversations:c})||{}),!n&&p.lack){var S=p.to_id,E=(0,r.denormalize)(S,s.userSchema,{users:i})||{},v={to_shop_id:E.shop_id,to_status:E.status,to_name:E.name||"-",to_avatar:E.avatar};return Object.assign(p,v)}return p})),Ie=(0,o.createSelector)(De,(e=>{var t;return(null==e||null===(t=e.official_chat)||void 0===t?void 0:t.official_conv_type)===n.OfficialConvType.OFFICIAL_CREDIT||!1})),Ne=(0,o.createSelector)(a.conversationEntitiesSelector,ee,((e,t)=>{var o=(0,r.denormalize)(t,s.conversationSchema,{conversations:e});return(null==o?void 0:o.biz_id)||n.BizIdEnum.SubAccount})),we=(0,o.createSelector)(z,a.permissionsSelector,a.isSubAccountSelector,Ne,((e,t,r,o)=>{if(r)return o;var{sellerDriverWhitelist:a,amsToggleStatus:s}=t||{};return!a&&e===n.ChatWithTypeEnum.Driver||!s&&n.ChatWithTypeEnum.Affiliate?n.ChatWithTypeMap.buyer:n.ChatWithTypeMap[e]||n.BizIdEnum.Buyer})),Me=(0,o.createSelector)(z,we,((e,t)=>n.ChatWithTypeMap[e]!==t)),Le=(0,o.createSelector)(a.chatWithTypeListSelector,(e=>e.map((e=>n.ChatWithTypeMap[e])))),Ue=(0,o.createSelector)(De,(e=>{var{to_id:t}=e||{};return t||null})),Ge=(0,o.createSelector)(a.isSubAccountSelector,z,Ne,Ie,((e,t,r,o)=>(!e&&t===n.ChatWithTypeEnum.Buyer||e&&r===n.BizIdEnum.SubAccount)&&!o)),je=(0,o.createSelector)(te,Ge,Ie,((e,t,r)=>e||t&&!r)),xe=(0,o.createSelector)(a.isSubAccountSelector,z,Ne,((e,t,r)=>e?n.subAccountAffiliateBiz.includes(r):t===n.ChatWithTypeEnum.Affiliate)),ke=(0,o.createSelector)(De,a.shopsEntitiesSelector,((e,t)=>(0,r.denormalize)(e.shop_id,s.shopSchema,{shops:t})||{})),Fe=(0,o.createSelector)(ke,(e=>(null==e?void 0:e.country)||"SG")),He=(0,o.createSelector)(ke,(e=>(null==e?void 0:e.name)||"SG")),Ye=(0,o.createSelector)(De,(e=>e.shop_id)),Be=(0,o.createSelector)(Ye,ke,((e,t)=>e&&(null==t?void 0:t.managed_by_shopee)||!1)),Ve=(0,o.createSelector)(De,(e=>e.to_id)),We=(0,o.createSelector)(De,(e=>e.status)),Qe=e=>(0,o.createSelector)(a.conversationEntitiesSelector,(t=>(0,r.denormalize)(e,s.conversationSchema,{conversations:t})||{})),ze=e=>(0,o.createSelector)(Qe(e),a.isSubAccountSelector,we,((e,t,r)=>t?null==e?void 0:e.biz_id:r)),qe=e=>(0,o.createSelector)(Qe(e),(e=>e.shop_id)),Ke=e=>(0,o.createSelector)(he,k,a.permissionsSelector,((t,r,o)=>{var{showServingTab:n}=o||{},a=n?[...t,...r]:t;return e.map((e=>a.find((t=>t.id===e)))).filter(Boolean)})),Xe=(0,o.createSelector)(De,(e=>{var{shop_id:t}=e||{};return t||null})),Je=(0,o.createSelector)(a.userEntitiesSelector,De,((e,t)=>t?(0,r.denormalize)(t.to_id,s.userSchema,{users:e}):{})),$e=(0,o.createSelector)(De,(e=>{var{to_shop_id:t}=e||{};return t||null})),Ze=(0,o.createSelector)($e,a.shopsEntitiesSelector,((e,t)=>(0,r.denormalize)(e,s.shopSchema,{shops:t})||{})),et=e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.keyword)||""},tt=e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.results)||[]},rt=e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.searchStatus)||""},ot=(0,o.createSelector)(De,(e=>e.translationAccess)),nt=e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.listsHash)||{}},at=e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.conversationBeenDeleted)||!1},st=(0,o.createSelector)(De,(e=>{var{to_name:t}=e||{};return t})),it={hasSCAccess:!0,hasEditOrderAccess:!0,hasViewOrderAccess:!0,hasViewProductAccess:!0,hasEditVoucherAccess:!0,hasViewVoucherAccess:!0,hasViewRrOrderAccess:!0,hasOrderDetailAccess:!0},ct=e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.access)||it},lt=e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.isNavigateToUnreadMessage)||!1},ut=e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.navigateToUnreadMessageId)||""},_t=(0,o.createSelector)(De,(e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.pendingOffersCount)||{}}),((e,t)=>{var{shop_id:r,to_id:o}=e;return t["".concat(r,"_").concat(o)]||0})),dt=e=>(0,o.createSelector)(qe(e),a.shopsEntitiesSelector,((e,t)=>{var o=(0,r.denormalize)(e,s.shopSchema,{shops:t})||{};return(null==o?void 0:o.country)||"SG"})),pt=(0,o.createSelector)(a.isSubAccountSelector,a.currentUserIdSelector,ke,((e,t,r)=>e?r.user_id:t)),St=(0,o.createSelector)(z,a.allTotalConversationsCountMapSelector,((e,t)=>t[e]||{})),Et=e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.conversationMark)||{}},vt=e=>(0,o.createSelector)(Et,(t=>t[e])),Tt=e=>{var t;return null===(t=e.conversationReducer)||void 0===t?void 0:t.showLoadingMessagesMap},ft=e=>{var t;return(null===(t=e.conversationReducer)||void 0===t?void 0:t.typingStatusConversationIds)||[]},ht=(0,o.createSelector)(ee,Tt,ft,((e,t,r)=>{var o,n,a=t&&t[e],s=Object.entries(a||{})||[],i=s.some((([e,t])=>null==t?void 0:t.showLoading)),c=i||r.includes(e);return s.forEach((([e,t],r)=>{var{startTime:a}=t;(0===r||a<o)&&(o=a,n=t.isSend)})),{hasLoading:c,isSend:n,earliestStartTime:o,hasChatbotLoading:i}})),Ot=(0,o.createSelector)(Tt,(e=>{var t=[];return Object.entries(e).map((([e,r])=>{(Object.entries(r||{})||[]).some((([e,t])=>null==t?void 0:t.showLoading))&&t.push(e)})),t})),gt=(0,o.createSelector)(ee,ft,ht,a.permissionsSelector,((e,t,r,o)=>{var{typingStatus:{chatRoomTypingDisplay:a=0}={}}=o;return t.includes(e)&&!r.hasChatbotLoading&&a===n.ChatListTypingDisplay.DOT_TYPING})),yt=e=>{var t;return null===(t=e.conversationReducer)||void 0===t?void 0:t.redirectionInfo},mt=(0,o.createSelector)(a.permissionsSelector,K,M,((e,t,r)=>{var{showServingTab:o}=e||{};return o?[...t,...r]:t})),bt=(0,o.createSelector)(De,a.isSubAccountSelector,_e,((e,t,r)=>{var{choice_entity:{to_shop_is_choice:o}={}}=e||{};return o||r&&!t})),At=e=>{var t;return null===(t=e.conversationReducer)||void 0===t?void 0:t.clickable},Rt=(0,o.createSelector)(a.permissionsSelector,(e=>{var{onboardingWhitelist:t,chatbotToggleOpen:r,onboardingNewbieComplete:o}=e||{};return r&&!o&&t})),Ct=(0,o.createSelector)(Pe,a.permissionsSelector,m,((e,t,r)=>{var{onboardingWhitelist:o,chatbotToggleOpen:n,onboardingNewbieComplete:a}=t||{};return(n||!n&&e)&&o&&!a&&r})),Pt=(0,o.createSelector)(Rt,a.newbieSelector,Ct,O,y,S,a.permissionsSelector,u,((e,t,r,o,a,s,i,c)=>{var{chatListRevamp:l}=i,u=e&&!!(0,n.checkAutoReplyHighlightGuide)(t)&&!r&&!o&&a&&c===n.ConversationListTab.TODAY;return l?u&&s===n.ServeTodayTab.AUTOREPLY:u})),Dt=(0,o.createSelector)(Rt,a.newbieSelector,Ct,O,y,g,h,S,a.permissionsSelector,u,((e,t,r,o,a,s,i,c,l,u)=>{var{chatListRevamp:_}=l,d=(e&&!!(0,n.checkAutoReplyHighlightGuide)(t)&&!r&&!o&&!a&&s||i)&&u===n.ConversationListTab.TODAY;return _?d&&c===n.ServeTodayTab.UNREPLIED:d})),It=(0,o.createSelector)(a.newbieSelector,Ct,O,a.permissionsSelector,((e,t,r,o)=>{var{chatbotToggleOpen:a}=o||{};return!!(0,n.checkAssistantHighlightGuide)(e)&&!t&&r&&!a})),Nt=e=>(0,o.createSelector)(a.shopTranslationSettingsSelector,we,((t,r)=>{var{autoTranslationStatus:o}=t[e]||{};return r===n.BizIdEnum.Buyer||r===n.BizIdEnum.SubAccount?o:n.SwitchStatus.ENABLED})),wt=(0,o.createSelector)(T,a.permissionsSelector,z,((e,t,r)=>{var{chatbotToggleOpen:o,onboardingWhitelist:a}=t;return(o&&a||(null==e?void 0:e.showAssistantAlert))&&r===n.ChatWithTypeEnum.Buyer})),Mt=(0,o.createSelector)(a.permissionsSelector,a.localeSelector,wt,((e,t,r)=>{var o,a;return null==e||null===(o=e.showBotBanner)||void 0===o||!o.text||r?"":(0,n.getGlobalConfigTranslatedText)(null==e||null===(a=e.showBotBanner)||void 0===a?void 0:a.text,t)})),Lt=(0,o.createSelector)(L(n.ServeTodayTab.BUYER_TO_PAY),Q,((e,t)=>{var r=(0,a.sortConversations)(e.filter((e=>!(null!=e&&e[n.ServeTodayTab.BUYER_TO_PAY])))),o=t.map((e=>r.find((t=>t.id===e)))).filter(Boolean),s=r.filter((e=>!t.includes(e.id)));return o.concat(s.filter((e=>void 0===e.faking)))})),Ut=(0,o.createSelector)(L(n.ServeTodayTab.INQUIRY_WITHOUT_ORDER),Q,((e,t)=>{var r=(0,a.sortConversations)(e.filter((e=>!(null!=e&&e[n.ServeTodayTab.INQUIRY_WITHOUT_ORDER])))),o=t.map((e=>r.find((t=>t.id===e)))).filter(Boolean),s=r.filter((e=>!t.includes(e.id)));return o.concat(s.filter((e=>void 0===e.faking)))})),Gt=(0,o.createSelector)(E,Ce,Lt,Ut,((e,t,r,o)=>{var a=[],s={[n.ServeTodayTab.BUYER_TO_PAY]:r,[n.ServeTodayTab.INQUIRY_WITHOUT_ORDER]:o};return n.AllChatsFolders.forEach((t=>{var r=null==s?void 0:s[t];null!=r&&r.length&&(a=a.concat([{key:t,id:"".concat(t,"Tab")}]),e===t&&(a=a.concat(r)))})),a})),jt=(0,o.createSelector)(Te,R,H,((e,t,r)=>(null==r?void 0:r.key)===n.ServeTodayTab.ALL_BUYERS?e:t)),xt=e=>{var t;return(null===(t=e.conversationReducer)||void 0===t?void 0:t.buyerAbtest)||{}};function kt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Ft(e){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?kt(Object(o),!0).forEach((function(r){t(e,r,o[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):kt(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function Ht(e){return function(){var t=Array.prototype.slice.call(arguments);return e.memoize=e.memoize||{},t in e.memoize?e.memoize[t]:e.memoize[t]=e.apply(this,t)}}var Yt,{MSG_TYPE_OFFER:Bt,MSG_TYPE_ORDER:Vt,MSG_TYPE_PRODUCT:Wt,MSG_TYPE_FAQ_UNSUPPORTED:Qt,MSG_TYPE_FAQ_LIVEAGENT_PROMPT:zt,MSG_TYPE_RATE_CARD:qt,MSG_TYPE_FAQ_BOT_PRODUCT:Kt}=n.MessageTypes,Xt=[Vt,Wt,Kt],Jt=(0,o.createSelector)((e=>e),(e=>(e.messageReducer||{}).messagesRelatedMap||{})),$t=e=>{var t;return(null===(t=e.messageReducer)||void 0===t?void 0:t.videoMap)||{}},Zt=e=>(0,o.createSelector)($t,(t=>JSON.parse(JSON.stringify(t[e]||{})))),er=e=>(0,o.createSelector)($t,(t=>Object.keys(t).find((r=>t[r].vid===e)))),tr=e=>(0,o.createSelector)(a.messageEntitiesSelector,(t=>(0,r.denormalize)(e,s.messageSchema,{messages:t}))),rr=(0,o.createSelector)(ee,Jt,((e,t)=>t[e]||{all:[]})),or=e=>(0,o.createSelector)(Jt,(t=>t[e]||{all:[],sending:[],failed:[]})),nr=Ht((e=>(0,o.createSelector)(or(e),Qe(e),a.messageEntitiesSelector,((e,t,r)=>(0,a.getConversationLastMessage)(e,t,r))))),ar=Ht((e=>(0,o.createSelector)(or(e),Qe(e),a.messageEntitiesSelector,((e,t,r)=>{var o=(0,a.getConversationLastMessage)(e,t,r,!0);return null==o?void 0:o.id})))),sr=Ht((e=>(0,o.createSelector)(Qe(e),a.isSubAccountSelector,((e,t)=>{var{dueTag:r,status:o,to_status:a,is_blocked:s}=e,i=(0,n.getConversationStatusTag)({isSubAccount:t,status:o,userStatus:a,isBlocked:s});return r&&!["banned","blocked","frozen"].includes(i)?r:""})))),ir=(0,o.createSelector)(rr,(e=>{var t=[...e.all||[]];return e.securityTipsMessageId&&t.push(e.securityTipsMessageId),t})),cr=(0,o.createSelector)(rr,(e=>e.sending||[])),lr=(0,o.createSelector)(rr,(e=>e.failed||[])),ur=(0,o.createSelector)(a.messageEntitiesSelector,ir,((e,t)=>((0,r.denormalize)(t,[s.messageSchema],{messages:e})||[]).filter(Boolean))),_r=(0,o.createSelector)(ur,(e=>e.reverse())),dr=(0,o.createSelector)(De,_r,((e,t)=>e?t.filter(Boolean).reduce(((e,t)=>{var{type:r,source_type:o,source_content:n,content:a}=t;if(!o||r===Bt||[-1,0].includes(n["".concat(o,"_id")]))return e;if(Xt.includes(r)&&n){var s="".concat(r,"_id");if(a[s]===n[s])return e}var{lastSourceMessage:i,sourceList:c}=e;if(!c.length)return{sourceList:c.concat(t),lastSourceMessage:t};if(o===Wt){var l=null==n?void 0:n.product_id,u=i.source_content&&i.source_content.product_id;if(!l||u===l)return e}else if(o===Vt){var _=null==n?void 0:n.order_id,d=i.source_content&&i.source_content.order_id;if(!_||[-1,0,d].includes(_))return e}return{sourceList:c.concat(t),lastSourceMessage:t}}),{sourceList:[],lastSourceMessage:null}).sourceList:[])),pr=(0,o.createSelector)(dr,(e=>e.map((e=>e.id)))),Sr=(0,o.createSelector)(a.entitiesSelector,ur,((e,t)=>{var o=t.filter((e=>e&&e.type===Bt)).map((e=>e.content.offer_id));return(0,r.denormalize)(o,[s.offerSchema],e)})),Er=(0,o.createSelector)(_r,pr,cr,lr,De,a.rateCardEntitiesSelector,Sr,((e,t,r,o,a,s,i)=>a?e.filter((e=>{if(!e)return!1;var{content:t,type:r}=e;return!(![Qt,zt].includes(r)&&(!t||t&&0===Object.keys(t).length))})).map((e=>{var a=r.includes(e.id)?n.MessageSendStatus.SENDING:o.includes(e.id)?n.MessageSendStatus.FAILED:e.send_status||null,c=t.includes(e.id),l=Object.assign({},e,{send_status:a,hasMessageSource:c}),{type:u,content:_={},message_option:d}=l;switch(u){case Bt:var p=i.find((e=>e&&e.id===_.offer_id));l=Object.assign({},l,{textContent:p});break;case qt:var S=s[_.card_id];S&&(l=Object.assign({},l,{textContent:S}))}return(0,n.hasTargetMessageOption)(d,n.MessageOption.MSG_OPT_CENSORED_BLACKLIST)&&(l=Ft(Ft({},l),{},{send_status:n.MessageSendStatus.FAILED,errorCode:n.MessageErrorCode.BLACKLIST})),l})):[])),vr=(0,o.createSelector)((e=>{var t;return null==e||null===(t=e.messageReducer)||void 0===t?void 0:t.reply}),(e=>e?e.toMessageId:{})),Tr=(0,o.createSelector)(ee,vr,((e,t)=>t[e]||"")),fr=(0,o.createSelector)(Tr,a.messageEntitiesSelector,((e,t)=>(0,r.denormalize)(e,s.messageSchema,{messages:t}))),hr=(0,o.createSelector)(Er,De,((e,t)=>{for(var r="",o=e.length-1;o>=0;o--){var a=e[o];if(!(0,n.getMessageIsSend)(a,t)){r=a.id;break}}return r})),Or=(0,o.createSelector)(ee,(e=>{var t;return(null===(t=e.mediaPreviewerReducer)||void 0===t?void 0:t.mediaMap)||{}}),((e,t)=>t[e]||[])),gr=e=>{var t;return(null==e||null===(t=e.socketReducer)||void 0===t?void 0:t.feedback)||void 0},yr=e=>{var t;return(null==e||null===(t=e.socketReducer)||void 0===t?void 0:t.reconnectFlag)||!1},mr=e=>{var t;return(null==e||null===(t=e.socketReducer)||void 0===t?void 0:t.noticesCount)||0},br=(0,o.createSelector)(ee,(e=>{var t;return(null===(t=e.inputFieldReducer)||void 0===t?void 0:t.replyCardsMap)||{}}),((e,t)=>t[e]||[])),Ar=d(8252),Rr=d(4944),Cr=d(783);!function(e){e.UPDATE_MODE_REQUESTED="UPDATE_MODE_REQUESTED",e.UPDATE_MODE_SUCCEEDED="UPDATE_MODE_SUCCEEDED"}(Yt||(Yt={}));var{updateModeRequested:Pr,updateModeSucceeded:Dr}=(0,Ar.createActions)({[Yt.UPDATE_MODE_REQUESTED]:({mode:e})=>({mode:e}),[Yt.UPDATE_MODE_SUCCEEDED]:({mode:e})=>({mode:e})});function Ir(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Nr(e){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?Ir(Object(o),!0).forEach((function(r){t(e,r,o[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Ir(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function*wr({payload:{mode:e}}){yield(0,Rr.put)(Dr({mode:e})),yield(0,Rr.put)((0,Cr.resetConversationRequested)());var t=yield(0,Rr.select)(a.currentUserSelector),{shop:r}=t;yield(0,Rr.put)((0,Cr.updateConversationFilterRequested)({filter:"All"})),yield(0,Rr.put)((0,a.updateConversationDetailStatus)({showConversationDetail:!1})),yield(0,Rr.put)((0,a.resetEntities)({names:["conversations"]})),yield(0,Rr.put)((0,Cr.fetchConversationsRequested)({direction:"reset",mode:e})),e===n.UserMode.MONITOR&&(yield(0,Rr.put)((0,Cr.fetchServeTodayConversations)({direction:"reset",types:[...n.ServeTodayFolders,...n.AllChatsFolders]})))}const Mr={[Yt.UPDATE_MODE_SUCCEEDED]:(e,{payload:{mode:t}})=>Nr(Nr({},e),{},{mode:t})};function Lr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}var Ur=(0,Ar.handleActions)(function(e){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?Lr(Object(o),!0).forEach((function(r){t(e,r,o[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Lr(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},Mr),{mode:""}),Gr=[function*(){yield(0,Rr.takeEvery)(Pr,wr)}],jr=e=>e.modeReducer.mode,xr=d(8156),kr=d(4756),Fr=()=>{var e=(0,kr.useSelector)(z);return(0,xr.useMemo)((()=>({chatWithType:e,isBuyer:e===n.ChatWithTypeEnum.Buyer,isDriver:e===n.ChatWithTypeEnum.Driver,isAffiliate:e===n.ChatWithTypeEnum.Affiliate})),[e])},Hr=(e,t)=>{if(e.length!==t.length)return!1;var r=new Set(e),o=new Set(t);for(var n of r)if(!o.has(n))return!1;return!0},Yr=t=>{var r=(0,kr.useSelector)(e.selectedConversationIdsSelector,Hr);return!r.includes(t)&&r.length>=n.BATCH_OPERATE_MAX_SELECTION},Br=()=>{var{duesoonCount:e=0,overdueCount:t=0}=(0,kr.useSelector)(St)||{};return{duesoonCount:e,overdueCount:t}},Vr=()=>(0,kr.useSelector)(e.dueFiltersSelector),Wr=()=>({mode:(0,kr.useSelector)(e.inMultipleSelectionModeSelector),selectedIds:(0,kr.useSelector)(e.selectedConversationIdsSelector),selectedId:(0,kr.useSelector)(e.currerntSelectedConversationIdSelector)}),Qr=()=>{var e=(0,kr.useSelector)(Ae);return{filter:e,isUnrepliedFilter:"unreplied"===e.toLowerCase()}},zr=()=>{var{isBuyer:e}=Fr(),{showCrrDue:t}=(0,a.usePermission)(),{isUnrepliedFilter:r}=Qr(),{mode:o}=Wr();return t&&e&&r&&!o},qr=()=>{var{isSubAccount:e}=(0,a.useAccount)(),t=(0,kr.useSelector)(ke),r=(0,kr.useSelector)(a.currentUserIdSelector);return e?null==t?void 0:t.user_id:r}})(),p})(),e.exports=o(r(82677),r(20573),r(29494),r(53402),r(96961),r(6678),r(34857),r(38104),r(86843),r(55036))},66633:function(e,t,r){"use strict";e.exports=r(78232)},25061:function(e,t,r){var o;o=(e,t,r,o,n,a,s,i,c,l,u,_)=>(()=>{var d={9701:(e,t,r)=>{"use strict";r.d(t,{t:()=>a});var o=r(8661),n=r.n(o),a=n().t.bind(n())},8552:(e,t,r)=>{var o=r(852)(r(5639),"DataView");e.exports=o},1989:(e,t,r)=>{var o=r(1789),n=r(401),a=r(7667),s=r(1327),i=r(1866);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}c.prototype.clear=o,c.prototype.delete=n,c.prototype.get=a,c.prototype.has=s,c.prototype.set=i,e.exports=c},8407:(e,t,r)=>{var o=r(7040),n=r(4125),a=r(2117),s=r(7518),i=r(4705);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}c.prototype.clear=o,c.prototype.delete=n,c.prototype.get=a,c.prototype.has=s,c.prototype.set=i,e.exports=c},7071:(e,t,r)=>{var o=r(852)(r(5639),"Map");e.exports=o},3369:(e,t,r)=>{var o=r(4785),n=r(1285),a=r(6e3),s=r(9916),i=r(5265);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}c.prototype.clear=o,c.prototype.delete=n,c.prototype.get=a,c.prototype.has=s,c.prototype.set=i,e.exports=c},3818:(e,t,r)=>{var o=r(852)(r(5639),"Promise");e.exports=o},8525:(e,t,r)=>{var o=r(852)(r(5639),"Set");e.exports=o},8668:(e,t,r)=>{var o=r(3369),n=r(619),a=r(2385);function s(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new o;++t<r;)this.add(e[t])}s.prototype.add=s.prototype.push=n,s.prototype.has=a,e.exports=s},6384:(e,t,r)=>{var o=r(8407),n=r(7465),a=r(3779),s=r(7599),i=r(4758),c=r(4309);function l(e){var t=this.__data__=new o(e);this.size=t.size}l.prototype.clear=n,l.prototype.delete=a,l.prototype.get=s,l.prototype.has=i,l.prototype.set=c,e.exports=l},2705:(e,t,r)=>{var o=r(5639).Symbol;e.exports=o},1149:(e,t,r)=>{var o=r(5639).Uint8Array;e.exports=o},577:(e,t,r)=>{var o=r(852)(r(5639),"WeakMap");e.exports=o},4963:e=>{e.exports=function(e,t){for(var r=-1,o=null==e?0:e.length,n=0,a=[];++r<o;){var s=e[r];t(s,r,e)&&(a[n++]=s)}return a}},4636:(e,t,r)=>{var o=r(2545),n=r(5694),a=r(1469),s=r(4144),i=r(5776),c=r(6719),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=a(e),u=!r&&n(e),_=!r&&!u&&s(e),d=!r&&!u&&!_&&c(e),p=r||u||_||d,S=p?o(e.length,String):[],E=S.length;for(var v in e)!t&&!l.call(e,v)||p&&("length"==v||_&&("offset"==v||"parent"==v)||d&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||i(v,E))||S.push(v);return S}},2488:e=>{e.exports=function(e,t){for(var r=-1,o=t.length,n=e.length;++r<o;)e[n+r]=t[r];return e}},2908:e=>{e.exports=function(e,t){for(var r=-1,o=null==e?0:e.length;++r<o;)if(t(e[r],r,e))return!0;return!1}},8470:(e,t,r)=>{var o=r(7813);e.exports=function(e,t){for(var r=e.length;r--;)if(o(e[r][0],t))return r;return-1}},8866:(e,t,r)=>{var o=r(2488),n=r(1469);e.exports=function(e,t,r){var a=t(e);return n(e)?a:o(a,r(e))}},4239:(e,t,r)=>{var o=r(2705),n=r(9607),a=r(2333),s=o?o.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?n(e):a(e)}},9454:(e,t,r)=>{var o=r(4239),n=r(7005);e.exports=function(e){return n(e)&&"[object Arguments]"==o(e)}},939:(e,t,r)=>{var o=r(2492),n=r(7005);e.exports=function e(t,r,a,s,i){return t===r||(null==t||null==r||!n(t)&&!n(r)?t!=t&&r!=r:o(t,r,a,s,e,i))}},2492:(e,t,r)=>{var o=r(6384),n=r(7114),a=r(8351),s=r(6096),i=r(4160),c=r(1469),l=r(4144),u=r(6719),_="[object Arguments]",d="[object Array]",p="[object Object]",S=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,E,v,T){var f=c(e),h=c(t),O=f?d:i(e),g=h?d:i(t),y=(O=O==_?p:O)==p,m=(g=g==_?p:g)==p,b=O==g;if(b&&l(e)){if(!l(t))return!1;f=!0,y=!1}if(b&&!y)return T||(T=new o),f||u(e)?n(e,t,r,E,v,T):a(e,t,O,r,E,v,T);if(!(1&r)){var A=y&&S.call(e,"__wrapped__"),R=m&&S.call(t,"__wrapped__");if(A||R){var C=A?e.value():e,P=R?t.value():t;return T||(T=new o),v(C,P,r,E,T)}}return!!b&&(T||(T=new o),s(e,t,r,E,v,T))}},8458:(e,t,r)=>{var o=r(3560),n=r(5346),a=r(3218),s=r(346),i=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,_=l.hasOwnProperty,d=RegExp("^"+u.call(_).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||n(e))&&(o(e)?d:i).test(s(e))}},8749:(e,t,r)=>{var o=r(4239),n=r(1780),a=r(7005),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&n(e.length)&&!!s[o(e)]}},280:(e,t,r)=>{var o=r(5726),n=r(6916),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!o(e))return n(e);var t=[];for(var r in Object(e))a.call(e,r)&&"constructor"!=r&&t.push(r);return t}},2545:e=>{e.exports=function(e,t){for(var r=-1,o=Array(e);++r<e;)o[r]=t(r);return o}},1717:e=>{e.exports=function(e){return function(t){return e(t)}}},4757:e=>{e.exports=function(e,t){return e.has(t)}},4429:(e,t,r)=>{var o=r(5639)["__core-js_shared__"];e.exports=o},7114:(e,t,r)=>{var o=r(8668),n=r(2908),a=r(4757);e.exports=function(e,t,r,s,i,c){var l=1&r,u=e.length,_=t.length;if(u!=_&&!(l&&_>u))return!1;var d=c.get(e),p=c.get(t);if(d&&p)return d==t&&p==e;var S=-1,E=!0,v=2&r?new o:void 0;for(c.set(e,t),c.set(t,e);++S<u;){var T=e[S],f=t[S];if(s)var h=l?s(f,T,S,t,e,c):s(T,f,S,e,t,c);if(void 0!==h){if(h)continue;E=!1;break}if(v){if(!n(t,(function(e,t){if(!a(v,t)&&(T===e||i(T,e,r,s,c)))return v.push(t)}))){E=!1;break}}else if(T!==f&&!i(T,f,r,s,c)){E=!1;break}}return c.delete(e),c.delete(t),E}},8351:(e,t,r)=>{var o=r(2705),n=r(1149),a=r(7813),s=r(7114),i=r(8776),c=r(1814),l=o?o.prototype:void 0,u=l?l.valueOf:void 0;e.exports=function(e,t,r,o,l,_,d){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!_(new n(e),new n(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=i;case"[object Set]":var S=1&o;if(p||(p=c),e.size!=t.size&&!S)return!1;var E=d.get(e);if(E)return E==t;o|=2,d.set(e,t);var v=s(p(e),p(t),o,l,_,d);return d.delete(e),v;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},6096:(e,t,r)=>{var o=r(8234),n=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,a,s,i){var c=1&r,l=o(e),u=l.length;if(u!=o(t).length&&!c)return!1;for(var _=u;_--;){var d=l[_];if(!(c?d in t:n.call(t,d)))return!1}var p=i.get(e),S=i.get(t);if(p&&S)return p==t&&S==e;var E=!0;i.set(e,t),i.set(t,e);for(var v=c;++_<u;){var T=e[d=l[_]],f=t[d];if(a)var h=c?a(f,T,d,t,e,i):a(T,f,d,e,t,i);if(!(void 0===h?T===f||s(T,f,r,a,i):h)){E=!1;break}v||(v="constructor"==d)}if(E&&!v){var O=e.constructor,g=t.constructor;O==g||!("constructor"in e)||!("constructor"in t)||"function"==typeof O&&O instanceof O&&"function"==typeof g&&g instanceof g||(E=!1)}return i.delete(e),i.delete(t),E}},1957:(e,t,r)=>{var o="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=o},8234:(e,t,r)=>{var o=r(8866),n=r(9551),a=r(3674);e.exports=function(e){return o(e,a,n)}},5050:(e,t,r)=>{var o=r(7019);e.exports=function(e,t){var r=e.__data__;return o(t)?r["string"==typeof t?"string":"hash"]:r.map}},852:(e,t,r)=>{var o=r(8458),n=r(7801);e.exports=function(e,t){var r=n(e,t);return o(r)?r:void 0}},9607:(e,t,r)=>{var o=r(2705),n=Object.prototype,a=n.hasOwnProperty,s=n.toString,i=o?o.toStringTag:void 0;e.exports=function(e){var t=a.call(e,i),r=e[i];try{e[i]=void 0;var o=!0}catch(e){}var n=s.call(e);return o&&(t?e[i]=r:delete e[i]),n}},9551:(e,t,r)=>{var o=r(4963),n=r(479),a=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,i=s?function(e){return null==e?[]:(e=Object(e),o(s(e),(function(t){return a.call(e,t)})))}:n;e.exports=i},4160:(e,t,r)=>{var o=r(8552),n=r(7071),a=r(3818),s=r(8525),i=r(577),c=r(4239),l=r(346),u="[object Map]",_="[object Promise]",d="[object Set]",p="[object WeakMap]",S="[object DataView]",E=l(o),v=l(n),T=l(a),f=l(s),h=l(i),O=c;(o&&O(new o(new ArrayBuffer(1)))!=S||n&&O(new n)!=u||a&&O(a.resolve())!=_||s&&O(new s)!=d||i&&O(new i)!=p)&&(O=function(e){var t=c(e),r="[object Object]"==t?e.constructor:void 0,o=r?l(r):"";if(o)switch(o){case E:return S;case v:return u;case T:return _;case f:return d;case h:return p}return t}),e.exports=O},7801:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},1789:(e,t,r)=>{var o=r(4536);e.exports=function(){this.__data__=o?o(null):{},this.size=0}},401:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},7667:(e,t,r)=>{var o=r(4536),n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(o){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return n.call(t,e)?t[e]:void 0}},1327:(e,t,r)=>{var o=r(4536),n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return o?void 0!==t[e]:n.call(t,e)}},1866:(e,t,r)=>{var o=r(4536);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=o&&void 0===t?"__lodash_hash_undefined__":t,this}},5776:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,r){var o=typeof e;return!!(r=null==r?9007199254740991:r)&&("number"==o||"symbol"!=o&&t.test(e))&&e>-1&&e%1==0&&e<r}},7019:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},5346:(e,t,r)=>{var o,n=r(4429),a=(o=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||""))?"Symbol(src)_1."+o:"";e.exports=function(e){return!!a&&a in e}},5726:e=>{var t=Object.prototype;e.exports=function(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||t)}},7040:e=>{e.exports=function(){this.__data__=[],this.size=0}},4125:(e,t,r)=>{var o=r(8470),n=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=o(t,e);return!(r<0||(r==t.length-1?t.pop():n.call(t,r,1),--this.size,0))}},2117:(e,t,r)=>{var o=r(8470);e.exports=function(e){var t=this.__data__,r=o(t,e);return r<0?void 0:t[r][1]}},7518:(e,t,r)=>{var o=r(8470);e.exports=function(e){return o(this.__data__,e)>-1}},4705:(e,t,r)=>{var o=r(8470);e.exports=function(e,t){var r=this.__data__,n=o(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}},4785:(e,t,r)=>{var o=r(1989),n=r(8407),a=r(7071);e.exports=function(){this.size=0,this.__data__={hash:new o,map:new(a||n),string:new o}}},1285:(e,t,r)=>{var o=r(5050);e.exports=function(e){var t=o(this,e).delete(e);return this.size-=t?1:0,t}},6e3:(e,t,r)=>{var o=r(5050);e.exports=function(e){return o(this,e).get(e)}},9916:(e,t,r)=>{var o=r(5050);e.exports=function(e){return o(this,e).has(e)}},5265:(e,t,r)=>{var o=r(5050);e.exports=function(e,t){var r=o(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}},8776:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,o){r[++t]=[o,e]})),r}},4536:(e,t,r)=>{var o=r(852)(Object,"create");e.exports=o},6916:(e,t,r)=>{var o=r(5569)(Object.keys,Object);e.exports=o},1167:(e,t,r)=>{e=r.nmd(e);var o=r(1957),n=t&&!t.nodeType&&t,a=n&&e&&!e.nodeType&&e,s=a&&a.exports===n&&o.process,i=function(){try{return a&&a.require&&a.require("util").types||s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=i},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5569:e=>{e.exports=function(e,t){return function(r){return e(t(r))}}},5639:(e,t,r)=>{var o=r(1957),n="object"==typeof self&&self&&self.Object===Object&&self,a=o||n||Function("return this")();e.exports=a},619:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},2385:e=>{e.exports=function(e){return this.__data__.has(e)}},1814:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}},7465:(e,t,r)=>{var o=r(8407);e.exports=function(){this.__data__=new o,this.size=0}},3779:e=>{e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},7599:e=>{e.exports=function(e){return this.__data__.get(e)}},4758:e=>{e.exports=function(e){return this.__data__.has(e)}},4309:(e,t,r)=>{var o=r(8407),n=r(7071),a=r(3369);e.exports=function(e,t){var r=this.__data__;if(r instanceof o){var s=r.__data__;if(!n||s.length<199)return s.push([e,t]),this.size=++r.size,this;r=this.__data__=new a(s)}return r.set(e,t),this.size=r.size,this}},346:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},7813:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},5694:(e,t,r)=>{var o=r(9454),n=r(7005),a=Object.prototype,s=a.hasOwnProperty,i=a.propertyIsEnumerable,c=o(function(){return arguments}())?o:function(e){return n(e)&&s.call(e,"callee")&&!i.call(e,"callee")};e.exports=c},1469:e=>{var t=Array.isArray;e.exports=t},8612:(e,t,r)=>{var o=r(3560),n=r(1780);e.exports=function(e){return null!=e&&n(e.length)&&!o(e)}},4144:(e,t,r)=>{e=r.nmd(e);var o=r(5639),n=r(5062),a=t&&!t.nodeType&&t,s=a&&e&&!e.nodeType&&e,i=s&&s.exports===a?o.Buffer:void 0,c=(i?i.isBuffer:void 0)||n;e.exports=c},8446:(e,t,r)=>{var o=r(939);e.exports=function(e,t){return o(e,t)}},3560:(e,t,r)=>{var o=r(4239),n=r(3218);e.exports=function(e){if(!n(e))return!1;var t=o(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1780:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},3218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},6719:(e,t,r)=>{var o=r(8749),n=r(1717),a=r(1167),s=a&&a.isTypedArray,i=s?n(s):o;e.exports=i},3674:(e,t,r)=>{var o=r(4636),n=r(280),a=r(8612);e.exports=function(e){return a(e)?o(e):n(e)}},479:e=>{e.exports=function(){return[]}},5062:e=>{e.exports=function(){return!1}},8661:e=>{"use strict";e.exports=i},6598:e=>{"use strict";e.exports=l},1383:e=>{"use strict";e.exports=a},8156:e=>{"use strict";e.exports=u},4756:e=>{"use strict";e.exports=_},8252:e=>{"use strict";e.exports=n},4944:t=>{"use strict";t.exports=e},975:e=>{"use strict";e.exports=t},783:e=>{"use strict";e.exports=s},5644:e=>{"use strict";e.exports=o},1855:e=>{"use strict";e.exports=r},4672:e=>{"use strict";e.exports=c}},p={};function S(e){var t=p[e];if(void 0!==t)return t.exports;var r=p[e]={id:e,loaded:!1,exports:{}};return d[e](r,r.exports,S),r.loaded=!0,r.exports}S.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return S.d(t,{a:t}),t},S.d=(e,t)=>{for(var r in t)S.o(t,r)&&!S.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},S.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),S.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),S.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},S.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var E={};return(()=>{"use strict";S.r(E),S.d(E,{abnormalUserStatus:()=>Gn,addNeedCaptchaRequest:()=>ln,affiliateEntitiesSelector:()=>s,agentConversationEntitiesSelector:()=>c,allMessageShortcutGroupsSelector:()=>ao,allTotalConversationsCountMapSelector:()=>Je,allTotalConversationsCountSelector:()=>Xe,authorizedShopsCountSelector:()=>Ge,autoTranslation:()=>ho,batchRemoveDraftHandler:()=>ct,batchUpdateRecord:()=>L,bindedDirectShopSelector:()=>bo,blockInputTextSelector:()=>re,buyerIsFrozenSelector:()=>ze,captchaSignatureSelector:()=>ae,captchaVerifyReducer:()=>En,captchaVisibleSelector:()=>ne,chatInitedSelector:()=>Ie,chatWithTypeListSelector:()=>qe,checkUserPermissionSaga:()=>yr,checkUserPermissionSucceeded:()=>hr,clearNeedCaptchaRequest:()=>_n,clearReportRequested:()=>Xo,contactsEntitiesSelector:()=>h,conversationEntitiesSelector:()=>i,conversationsLengthLevelSelector:()=>O,copySucceedFeedback:()=>Vr,curTabFocusedSelector:()=>Re,currentAllMessageShortcutsSelector:()=>_o,currentGroupIdSelector:()=>no,currentGroupTypeSelector:()=>oo,currentMessageShortcutGroupsSelector:()=>co,currentUserDistributionStatusSelector:()=>be,currentUserIdSelector:()=>J,currentUserIsSellerSelector:()=>xe,currentUserRoleSelector:()=>me,currentUserSelector:()=>_e,currentUserShopIdSelector:()=>ge,currentUserShopSelector:()=>ye,deepUpdateRecord:()=>U,defaultCount:()=>Ke,deleteCaptchaRequest:()=>un,deleteConversationSucceedHandler:()=>nt,deleteRecord:()=>M,displayCBCBannerSelector:()=>mo,distributionAccountStatusSelector:()=>yo,draftHashSelector:()=>jo,enterRequestedSaga:()=>br,entitiesSelector:()=>n,entityReducer:()=>Y,fetchSettings:()=>Ao,fetchSettingsStatusSelector:()=>Fo,fetchShopAuth:()=>kr,fetchShopsByIds:()=>xr,fetchedShopIdsSelector:()=>wr,filterShopSelector:()=>Mr,firstClickEntrySelector:()=>Ue,forceLogoutRequested:()=>Jt,forwardGroupMembersSelector:()=>m,forwardGroupsEntitiesSelector:()=>y,getConversationLastMessage:()=>mt,getDraft:()=>xo,getShopUnreadCountByIds:()=>Gr,getTimestamp:()=>Tt,getToastInformation:()=>Br,handle401ErrorRequested:()=>Do,handleLoginSucceededLogic:()=>nr,handleMessageSubscribe:()=>_t,hasFetchedUnreadSelector:()=>Me,hasSidebarPanelSelector:()=>Le,hasVerifyPhoneNumberNormalSellerSelector:()=>ke,hasVerifyPhoneNumberSelector:()=>He,hasVerifyPhoneNumberSubaccountSelector:()=>Fe,includeDirectShopSelector:()=>he,isCBSellerSelector:()=>ve,isCBSubAccountSelector:()=>Oe,isMainPageSelector:()=>Ae,isMainSubaccountSelector:()=>$e,isMonitorModeSelector:()=>Ze,isSubAccountSelector:()=>pe,judgeUndefined:()=>ft,legacyMessageShortcutsCountSelector:()=>go,loadingSelector:()=>X,localeSelector:()=>de,login:()=>ar,loginRequested:()=>zt,loginSucceeded:()=>qt,loginSuccessSelector:()=>Ne,logout:()=>Rr,logoutHandler:()=>Ar,logoutRequested:()=>Kt,logoutSucceeded:()=>Xt,messageEntitiesSelector:()=>l,messageShortcutGroupEntitiesSelector:()=>v,messageShortcutGroupHttpStatusSelector:()=>ro,messageShortcutGroupSelector:()=>to,messageShortcutsSelector:()=>So,messageShortcutsStatusSelector:()=>Oo,messagesLengthLevelSelector:()=>g,networkStatusSelector:()=>$,newChatEntranceSelector:()=>Se,newMessageFlagSelector:()=>ce,newbieSelector:()=>ie,notificationTypes:()=>bt,offerSelector:()=>Lo,offersSelector:()=>wo,openMallUrl:()=>Ro,openMallUrlSaga:()=>Po,orderEntitiesSelector:()=>_,ordersSelector:()=>zo,originalPermissionsSelector:()=>te,permissionsSelector:()=>et,personalMessageShortcutGroupsSelector:()=>so,personalMessageShortcutsSelector:()=>lo,productEntitiesSelector:()=>d,productsSelector:()=>Qo,pureActionHandler:()=>St,pureMergeActionHandler:()=>Et,rateCardEntitiesSelector:()=>T,reduxReset:()=>Uo,relatedOfferIdsSelector:()=>Mo,removeSingleDraftHandler:()=>it,reportArraySelector:()=>qo,reportMessageApiTimer:()=>ht,reportReducer:()=>nn,reportRequested:()=>Ko,resendMessagePayloadSelector:()=>se,resendNeedCaptchaRequest:()=>dn,resetEntities:()=>G,responseStatusSelector:()=>Z,saveDraftHandler:()=>lt,serviceDownAlertSelector:()=>Be,serviceDownClosedSelector:()=>Ve,serviceDownListSelector:()=>We,serviceDownMessageSelector:()=>Qe,setBlockInputText:()=>xt,setServiceDownStatus:()=>vr,setToastInformation:()=>Wr,setToastInformationSaga:()=>zr,settingsFetchStatusSelector:()=>fo,settingsNeedForceUpdateSelectors:()=>vo,settingsSelector:()=>Eo,settingsStatusSelector:()=>To,shopSelector:()=>Nr,shopStatisticsMapSelector:()=>Te,shopStatisticsSelector:()=>fe,shopTranslationSettingsSelector:()=>ko,shopsEntitiesSelector:()=>f,shopsUnreadConversationCountSelector:()=>B,showAutoHangupModalSelector:()=>je,showChatWindowSelector:()=>De,showConversationDetailSelector:()=>Pe,showEntrySelector:()=>we,showNewWelcomePageSelector:()=>oe,showOriginalMessagesMapSelector:()=>fn,showShop:()=>jr,sortConversations:()=>vt,sortedAllMessageShortcutsSelector:()=>po,stickerEntitiesSelector:()=>u,takeEveryWithCancel:()=>zn,teamMessageShortcutGroupsSelector:()=>io,teamMessageShortcutsSelector:()=>uo,textBoxHeightSelector:()=>Ce,timerHandler:()=>Zo,toastReducer:()=>eo,toastSelector:()=>Hr,totalUnreadConversationsCountSelector:()=>V,unreadCountActions:()=>W,updateChatEntryStatus:()=>Ut,updateChatInited:()=>wt,updateChatWindowStatus:()=>Nt,updateConversationDetailStatus:()=>Mt,updateConversationListsHash:()=>Io,updateCurTabFocused:()=>lr,updateCurTabFocusedSaga:()=>_r,updateCurTabFocusedSucceeded:()=>ur,updateEntities:()=>N,updateHasFetchedUnread:()=>Gt,updateHasSidebarPanel:()=>jt,updateIncludesDirectShop:()=>It,updateIsMainPage:()=>cr,updateLoginSuccessStatus:()=>Lt,updateNetworkStatus:()=>Ct,updateOrReplaceAction:()=>Vo,updatePermissions:()=>Or,updateRecord:()=>w,updateShowAutoHangupModal:()=>Pt,updateStatusSelector:()=>Ho,updateUseNewChatEntrance:()=>Dt,useAccount:()=>mn,useCloseReasonFlag:()=>Un,useConversationStatus:()=>jn,useConversationTableType:()=>Dn,useDebounce:()=>Wn,useDraft:()=>Nn,useDueStatusTag:()=>kn,useElementWatcher:()=>Pn,useEnableTranslation:()=>Yn,useHasUnread:()=>Hn,useIntersectionObserver:()=>Vn,useIsCbSubAccount:()=>bn,useMonitorMode:()=>In,useNewChatEntranceSelector:()=>Ee,usePermission:()=>Cn,usePersistFn:()=>Qn,useSelectShop:()=>Fn,userEntitiesSelector:()=>a,userReducer:()=>Ir,userSelector:()=>le,verifyRequestsSelector:()=>Tn,voucherEntitiesSelector:()=>p,watchHandleUrlSagas:()=>No,watchLogin:()=>sr,watchReportSagas:()=>on,watchTab:()=>dr,watchToastSagas:()=>Zr,watchUserSagas:()=>Dr,watchVerifySagas:()=>vn});var e=S(4944),t=S(975),r=S(1855),o=e=>e<=100?1:e<=500?2:e<=1e3?3:4,n=e=>e.entityReducer,a=(0,t.createSelector)(n,(e=>e.users)),s=(0,t.createSelector)(n,(e=>e.affiliate)),i=(0,t.createSelector)(n,(e=>e.conversations)),c=(0,t.createSelector)(n,(e=>e.agentConversations)),l=(0,t.createSelector)(n,(e=>(e=>(0,r.checkEmptyObject)(e)?{}:e)(e.messages))),u=(0,t.createSelector)(n,(e=>e.stickers)),_=(0,t.createSelector)(n,(e=>e.orders)),d=(0,t.createSelector)(n,(e=>e.products)),p=(0,t.createSelector)(n,(e=>e.vouchers)),v=(0,t.createSelector)(n,(e=>e.messageShortcutsGroups)),T=(0,t.createSelector)(n,(e=>e.rateCards)),f=(0,t.createSelector)(n,(e=>e.shops)),h=(0,t.createSelector)(n,(e=>e.contacts)),O=(0,t.createSelector)(i,c,((e,t)=>{var r=Object.keys(e).length+Object.keys(t).length;return o(r)})),g=(0,t.createSelector)(l,(e=>o(Object.keys(e).length))),y=(0,t.createSelector)(n,(e=>e.groups)),m=(0,t.createSelector)(n,(e=>e.groupMembers));function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var A,R=S(5644);function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}!function(e){e.UPDATE_ENTITIES="UPDATE_ENTITIES",e.UPDATE_RECORD="UPDATE_RECORD",e.DELETE_RECORD="DELETE_RECORD",e.BATCH_UPDATE_RECORD="BATCH_UPDATE_RECORD",e.DEEP_UPDATE_RECORD="DEEP_UPDATE_RECORD",e.RESET_ENTITIES="RESET_ENTITIES"}(A||(A={}));const D={[A.UPDATE_ENTITIES]:(e,{payload:{entities:t}})=>Object.entries(t).reduce(((e,[t,r])=>"persist"!==t?("shops"===t&&R.shopService.updateShopMap(r),P(P({},e),{},{[t]:P(P({},e[t]),r)})):P(P({},e),{},{[t]:r})),e),[A.RESET_ENTITIES]:(e,{payload:{names:t}})=>{var r={};return t.forEach((e=>{r[e]={}})),P(P({},e),r)}};var I=S(8252),{updateEntities:N,updateRecord:w,deleteRecord:M,batchUpdateRecord:L,deepUpdateRecord:U,resetEntities:G}=(0,I.createActions)({[A.UPDATE_ENTITIES]:({entities:e})=>({entities:e}),[A.UPDATE_RECORD]:({name:e,id:t,record:r})=>({name:e,id:t,record:r}),[A.DELETE_RECORD]:({name:e,id:t})=>({name:e,id:t}),[A.BATCH_UPDATE_RECORD]:({name:e,records:t,checkProp:r})=>({name:e,records:t,checkProp:r}),[A.DEEP_UPDATE_RECORD]:({name:e,id:t,record:r})=>({name:e,id:t,record:r}),[A.RESET_ENTITIES]:({names:e})=>({names:e})});function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const k={[A.UPDATE_RECORD]:(e,{payload:{name:t,id:r,record:o}})=>x(x({},e),{},{[t]:x(x({},e[t]),{},{[r]:x(x({},e[t][r]),o)})}),[A.DELETE_RECORD]:(e,{payload:{name:t,id:r}})=>{var o=e[t];return delete o[r],x(x({},e),{},{[t]:o})},[A.BATCH_UPDATE_RECORD]:(e,{payload:{name:t,records:r,checkProp:o}})=>{var n=x({},e[t]);return Object.keys(r).forEach((e=>{(!o||o&&r[e][o]>n[e][o])&&(n[e]=x(x({},n[e]),r[e]))})),x(x({},e),{},{[t]:n})},[A.DEEP_UPDATE_RECORD]:(e,{payload:{name:t,id:r,record:o}})=>{var n=Object.keys(o),a={},s=x({},e[t][r]);return n.forEach((e=>{a[e]=x(x({},s[e]),o[e])})),x(x({},e),{},{[t]:x(x({},e[t]),{},{[r]:x(x({},e[t][r]),a)})})}};function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Y=(0,I.handleActions)(H(H({},D),k),{users:{},affiliate:{},messages:{},conversations:{},agentConversations:{},stickers:{},orders:{},offers:{},products:{},shops:{},rateCards:{},persist:null,vouchers:{},messageShortcuts:{}}),B=e=>{var t;return(null==e||null===(t=e.socketReducer)||void 0===t?void 0:t.shopsUnreadConversationCount)||0},V=e=>{var t;return(null==e||null===(t=e.socketReducer)||void 0===t?void 0:t.totalUnreadConversationsCount)||0},W={MARK_AS_READ:"markAsRead",MARK_AS_UNREAD:"markASUnread",CLOSE_CONVERSATION:"closeConversation",DELETE_CONVERSATION:"deleteConversation",FORWARD_CONVERSATION:"forwardConversation",RECEIVE_UNREADABLE_MESSAGE:"receiveUnreadableMessage",REFRESH_TOTAL_UNREAD_CONVERSATION_COUNT:"refreshTotalUnreadConversationCount",REFRESH_SHOPS_UNREAD_CONVERSATIONS_COUNT:"refreshShopsUnreadConversationsCount",REFRESH_SINGLE_SHOP_UNREAD_CONVERSATION_COUNT:"refreshSingleShopUnreadConversationCount",UPDATE_CONVERSATION:"updateConversation",MESSAGE_QUEUE_UPDATE:"messageQueueUpdate",MASS_READ:"mass_read",MASS_UNREAD:"mass_unread",MASS_CLOSE:"mass_close",ACTIVE_CONVERSATION:"activeConversation",CLEAR_CONVERSATION_COUNT:"clearConversationCount",ADD_FOLLOW_UP_CONVERSATION:"addFollowUpConversation",REMOVE_FOLLOW_UP_CONVERSATION:"removeFollowUpConversation"},Q=S(1383),z=e=>e.modeReducer.mode;function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var X=e=>e.userReducer.loading,J=e=>e.userReducer.currentUserId,$=e=>e.userReducer.networkStatus,Z=e=>{var t;return(null==e||null===(t=e.userReducer)||void 0===t?void 0:t.responseStatus)||!1},ee={},te=e=>{var t;return(null==e||null===(t=e.userReducer)||void 0===t?void 0:t.permissions)||ee},re=e=>{var t;return(null==e||null===(t=e.userReducer)||void 0===t?void 0:t.blockInputText)||""},oe=(0,t.createSelector)(te,(e=>{var{hitChatbotWhitelist:t,chatbotToggleOpen:r}=e||{};return t&&!r})),ne=e=>{var t;return(null==e||null===(t=e.userRelatedReducer)||void 0===t?void 0:t.captchaVisible)||!1},ae=e=>{var t;return(null==e||null===(t=e.userRelatedReducer)||void 0===t?void 0:t.captchaSignature)||""},se=e=>{var t;return(null==e||null===(t=e.userRelatedReducer)||void 0===t?void 0:t.resendMessagePayload)||void 0},ie=e=>{var t;return(null==e||null===(t=e.userRelatedReducer)||void 0===t?void 0:t.newbie)||[]},ce=e=>e.userReducer.newMessageFlag,le=e=>(0,t.createSelector)(n,(t=>(0,Q.denormalize)(e,R.userSchema,{users:t}))),ue={},_e=(0,t.createSelector)(a,J,((e,t)=>(0,Q.denormalize)(t,R.userSchema,{users:e})||ue)),de=(0,t.createSelector)(_e,(e=>e&&e.locale)),pe=(0,t.createSelector)(_e,(e=>!(0,r.checkEmptyObject)(e)&&e.type===r.AccountType.SUBACCOUNT)),Se=e=>{var t;return(null==e||null===(t=e.userReducer)||void 0===t?void 0:t.useNewChatEntrance)||!1},Ee=(0,t.createSelector)(pe,Se,((e,t)=>!e&&t)),ve=(0,t.createSelector)(_e,(e=>!(0,r.checkEmptyObject)(e)&&e.is_cb)),Te=e=>{var t;return(null==e||null===(t=e.userRelatedReducer)||void 0===t?void 0:t.shopStatisticsMap)||{}},fe=(e,r)=>(0,t.createSelector)(Te,(t=>t["".concat(e,"-").concat(r)]||{})),he=e=>{var t;return(null==e||null===(t=e.userReducer)||void 0===t?void 0:t.includesDirectShop)||!1},Oe=(0,t.createSelector)(pe,ve,he,((e,t,r)=>e&&(t||r))),ge=(0,t.createSelector)(_e,pe,((e={},t)=>t?void 0:e.shop_id)),ye=(0,t.createSelector)(_e,pe,f,((e={},t,r)=>t?void 0:(0,Q.denormalize)(e.shop_id,R.shopSchema,{shops:r})||{})),me=(0,t.createSelector)(_e,((e={})=>e.role||"")),be=(0,t.createSelector)(_e,(e=>e&&e.distribution_status||"")),Ae=e=>e.userReducer.isMainPage,Re=e=>e.userReducer.curTabFocused,Ce=e=>{var t;return(null==e||null===(t=e.userRelatedReducer)||void 0===t?void 0:t.textBoxHeight)||0},Pe=e=>e.userReducer.showConversationDetail,De=e=>e.userReducer.showChatWindow,Ie=e=>e.userReducer.inited,Ne=e=>e.userReducer.loginSuccess,we=e=>e.userReducer.showEntry,Me=e=>e.userReducer.hasFetchedUnread,Le=e=>e.userReducer.hasSidebarPanel,Ue=e=>{var t;return(null==e||null===(t=e.userReducer)||void 0===t?void 0:t.firstClickEntry)||!1},Ge=(0,t.createSelector)(_e,((e={})=>e.authorizedShopsCount||0)),je=e=>e.userReducer.showAutoHangupModal,xe=(0,t.createSelector)(_e,pe,((e={},t)=>!!t||e.is_seller)),ke=e=>{var t;return(null==e||null===(t=e.userRelatedReducer)||void 0===t?void 0:t.hasVerifyPhoneNumber)||!1},Fe=e=>{var t;return(null==e||null===(t=e.userRelatedReducer)||void 0===t?void 0:t.hasVerifyPhoneNumberMap)||{}},He=(0,t.createSelector)(pe,ke,Fe,((e,t,r)=>e?r:t)),Ye=e=>{var t;return(null==e||null===(t=e.userReducer)||void 0===t?void 0:t.serviceDownStatus)||{}},Be=(0,t.createSelector)(Ye,(e=>e.alert||!1)),Ve=(0,t.createSelector)(Ye,(e=>e.closed||!1)),We=(0,t.createSelector)(Ye,(e=>e.list||!1)),Qe=(0,t.createSelector)(Ye,(e=>e.message||!1)),ze=(e,r,o)=>(0,t.createSelector)(fe(e,r),(e=>"frozen"===o&&"boolean"==typeof e.exist_pending_order&&!e.exist_pending_order)),qe=(0,t.createSelector)(te,(e=>{var t=[r.ChatWithTypeEnum.Buyer],{sellerDriverWhitelist:o,amsToggleStatus:n}=e||{};return o&&t.push(r.ChatWithTypeEnum.Driver),n&&t.push(r.ChatWithTypeEnum.Affiliate),t})),Ke={unrepliedCount:0,duesoonCount:0,overdueCount:0,pinnedCount:0,unreadCount:0,serveTodayUnrepliedCount:0,serveTodayDuesoonCount:0,serveTodayOverdueCount:0,serveTodayPinnedCount:0,serveTodayBotRepliedCount:0,serveTodayManualRepliedCount:0},Xe=e=>{var t;return(null==e||null===(t=e.userRelatedReducer)||void 0===t?void 0:t.allTotalConversationsCount)||{}},Je=(0,t.createSelector)(qe,Xe,((e,t)=>e.reduce(((e,r)=>{var o,n,a=(null===(o=t["with_".concat(r,"_attribute")])||void 0===o?void 0:o.attributes)||{},s=(null===(n=t["with_".concat(r,"_attribute")])||void 0===n?void 0:n.serving_today_attributions)||{},{total_unreplied_conv_count:i,total_due_soon_conv_count:c,total_over_due_conv_count:l,total_pinned_conv_count:u,total_unread_conv_count:_}=a,{total_unreplied_conv_count:d,total_due_soon_conv_count:p,total_over_due_conv_count:S,total_pinned_conv_count:E,total_bot_replied_count:v,total_manual_replied_count:T,total_unread_conv_count:f,total_inquiry_without_order_conv_count:h,total_to_pay_conv_count:O}=s,g={unrepliedCount:i,duesoonCount:c,overdueCount:l,pinnedCount:u,unreadCount:_,serveTodayUnrepliedCount:d,serveTodayDuesoonCount:p,serveTodayOverdueCount:S,serveTodayPinnedCount:E,serveTodayBotRepliedCount:v,serveTodayManualRepliedCount:T,serveTodayUnreadCount:f,inquiryWithoutOrderConvCount:h,toPayConvCount:O};return e[r]=g||Ke,e}),{}))),$e=(0,t.createSelector)(_e,(e=>{var{type:t,role:o}=e;return(0,r.isMainSubaccount)(t,o)})),Ze=(0,t.createSelector)(te,$e,z,((e,t,o)=>{var{showMonitorMode:n=!1}=e||{};return t&&n&&o===r.UserMode.MONITOR})),et=(0,t.createSelector)(te,$e,z,((e,t,o)=>{var{showMonitorMode:n=!1}=e||{};return t&&n&&o===r.UserMode.MONITOR?K(K({},e||{}),{},{chatListRevamp:!0,showServingTab:!0}):e}));function tt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function rt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ot=(e,t)=>{var r=new Set(t);return r.delete(e),Array.from(r)},nt=(e,{payload:{conversationId:t}})=>{var r=rt(rt({},e.conversationIdsMap),{},{[t]:!1}),o=ot(t,e.conversationIds),n=ot(t,e.pinnedConversationIds),{currentConversationId:a}=e;return rt(rt({},e),{},{currentConversationId:a===t?null:a,conversationIds:o,pinnedConversationIds:n,conversationIdsMap:r})};function at(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function st(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?at(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):at(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var it=(e,{payload:{conversationId:t}})=>{var r=st({},e.draftHash);return delete r[t],st(st({},e),{},{draftHash:r})},ct=(e,{payload:{conversationIds:t=[]}})=>{var r=st({},e.draftHash);return t.forEach((e=>{delete r[e]})),st(st({},e),{},{draftHash:r})},lt=(e,{payload:{conversationId:t,draft:r}})=>{var o=st({},e.draftHash);return o[t]=r,st(st({},e),{},{draftHash:o})},ut=S(783);function*_t(t){var{payload:o,type:n}=t;yield(0,e.spawn)(ht,o.request_id),n===r.ConversationTypeEnum.Agent?yield(0,e.put)((0,ut.receiveAgentMessageRequested)({message:o})):yield(0,e.put)((0,ut.receiveMessageRequested)({message:o}))}function dt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function pt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var St=()=>(e,{payload:t})=>pt(pt({},e),t),Et=e=>(t,{payload:r})=>pt(pt({},t),{},{[e]:pt(pt({},t[e]),r)}),vt=e=>(e.sort(((e,t)=>parseInt(t.latest_message_id)-parseInt(e.latest_message_id))),e),Tt=(e,t)=>{var{last_message_time_nano:r,next_timestamp_nano:o}=e;return t&&!o&&(o=t.next_message_time_nano),{nextTimestampNano:o,oldestTimestampNano:o,latestTimestampNano:r}},ft=({defaultValue:e,value:t})=>void 0===t?e:t;function*ht(e){var t=yield(0,r.getItem)(e);if(t){var o=(0,R.getReportManager)();null==o||o.reportMessageSocket(t),(0,r.removeItem)(e)}}var Ot,gt=S(9701).t,{MSG_TYPE_TEXT:yt}=r.MessageTypes,mt=(e,t,o,n=!1)=>{var a=e.all||[],s=e.sending||[],i=e.failed||[],c=a.length,l=null;if(c){for(var u=0,_=null;u<c&&!_;){var d,p=e.all[u];(_=(0,Q.denormalize)(p,R.messageSchema,{messages:o}))&&(_.type===r.MessageTypes.MSG_TYPE_SECURITY_TIPS||_.isFaking)&&(_=null),n&&!r.ManualMessageSource.includes(null===(d=_)||void 0===d?void 0:d.source)&&(_=null),u++}_&&_.created_timestamp>Math.floor(t.last_message_time_nano/Math.pow(10,9))&&(l=(0,r.fillMessagePreview)(_))}if(!l){var{latest_message_id:S,latest_message_content:E,latest_message_type:v,last_message_option:T,latest_message_source:f,last_message_time_nano:h,latest_message_to_shop_id:O,label_info:g}=t;(l={id:S,content:E,type:v,message_option:T,source:f,to_shop_id:O,label_info:g}).created_at=new Date(h/1e6)+""}var{id:y,message_option:m}=l,b=s.includes(y)?r.MessageSendStatus.SENDING:i.includes(y)?r.MessageSendStatus.FAILED:l.send_status?r.MessageSendStatus.SUCCEED:null;return(0,r.hasTargetMessageOption)(m,r.MessageOption.MSG_OPT_CENSORED_BLACKLIST)&&(b=r.MessageSendStatus.FAILED,l.type=yt,l.content={text:gt("common.blacklist.replaced_text")}),(0,r.hasTargetMessageOption)(m,r.MessageOption.MSG_OPT_CANCELORDER_WARNING_NOT_SEND)&&(b=r.MessageSendStatus.FAILED),l.send_status=b,l},bt={MARK_AS_READ:"mark_as_read",MARK_AS_UNREAD:"mark_as_unread",DELETE_CONVERSATION:"delete_conversation",UPDATE_OFFER_STATUS:"update_offer_status",UPDATE_CONVERSATION:"update_conversation",UPDATE_USER_STATUS:"update_user_status",UPDATE_CONVERSATION_FLAG:"update_conversation_flag",FORCE_LOGOUT:"force_logout",UPDATE_RATING_CARD_STATUS:"update_rating_card_status",PULL_NOTIFICATION:"pull_notification",PIN_CONVERSATION:"pin_conversation",UNPIN_CONVERSATION:"unpin_conversation",MASS_READ:"mass_read",MASS_UNREAD:"mass_unread",MASS_PIN:"mass_pin",MASS_UNPIN:"mass_unpin",MASS_CLOSE:"mass_close",MASS_ACTIVATE:"mass_activate",VIDEO_UPLOAD:"video_upload",MARK_AS_REPLIED:"mark_as_replied",MARK_AS_UNREPLIED:"mark_as_unreplied",CHAT_DELETE_MSG:"chat_delete_msg",FAQ_SESSION_UPDATE:"faq_session_update",MUTE_CONVERSATION:"mute_conversation",UNMUTE_CONVERSATION:"unmute_conversation",CTT_UPDATE:"ctt_update",HAVE_UNRATED_CSAT:"have_unrated_csat",FAQ_SELLER_UNREAD_STATUS_UPDATE:"faq_seller_unread_status_update",CHAT_UPDATE_MSG_STATUS:"chat_update_msg_status",NEW_MSG_BOX:"new_msg_box",DEL_MSG_BOX:"del_msg_box",ADD_FOLLOW_UP:"add_follow_up",REMOVE_FOLLOW_UP:"remove_follow_up",CHAT_TYPING_STATUS:"chat_typing_status",CONV_LEVEL_UPDATE:"conv_level_update"};function At(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?At(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):At(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}!function(e){e.SHOW_LOADING_SUCCEEDED="SHOW_LOADING_SUCCEEDED",e.SET_HAS_SESSION="SET_HAS_SESSION",e.UPDATE_NETWORK_STATUS="UPDATE_NETWORK_STATUS",e.UPDATE_CUR_TAB_FOCUSED="UPDATE_CUR_TAB_FOCUSED",e.UPDATE_CUR_TAB_FOCUSED_SUCCEEDED="UPDATE_CUR_TAB_FOCUSED_SUCCEEDED",e.UPDATE_WORKSTATION_PANEL="UPDATE_WORKSTATION_PANEL",e.UPDATE_NEW_MESSAGE_FLAG="UPDATE_NEW_MESSAGE_FLAG",e.UPDATE_CHAT_WINDOW_STATUS="UPDATE_CHAT_WINDOW_STATUS",e.UPDATE_CHAT_INITED="UPDATE_CHAT_INITED",e.UPDATE_CONVERSATION_DETAIL_STATUS="UPDATE_CONVERSATION_DETAIL_STATUS",e.UPDATE_LOGIN_SUCCESS_STATUS="UPDATE_LOGIN_SUCCESS_STATUS",e.UPDATE_CHAT_ENTRY_STATUS="UPDATE_CHAT_ENTRY_STATUS",e.LOGIN_REQUESTED="LOGIN_REQUESTED",e.LOGIN_SUCCEEDED="LOGIN_SUCCEEDED",e.LOGOUT_REQUESTED="LOGOUT_REQUESTED",e.LOGOUT_SUCCEEDED="LOGOUT_SUCCEEDED",e.UPDATE_LOGIN_STATUS="UPDATE_LOGIN_STATUS",e.SHOW_TRANSLATION_GUIDE="SHOW_TRANSLATION_GUIDE",e.SHOW_REGION_FILTER_GUIDE="SHOW_REGION_FILTER_GUIDE",e.FORCE_LOGOUT_REQUESTED="FORCE_LOGOUT_REQUESTED",e.CONNECT_SOCKET="CONNECT_SOCKET",e.UPLOAD_FEEDBACK_VIDEO_REQUESTED="UPLOAD_FEEDBACK_VIDEO_REQUESTED",e.UPLOAD_FEEDBACK_VIDEO_STATUS="UPLOAD_FEEDBACK_VIDEO_STATUS",e.UPDATE_RELATED_CAPACITY="UPDATE_RELATED_CAPACITY",e.UPDATE_IS_MAIN_PAGE="UPDATE_IS_MAIN_PAGE",e.UPDATE_SHOW_AUTO_HANGUP_MODAL="UPDATE_SHOW_AUTO_HANGUP_MODAL",e.UPDATE_HAS_FETCHED_UNREAD="UPDATE_HAS_FETCHED_UNREAD",e.CHECK_USER_PERMISSION_SUCCEEDED="CHECK_USER_PERMISSION_SUCCEEDED",e.UPDATE_INCLUDES_DIRECT_SHOP="UPDATE_INCLUDES_DIRECT_SHOP",e.SET_SERVICE_DOWN_STATUS="SET_SERVICE_DOWN_STATUS",e.UPDATE_HAS_SIDEBAR_PANEL="UPDATE_HAS_SIDEBAR_PANEL",e.UPDATE_USE_NEW_CHAT_ENTRANCE="UPDATE_USE_NEW_CHAT_ENTRANCE",e.UPDATE_PERMISSIONS="UPDATE_PERMISSIONS",e.SET_BLOCK_INPUT_TEXT="SET_BLOCK_INPUT_TEXT",e.ENTER_REQUESTED="ENTER_REQUESTED"}(Ot||(Ot={}));var{updateNetworkStatus:Ct,updateShowAutoHangupModal:Pt,updateUseNewChatEntrance:Dt,updateIncludesDirectShop:It,updateChatWindowStatus:Nt,updateChatInited:wt,updateConversationDetailStatus:Mt,updateLoginSuccessStatus:Lt,updateChatEntryStatus:Ut,updateHasFetchedUnread:Gt,updateHasSidebarPanel:jt,setBlockInputText:xt}=(0,I.createActions)({[Ot.UPDATE_NETWORK_STATUS]:({networkStatus:e})=>({networkStatus:e}),[Ot.UPDATE_SHOW_AUTO_HANGUP_MODAL]:({showAutoHangupModal:e})=>({showAutoHangupModal:e}),[Ot.UPDATE_USE_NEW_CHAT_ENTRANCE]:({useNewChatEntrance:e})=>({useNewChatEntrance:e}),[Ot.UPDATE_INCLUDES_DIRECT_SHOP]:({includesDirectShop:e})=>({includesDirectShop:e}),[Ot.UPDATE_CHAT_WINDOW_STATUS]:({showChatWindow:e})=>({showChatWindow:e}),[Ot.UPDATE_CHAT_INITED]:({inited:e})=>({inited:e}),[Ot.UPDATE_CONVERSATION_DETAIL_STATUS]:({showConversationDetail:e})=>({showConversationDetail:e}),[Ot.UPDATE_LOGIN_SUCCESS_STATUS]:({loginSuccess:e})=>({loginSuccess:e}),[Ot.UPDATE_CHAT_ENTRY_STATUS]:({showEntry:e})=>({showEntry:e}),[Ot.UPDATE_HAS_FETCHED_UNREAD]:({hasFetchedUnread:e})=>({hasFetchedUnread:e}),[Ot.UPDATE_HAS_SIDEBAR_PANEL]:({hasSidebarPanel:e})=>({hasSidebarPanel:e}),[Ot.SET_BLOCK_INPUT_TEXT]:({blockInputText:e=""})=>({blockInputText:e})});const kt={[Ot.UPDATE_NETWORK_STATUS]:St(),[Ot.UPDATE_SHOW_AUTO_HANGUP_MODAL]:St(),[Ot.UPDATE_USE_NEW_CHAT_ENTRANCE]:St(),[Ot.UPDATE_INCLUDES_DIRECT_SHOP]:St(),[Ot.UPDATE_CHAT_WINDOW_STATUS]:(e,{payload:{showChatWindow:t}})=>{var r={};return!t||null!=e&&e.firstClickEntry||(r.firstClickEntry=!0),Rt(Rt({},e),{},{showChatWindow:t},r)},[Ot.UPDATE_CHAT_INITED]:St(),[Ot.UPDATE_CONVERSATION_DETAIL_STATUS]:St(),[Ot.UPDATE_LOGIN_SUCCESS_STATUS]:St(),[Ot.UPDATE_CHAT_ENTRY_STATUS]:St(),[Ot.UPDATE_HAS_FETCHED_UNREAD]:St(),[Ot.UPDATE_HAS_SIDEBAR_PANEL]:St(),[Ot.SET_BLOCK_INPUT_TEXT]:St()};var Ft,Ht=S(4672),Yt=S(6598),Bt=S.n(Yt);!function(e){e[e.Disable=0]="Disable",e[e.Waiting=1]="Waiting",e[e.Up=2]="Up",e[e.Down=3]="Down"}(Ft||(Ft={}));var Vt=({messageId:e,feedback:t,conversationId:r,tagIds:o,reasonIds:n,otherReasons:a,bizId:s,reasonTexts:i})=>new Promise(((c,l)=>{(0,R.fetch)({suffix:"feedback",resource:"messages",method:"POST",payload:JSON.stringify({msg_id:e,feedback:t,conversation_id:r,tag_ids:o,reason_ids:n,other_reason:a,biz_id:s,reason_texts:i})}).then((e=>{c(e)})).catch((e=>{l(e)}))}));function Wt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Qt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var{loginRequested:zt,loginSucceeded:qt,logoutRequested:Kt,logoutSucceeded:Xt,forceLogoutRequested:Jt}=(0,I.createActions)({[Ot.LOGIN_REQUESTED]:()=>({}),[Ot.LOGIN_SUCCEEDED]:({currentUserId:e,status:t})=>({currentUserId:e,status:t}),[Ot.LOGOUT_REQUESTED]:()=>({}),[Ot.LOGOUT_SUCCEEDED]:()=>({}),[Ot.FORCE_LOGOUT_REQUESTED]:()=>({})});function*$t(){var t=(0,r.getTranslationLocale)((0,r.getRuntimeLocale)()),o=yield(0,e.call)(R.getTranslation,{locale:t});yield(0,e.call)(r.changeLanguage,t,o)}function*Zt(){}var er=function*(t){yield(0,e.call)($t),yield(0,e.put)(Ut({showEntry:!0})),yield(0,e.put)(Lt({loginSuccess:!1}));var r,o=(0,R.getReportManager)();null==o||o.reportLoginFailed({type:(r=t,r instanceof R.InternalServerError?"InternalServerError":r instanceof R.Forbidden?"Forbidden":r instanceof R.Unauthoried?"Unauthoried":"Other")})};function*tr(){try{var e=[];for(var[t,r]of Object.entries(window.localStorage))if(t.includes("MDAP_CONFIG_STORAGE_minichat_live_")){var o=t.split("_")||[],n=(o[o.length-1]||"").split(".")||[];if(n.length){var a=n[0]?Number(n[0]):"",s=n[1]?Number(n[1]):"",i=n[2]?Number(n[2]):"";(a&&a<8||s&&s<5||5===s&&i&&i<6)&&e.push(t)}}e.length&&e.forEach((e=>{window.localStorage.removeItem(e)}))}catch(e){console.log("删除MDAP发生错误")}}var rr=function*(t){var o;try{o=yield(0,e.call)(R.getTranslation,{locale:t})}catch(t){o=yield(0,e.call)(R.getTranslation,{locale:(0,r.getTranslationLocale)((0,r.getRuntimeLocale)())})}o&&(yield(0,e.spawn)(r.setItem,"chat_translation",{resources:o,locale:t})),yield(0,e.call)(r.changeLanguage,t,o),yield(0,e.call)(r.updateTimeLocale,t)};function*or(t){var{resources:o,translationLocale:n}=(e=>{var t,o,n=(0,R.getReportManager)(),a=window.__CHATEASY_TRANSLATION__;if(!(0,r.checkEmptyObject)(a)&&!(0,r.checkEmptyObject)(a.collection)){null==n||n.reportFetchTranslationInHtml();var s={};Object.keys(a.collection).forEach((e=>{s=Object.assign(s,a.collection[e])})),t=s,o=window.__CHATEASY_LOCALE__}return{resources:t,translationLocale:o}})(),a=(0,R.getReportManager)();if(o)yield(0,e.call)(r.changeLanguage,n,o),yield(0,e.call)(r.updateTimeLocale,n),yield(0,e.spawn)(r.setItem,"chat_translation",{resources:o,locale:n});else{var s;s=(0,r.getMallTranslationLocale)(),null==a||a.reportFetchTranslationInService();var i=yield(0,e.call)(r.getItem,"chat_translation"),{resources:c,locale:l}=i||{};c&&l===s?(null==a||a.reportFetchTranslationAsync(),yield(0,e.call)(r.changeLanguage,s,c),yield(0,e.call)(r.updateTimeLocale,s),yield(0,e.spawn)(rr,s)):(null==a||a.reportFetchTranslationSync(),yield(0,e.call)(rr,s))}}function*nr(t,o){try{var{godToken:n}=o,{user:a,show_chatbot_entrance:s,shop:i={},use_top_region_ui:c}=t,{id:l,type:u,locale:_,distribution_status:d}=a,p=u===r.AccountType.SUBACCOUNT;window.__WEBCHAT_LOGIN__||p&&"working"===d&&(window.__WEBCHAT_LOGIN__=!0),yield(0,e.call)(or,_||"en"),performance.mark("APP_RENDERING"),(0,R.collectLoadTask)(),(0,R.mdapConfig)(u),(0,R.configTrackerUser)(a),yield(0,e.put)(It({includesDirectShop:c})),yield(0,e.put)(Dt({useNewChatEntrance:s})),yield(0,e.put)(Ct({networkStatus:"online"})),window.addEventListener("online",(()=>{Ht.store.dispatch(Ct({networkStatus:"online"}))})),window.addEventListener("offline",(()=>{Ht.store.dispatch(Ct({networkStatus:"offline"}))})),window.addEventListener("message",(e=>{var t;if("captcha-modal"===(null===(t=e.data)||void 0===t?void 0:t.type)){var o,n,a,s;if(3===(null===(o=e.data)||void 0===o?void 0:o.status)){var i,c,l,u=null===(i=e.data)||void 0===i?void 0:i.AC_CERT_D;u&&(0,r.isVisitingCn)()&&Bt().set("AC_CERT_D",u,{secure:!0,domain:"".concat(window.location.host),expires:new Date((new Date).getTime()+6e4)}),Ht.store.dispatch(dn()),null===(c=(l=window).closeSFUCaptchaModal)||void 0===c||c.call(l)}1===(null===(n=e.data)||void 0===n?void 0:n.status)&&(Ht.store.dispatch(un()),null===(a=(s=window).closeSFUCaptchaModal)||void 0===a||a.call(s))}}),!1),i&&(a.shop=i),yield(0,e.put)(Lt({loginSuccess:!0})),yield(0,e.put)(Ut({showEntry:!0}));var{entities:S}=(0,R.normalize)("users",a);yield(0,e.put)(N({entities:S})),yield(0,r.setItem)("mini-session",t),yield(0,e.put)(qt({currentUserId:l})),yield(0,e.call)(yr),yield(0,e.put)((0,ut.emptyAction)()),n||(yield(0,e.call)(ut.startConnect)),yield(0,e.spawn)(Zt),p||(yield(0,e.call)(ut.fetchShopSettings,{payload:{shopId:a.shop_id}})),yield(0,e.spawn)(tr),window.addExternalGlobal("submitMessageFeedback",Vt)}catch(t){console.log("err",t),yield(0,e.call)(er,t)}}function*ar(){try{var t,o;performance.mark("APP_PREPARED");var n={},a=(0,R.getReportManager)();if(window.__WEBCHAT_SESSION__)null==a||a.reportLoginInHtml(),n=window.__WEBCHAT_SESSION__;else{null==a||a.reportLoginInService();var s={method:"POST",subServer:"coreapi",resource:"login"},i=(0,r.isVisitingCNSC)()||(0,r.isVisitingKRSC)();s.params={source:"pcmall"},i&&(s.parent="cbsc"),n=yield(0,e.call)(R.fetch,s),window.__WEBCHAT_SESSION__=n}return performance.mark("LOGIN_API_RESPONSED"),r.LS.setItem("mini-session",JSON.stringify(n)),r.LS.setItem("chat-locale",JSON.stringify(null===(t=n)||void 0===t||null===(o=t.user)||void 0===o?void 0:o.locale)),{session:n,params:{godToken:""}}}catch(t){yield(0,e.call)(er,t)}}function*sr(){yield(0,e.takeLatest)(zt,ar),yield(0,e.takeLatest)(Kt,Rr),yield(0,e.takeLatest)(Jt,Ar)}const ir={[Ot.LOGIN_SUCCEEDED]:St(),[Ot.LOGOUT_SUCCEEDED]:e=>Qt(Qt({},e),{},{currentUserId:null,performance:{},closeHangupTips:!1,hasVideoPermission:!1,captchaVisible:!1,curTabFocused:!0})};var{updateIsMainPage:cr,updateCurTabFocused:lr,updateCurTabFocusedSucceeded:ur}=(0,I.createActions)({[Ot.UPDATE_IS_MAIN_PAGE]:({isMainPage:e})=>({isMainPage:e}),[Ot.UPDATE_CUR_TAB_FOCUSED]:({focused:e})=>({focused:e}),[Ot.UPDATE_CUR_TAB_FOCUSED_SUCCEEDED]:({curTabFocused:e})=>({curTabFocused:e})});function*_r({payload:{focused:t}}){t&&(yield(0,e.call)(ut.tabFocused),yield(0,e.put)(cr({isMainPage:!0}))),yield(0,e.put)(ur({curTabFocused:t}))}function*dr(){yield(0,e.takeEvery)(lr,_r)}const pr={[Ot.UPDATE_IS_MAIN_PAGE]:St(),[Ot.UPDATE_CUR_TAB_FOCUSED_SUCCEEDED]:St()};var Sr=/_([a-z])/g;function Er(e){var t={};return Object.keys(e).forEach((r=>{var o=function(e){return e.includes("_")?e.replace(Sr,(function(e,t){return t.toUpperCase()})):e}(r);!e[r]||"object"!=typeof e[r]||Array.isArray(e[r])?t[o]=e[r]:t[o]=Er(e[r])})),t}var{setServiceDownStatus:vr}=(0,I.createActions)({[Ot.SET_SERVICE_DOWN_STATUS]:e=>e});window.addExternalGlobal("setServiceDownStatus",vr);const Tr={[Ot.SET_SERVICE_DOWN_STATUS]:Et("serviceDownStatus")};var fr=S(9701).t,{checkUserPermissionSucceeded:hr,updatePermissions:Or}=(0,I.createActions)({[Ot.CHECK_USER_PERMISSION_SUCCEEDED]:({responseStatus:e,permissions:t})=>({responseStatus:e,permissions:t}),[Ot.UPDATE_PERMISSIONS]:({permissions:e})=>({permissions:e})}),gr=()=>{try{return r.LS.getItem("minichat-service-down")||!1}catch(e){return!1}};function*yr(){var t=yield(0,e.select)(_e),{type:o,country:n}=t;try{var a=yield(0,e.call)(R.fetch,{subServer:"coreapi",parent:"user",resource:"global_config",params:{entry_point:"pc_mall"}}),{delete_msg:s,seller_buyer_split:i=!1,sender_feedback_reason:c={},block_input_box:l}=a||{};window.__SENDER_FEEDBACK_TIMEOUT__=null==c?void 0:c.feedback_timeout;var u,_,d,p=Er(a);if(p.shouldInitFSSDK="live"!==(0,r.getRuntimeServer)(),p.chatbotToggle=r.ChatbotToggle.Disable,["waitingTimeFilter","showChatServingFeature","sellerDriverWhitelist","amsToggleStatus","senderFeedbackBotMsg","showServingTab","rcmdWhitelist"].forEach((e=>{p[e]=!1})),window.addExternalGlobal("seller_buyer_split",i),yield(0,e.put)(xt({blockInputText:l?fr("conversation_detail.input_field.shop_account_blocked"):""})),"seller"===o){var{config_version:S,region_config:E=[]}=s||{},v=E.find((e=>e.region===n));v&&v.duration&&(p.deleteMsg.configVersion=S,p.deleteMsg.canDelete=!0,p.deleteMsg.duration=v.duration)}yield(0,e.put)(hr({responseStatus:!0,permissions:p})),void 0!==a.br_site_close&&(yield(0,e.put)(vr({alert:(null==a||null===(u=a.br_site_close)||void 0===u?void 0:u.site_close)||!1,closed:gr()})),window.__SERVICEDOWN_STATT_TIME__=(null==a||null===(_=a.br_site_close)||void 0===_?void 0:_.start_time)||0,window.__SERVICEDOWN_END_TIME__=(null==a||null===(d=a.br_site_close)||void 0===d?void 0:d.end_time)||0)}catch(t){yield(0,e.put)(hr({responseStatus:!0,permissions:null}))}}const mr={[Ot.CHECK_USER_PERMISSION_SUCCEEDED]:St(),[Ot.UPDATE_PERMISSIONS]:St()};function*br(){try{yield(0,e.call)(R.fetch,{method:"POST",parent:"user",resource:"on_user_online"})}catch(e){}}var Ar=function*(t=!0){t&&(yield(0,e.call)(ut.closeConnect)),yield(0,e.put)(Xt()),yield(0,e.put)(Uo()),(0,r.removeItem)("mini-session"),(0,r.removeItem)("mini-sc_redirect")},Rr=function*(){try{var t={server:(0,r.getSCApiServer)(),namespace:"",resource:"logout/",params:{SPC_CDS:Bt().get("SPC_CDS"),SPC_CDS_VER:2}};(0,r.isVisitingCNSC)()||(0,r.isVisitingKRSC)()?(t.version="cnsc",t.parent="selleraccount"):t.version="v1",yield(0,e.call)(R.fetch,t),document.location.replace("https://".concat((0,r.getSellerCenterUrl)(),"/account/signin")),window.removeEventListener("online",(()=>{Ht.store.dispatch(Ct({networkStatus:"online"}))})),window.removeEventListener("offline",(()=>{Ht.store.dispatch(Ct({networkStatus:"offline"}))})),(0,R.clearApiCache)(),yield(0,e.call)(Ar)}catch(t){t.handler?(0,e.call)(t.handler):console.error("[Logout Failed] ",t)}};function Cr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Pr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cr(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Dr=[sr,dr],Ir=(0,I.handleActions)(Pr(Pr(Pr(Pr(Pr({},pr),mr),kt),ir),Tr),{networkStatus:"online",currentUserId:null,currentUser:{},curTabFocused:!0,isMainPage:!0,subaccountHasUnrepliedPermission:!1,showAutoHangupModal:!1,hasVideoPermission:!1,hasReplyPermission:!1,shouldInitFSSDK:!1,hasDeletePermission:!1,deleteConfigVersion:0,deleteConfigDuration:0,waitingTimeFilter:!1,showCrrDue:!1,hideFeedback:!1,showChatbotLoadingTime:0,disappearChatbotLoadingTime:0,textMaxInputLengh:600,loginSuccess:!0,showChatWindow:!1,showConversationDetail:!0,showEntry:!1,hasFetchedUnread:!1,hasSidebarPanel:!1,firstClickEntry:!1,serviceDownStatus:{alert:!1,closed:!1,list:!1,message:!1},permissions:null}),Nr=e=>(0,t.createSelector)(f,(t=>(0,Q.denormalize)(e,R.shopSchema,{shops:t}))),wr=e=>{var t;return(null==e||null===(t=e.shopReducer)||void 0===t?void 0:t.fetchedShopIds)||[]},Mr=e=>{var t;return(null==e||null===(t=e.shopReducer)||void 0===t?void 0:t.shopFilter)||null};function Lr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Ur(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lr(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Gr=(e,t={})=>new Promise((r=>{(0,R.fetch)({parent:"conversation",resource:"unread-counts",params:Ur({shop_ids:JSON.stringify(e)},t)}).then((({"unread-counts":e=[]})=>{r(e)})).catch((()=>{r([])}))}));function*jr({payload:{shopId:t}}){try{var r=yield(0,e.select)(Nr(t));r=yield(0,e.call)(R.fetch,{resource:"shop",id:t,params:{need_cache:1,cache_expires:600}});var{entities:o}=(0,R.normalize)("shops",r);return yield(0,e.put)(N({entities:o})),yield(0,e.put)((0,ut.updateFetchedShopIds)({shopIds:[r.id]})),r}catch(e){return{}}}var xr=({shopIds:e})=>{var t={ids:JSON.stringify(e)};return new Promise((e=>{(0,R.fetch)({resource:"shop_list",params:t}).then((({shops:t=[]})=>{e(t)})).catch((()=>{e([])}))}))};function*kr({payload:{shopId:t}}){try{return yield(0,e.call)(R.fetch,{parent:"shop",parentId:t,resource:"auth"})}catch(e){return{}}}var Fr,Hr=e=>e.toastReducer.toast,Yr=S(9701).t,Br=(e,t)=>{var r={};if(t){switch(t.type){case"auto-reply":e?t.first&&"enabled"===t.action?(r.message=Yr("settings.enable_auto_reply_successfully"),r.show=!0):(r.message="",r.show=!1):(t.first&&"enabled"===t.action?r.message=Yr("settings.failed_to_enable_auto_reply"):r.message="enabled"===t.action?Yr("settings.failed_to_enable"):Yr("settings.failed_to_disable"),r.show=!0);break;case"message":r.message=e?"save"===t.action?Yr("settings.message.save_successfully"):"delete"===t.action?Yr("settings.message.delete_successfully"):Yr("settings.message.import_successfully"):"save"===t.action?Yr("settings.message.failed_to_save"):"delete"===t.action?Yr("settings.message.failed_to_delete"):Yr("settings.message.failed_to_import"),r.show=!0;break;case"message-tips":e?(r.message="",r.show=!1):(r.message="enabled"===t.action?Yr("settings.failed_to_enable"):Yr("settings.failed_to_disable"),r.show=!0);break;case"forward":e||(r.message=403===t.status?Yr("forward.exception",{forwardName:""}):Yr("forward.server_error"),r.show=!0);break;case"send-feedback":r.message=Yr("feedback_modal.error.failed_to_send"),r.show=!0;break;case"server-error-tips":r.message=Yr("common.server_error.warning_tips"),r.show=!0;break;case"conversation-closed-tip":r.message=Yr("conversation_detail.closed.warning_tips"),r.show=!0;break;case"permission-denied":r.message=Yr("common.permission_denied"),r.show=!0;break;case"claim-voucher":r.message=Yr(e?"voucher.claim.success":"voucher.claim.fail"),r.show=!0;break;case"claim-voucher-not-satisfy":r.message=Yr("voucher.claim.fail_not_satisfy_rule"),r.show=!0;break;case"claim-voucher-already-claimed":r.message=Yr("voucher.claim.fail_already_claimed"),r.show=!0;break;case"claim-voucher-no-longer-valid":r.message="claim_voucher.error.no_longer_valid",r.show=!0;break;case"claim-voucher-failed":r.message="claim_voucher.error.failed",r.show=!0;break;case"private-image":r.message=Yr("common.image.expired"),r.show=!0;break;case"operation":"save"===t.action&&(r.message=Yr(e?"text.save_successfully":"text.save_failed")),r.show=!0;break;default:r.message=t.message,r.show=!0}r.type=e?"success":"fail"}return r};!function(e){e.COPY_SUCCEED_FEEDBACK="COPY_SUCCEED_FEEDBACK",e.SET_TOAST_INFORMATION="SET_TOAST_INFORMATION",e.SET_TOAST_INFORMATION_SUCCEEDED="SET_TOAST_INFORMATION_SUCCEEDED"}(Fr||(Fr={}));var{copySucceedFeedback:Vr,setToastInformation:Wr,setToastInformationSucceeded:Qr}=(0,I.createActions)({[Fr.COPY_SUCCEED_FEEDBACK]:()=>({}),[Fr.SET_TOAST_INFORMATION]:({type:e,error:t,toast:r,extra:o})=>({type:e,error:t,toast:r,extra:o}),[Fr.SET_TOAST_INFORMATION_SUCCEEDED]:({toast:e})=>({toast:e})});function*zr({payload:{type:t,error:r,toast:o,extra:n}}){if(yield(0,e.select)(Pe)){var a=null;t&&(a=Br(!1,{type:t})),void 0!==r&&(a=r instanceof R.CustomError||r instanceof R.Webview?r.handler(null==n?void 0:n.toShopId):Br(!1,{type:"server-error-tips"})),o&&(a=o),yield(0,e.put)(Qr({toast:a}))}}const qr={[Fr.SET_TOAST_INFORMATION_SUCCEEDED]:St()};var Kr=S(9701).t;function*Xr(){yield(0,e.put)(Wr({toast:Br(!0,{message:Kr("common.successful_copied")})}))}function Jr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}var $r,Zr=[function*(){yield(0,e.takeEvery)(Wr,zr)},function*(){yield(0,e.takeEvery)(Vr,Xr)}],eo=(0,I.handleActions)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jr(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},qr),{toast:{type:"",message:"",show:!1}}),to=e=>e.messageShortcutGroupReducer||{groups:[],status:"",currentGroupType:-1,currentGroupId:-1},ro=(0,t.createSelector)(to,(e=>e.status)),oo=(0,t.createSelector)(to,(e=>e.currentGroupType)),no=(0,t.createSelector)(to,(e=>e.currentGroupId)),ao=(0,t.createSelector)(to,(e=>e.groups)),so=(0,t.createSelector)(ao,(e=>e.filter((e=>e.group_type===r.MessageShortcutGroupType.PERSONAL)))),io=(0,t.createSelector)(ao,(e=>e.filter((e=>e.group_type===r.MessageShortcutGroupType.TEAM)))),co=(0,t.createSelector)(ao,oo,((e,t)=>-1===t?e:e.filter((e=>e.group_type===t)))),lo=(0,t.createSelector)(so,(e=>e.reduce(((e,t)=>{var{message_shortcuts:r=[]}=t;return e.concat(r)}),[]))),uo=(0,t.createSelector)(io,(e=>e.reduce(((e,t)=>{var{message_shortcuts:r=[]}=t;return e.concat(r)}),[]))),_o=(0,t.createSelector)(lo,uo,((e=[],t=[])=>[...e,...t])),po=(0,t.createSelector)(_o,(e=>[...e.filter((e=>!(null==e||!e.pin_time))).sort(((e,t)=>e.pin_time-t.pin_time)),...e.filter((e=>!(null!=e&&e.pin_time)))])),So=(0,t.createSelector)(po,oo,no,((e,t,r)=>{var o=-1===t?e:e.filter((e=>e.group_type===t));return-1===r?o:o.filter((e=>e.groupId===r))})),Eo=e=>{var t;return(null==e||null===(t=e.settingsReducer)||void 0===t?void 0:t.settings)||{}},vo=e=>{var t;return(null==e||null===(t=e.settingsReducer)||void 0===t?void 0:t.needForceUpdate)||!1},To=e=>{var t;return(null==e||null===(t=e.settingsReducer)||void 0===t?void 0:t.status)||""},fo=e=>{var t;return(null==e||null===(t=e.settingsReducer)||void 0===t?void 0:t.fetchStatus)||""},ho=(0,t.createSelector)(Eo,(e=>e.auto_translation_status||"")),Oo=(0,t.createSelector)(Eo,(e=>e.message_shortcuts_status||"")),go=(0,t.createSelector)(Eo,(e=>e.legacy_message_shortcuts_count||0)),yo=(0,t.createSelector)(Eo,(e=>e.distribution_account_status||"enabled")),mo=(0,t.createSelector)(Eo,(e=>e.display_banner||!1)),bo=(0,t.createSelector)(Eo,(e=>e.has_binded_direct_shop||!1));function*Ao(){try{yield(0,e.put)((0,ut.fetchSettingsStatus)({fetchStatus:r.DataFetchStatus.PENDING}));var t=Date.now(),o=yield(0,e.call)(R.fetch,{parent:"user",resource:"setting"}),n=(0,R.getReportManager)();return null==n||n.reportUserSettingApi(Date.now()-t),yield(0,e.put)((0,ut.fetchSettingsSucceeded)({settings:o,fetchStatus:r.DataFetchStatus.SUCCEED,timestamp:Date.now(),needForceUpdate:!1})),o}catch(t){return yield(0,e.put)((0,ut.fetchSettingsStatus)({fetchStatus:r.DataFetchStatus.FAILED})),{}}}!function(e){e.HANDLE_401_ERROR_REQUESTED="HANDLE_401_ERROR_REQUESTED",e.UPDATE_CONVERSATION_LISTS_HASH="UPDATE_CONVERSATION_LISTS_HASH",e.OPEN_MALL_URL="OPEN_MALL_URL"}($r||($r={}));var{openMallUrl:Ro}=(0,I.createActions)({[$r.OPEN_MALL_URL]:({path:e,region:t,isAbsolute:r})=>({path:e,region:t,isAbsolute:r})}),Co="xiapibuy.com";function*Po({payload:{path:t="",region:o="",isAbsolute:n=!1}}){if(n)window.open(t);else{var a,s=o?o.toLowerCase():(0,r.getRuntimeRegion)();"cn"!==s&&"kr"!==s||(s="my");var i=t?t.startsWith("/")?t:"/".concat(t):"";if((0,r.isVisitingCn)())try{var{data:c}=yield(0,e.call)(R.fetch,{url:"https://".concat((0,r.getSCApiServer)(),"/selleraccount/nonce/get/")}),l="".concat((0,r.cnDomainHash)(s),".").concat((0,r.envPrefix)()).concat(Co),u=encodeURIComponent(window.btoa('{"next":"https://'.concat(l).concat(i,'"}')));i="/api/seller_platform/nonce/callback/?nonce=".concat(c.nonce,"&region=").concat(s,"&state=").concat(u),a="https://".concat(l).concat(i)}catch(e){a="https://".concat((0,r.cnDomainHash)(s),".").concat((0,r.envPrefix)()).concat(Co).concat(i)}else a="kh"===s?"https://".concat((0,r.domainPrefix)()).concat((0,r.domainSuffix)(s)).concat(i):"https://".concat((0,r.domainPrefix)(),".").concat((0,r.domainSuffix)(s)).concat(i);window.open(a)}}var{handle401ErrorRequested:Do}=(0,I.createActions)({[$r.HANDLE_401_ERROR_REQUESTED]:({resource:e})=>({resource:e})}),{updateConversationListsHash:Io}=(0,I.createActions)({[$r.UPDATE_CONVERSATION_LISTS_HASH]:()=>({})}),No=[function*(){yield(0,e.takeEvery)(Ro,Po)}],wo=(0,t.createSelector)(n,(e=>e.offers||{})),Mo=(e,o,n,a)=>(0,t.createSelector)(wo,(t=>Object.values(t).filter((t=>t.product_id===a&&t.model_id===o&&t.conversation_id===e&&t.id!==n&&t.status===r.OfferStatus.PENDING)))),Lo=e=>(0,t.createSelector)(n,(t=>(0,Q.denormalize)(e,R.offerSchema,t))),{reduxReset:Uo}=(0,I.createActions)({REDUX_RESET:()=>({})});window.addExternalGlobal("resetAction",Uo);var Go={},jo=e=>{var t;return(null===(t=e.draftReducer)||void 0===t?void 0:t.draftHash)||Go},xo=e=>(0,t.createSelector)(jo,(t=>t[e]||"")),ko=e=>{var t;return(null==e||null===(t=e.translatePreferenceReducer)||void 0===t?void 0:t.translationSettings)||{}},Fo=e=>{var t;return(null==e||null===(t=e.translatePreferenceReducer)||void 0===t?void 0:t.fetchSettingsStatus)||""},Ho=e=>{var t;return(null==e||null===(t=e.translatePreferenceReducer)||void 0===t?void 0:t.updateStatus)||""};function Yo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Bo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yo(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function*Vo(t,r,o,n=[]){var a=t,s=[],i=[];Array.isArray(t)&&(a=((0,R.normalize)(o,t).entities||{})[o]||{}),r.forEach((t=>{var r=t.id,c=a[r];c?["conversations","agentConversations"].includes(o)&&(void 0!==c.faking||c.latestMessageStatus||void 0!==c.unreplied)?(delete(t=Bo(Bo({},c),t)).faking,delete t.latestMessageStatus,delete t.unreplied,t.manual&&(delete t.manual,t.unreplied=!1),i.push(t)):(n.length&&n.forEach((e=>{t[e]=c[e]})),s.push((0,e.put)(w({name:o,id:r,record:Bo({},t)})))):i.push(t)})),i.length&&s.push((0,e.put)(N({entities:(0,R.normalize)(o,i).entities}))),yield(0,e.all)(s)}var Wo,Qo=e=>(0,t.createSelector)(d,(t=>(0,Q.denormalize)(e,[R.productSchema],{products:t}))),zo=e=>(0,t.createSelector)(_,(t=>(0,Q.denormalize)(e,[R.orderSchema],{orders:t}))),qo=e=>e.reportReducer.beingReported;!function(e){e.REPORT_REQUESTED="REPORT_REQUESTED",e.CLEAR_REPORT_REQUESTED="CLEAR_REPORT_REQUESTED"}(Wo||(Wo={}));var{reportRequested:Ko,clearReportRequested:Xo}=(0,I.createActions)({[Wo.REPORT_REQUESTED]:({event_time:e,url:t})=>({event_time:e,url:t}),[Wo.CLEAR_REPORT_REQUESTED]:()=>({})});function Jo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function $o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jo(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function*Zo(){var t=yield(0,e.select)(qo);if(t.length){var o=[...t];yield(0,e.put)(Xo()),o.sort(((e,t)=>Number(t.event_time)-Number(e.event_time))),yield(0,e.call)(R.fetch,{method:"POST",subServer:"coreapi",parent:"user",resource:"report_active",payload:JSON.stringify($o($o({},o[0]),{},{platform_id:(0,r.isVisitingCNSC)()||(0,r.isVisitingKRSC)()?2:1}))})}}const en={[Wo.REPORT_REQUESTED]:(e,{payload:{event_time:t,url:r}})=>({beingReported:[...e.beingReported,{event_time:t,url:r}]}),[Wo.CLEAR_REPORT_REQUESTED]:e=>({beingReported:[]})};function tn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}var rn,on=[function*(){for(;;)yield(0,e.delay)(6e4),yield Zo()}],nn=(0,I.handleActions)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tn(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},en),{beingReported:[]});function an(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function sn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?an(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):an(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}!function(e){e.ADD_NEED_CAPTCHA_REQUEST="ADD_NEED_CAPTCHA_REQUEST",e.DELETE_CAPTCHA_REQUEST="DELETE_CAPTCHA_REQUEST",e.CLEAR_NEED_CAPTCHA_REQUEST="CLEAR_NEED_CAPTCHA_REQUEST",e.RESEND_NEED_CAPTCHA_REQUEST="RESEND_NEED_CAPTCHA_REQUEST"}(rn||(rn={}));const cn={[rn.ADD_NEED_CAPTCHA_REQUEST]:(e,{payload:{request:t}})=>{var r=[...e.verifyRequests];return r.push(t),sn(sn({},e),{},{verifyRequests:r})},[rn.DELETE_CAPTCHA_REQUEST]:e=>{var t=[...e.verifyRequests];return t.pop(),sn(sn({},e),{},{verifyRequests:t})},[rn.CLEAR_NEED_CAPTCHA_REQUEST]:e=>sn(sn({},e),{},{verifyRequests:[]})};var{addNeedCaptchaRequest:ln,deleteCaptchaRequest:un,clearNeedCaptchaRequest:_n,resendNeedCaptchaRequest:dn}=(0,I.createActions)({[rn.ADD_NEED_CAPTCHA_REQUEST]:({request:e})=>({request:e}),[rn.DELETE_CAPTCHA_REQUEST]:()=>({}),[rn.CLEAR_NEED_CAPTCHA_REQUEST]:()=>({}),[rn.RESEND_NEED_CAPTCHA_REQUEST]:()=>({})});function*pn(){try{var t=yield(0,e.select)(Tn);if(t.length)for(var r of(yield(0,e.put)(_n()),t)){var{id:o,extra:n}=r;switch(o){case"unread-count":yield(0,e.spawn)(ut.doRefreshTotalUnreadConversationsCount,n);break;case"unread-count-single":yield(0,e.spawn)(doRefreshSingleShopUnreadConversationCount,n);break;case"send-message":yield(0,e.put)((0,ut.resendMessageRequested)(n));break;case"orders_by_buyer":case"purchased_list":yield(0,e.put)((0,ut.fetchOrdersRequested)(n));break;case"fill-handler":yield(0,e.call)(ut.fillActionHandler,n);break;case"top-banner":yield(0,e.put)((0,ut.fetchTopBannerInfo)(n));break;case"update_price_for_invite_order":yield(0,e.spawn)(ut.updateInviteOrderPrice,n);break;case"item-list-my-shop":case"item-list-other-shop":yield(0,e.put)((0,ut.fetchProductsRequested)(n))}}}catch(e){}}function Sn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}var En=(0,I.handleActions)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sn(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},cn),{verifyRequests:[]}),vn=[function*(){yield(0,e.takeEvery)(dn,pn)}],Tn=e=>e.captchaVerifyReducer.verifyRequests,fn=e=>{var t;return(null===(t=e.translateReducer)||void 0===t?void 0:t.showOriginalMessages)||{}},hn=S(8156),On=S(4756),gn=S(8446),yn=S.n(gn),mn=()=>{var e=(0,On.useSelector)(_e,yn());return(0,hn.useMemo)((()=>{var{id:t,type:o,role:n,is_cb:a,locale:s}=e;return{userId:t,locale:s,isSubAccount:(0,r.isSubaccount)(o),isCbAccount:a,isMainSubAccount:(0,r.isMainSubaccount)(o,n)}}),[e])},bn=()=>{var{isSubAccount:e,isCbAccount:t}=mn(),r=(0,On.useSelector)(he);return(0,hn.useMemo)((()=>e&&(t||r)),[e,t,r])};function An(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Rn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?An(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):An(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Cn=()=>{var e=(0,On.useSelector)(te,yn()),{isMainSubAccount:t}=mn(),{showMonitorMode:o=!1}=e||{},n=(0,On.useSelector)(z);return(0,hn.useMemo)((()=>t&&o&&n===r.UserMode.MONITOR?Rn(Rn({},e||{}),{},{chatListRevamp:!0,showServingTab:!0}):e||{}),[n,t,o,e])},Pn=e=>{var[t,o]=(0,hn.useState)(null);return(0,hn.useEffect)((()=>{var t,r="tab_".concat(e),n=()=>{var e=document.getElementById(r);e&&(o(e),t&&t.disconnect())};return document.getElementById(r)?n():(t=new MutationObserver(n)).observe(document.body,{childList:!0,subtree:!0}),()=>{var e;return null===(e=t)||void 0===e?void 0:e.disconnect()}}),[e]),(0,r.isElementVisibleAtLeast)(t)},Dn=e=>{var{mode:t,activeTab:o,activeListTab:n}=e,{isSubAccount:a,isMainSubAccount:s}=mn(),{showMonitorMode:i=!1,showServingTab:c}=Cn();return(0,hn.useMemo)((()=>a?s&&i&&t===r.UserMode.MONITOR?n===r.ConversationListTab.TODAY?r.ConversationTypeEnum.ServingToday:r.ConversationTypeEnum.Normal:o===r.ConversationTab.CUSTOMER?r.ConversationTypeEnum.Normal:r.ConversationTypeEnum.Agent:c&&n===r.ConversationListTab.TODAY?r.ConversationTypeEnum.ServingToday:r.ConversationTypeEnum.Normal),[t,a,s,i,c,o,n])},In=()=>{var{isMainSubAccount:e}=mn(),{showMonitorMode:t=!1}=Cn(),o=(0,On.useSelector)(z);return(0,hn.useMemo)((()=>e&&t&&o===r.UserMode.MONITOR),[o,e,t])},Nn=e=>(0,On.useSelector)(jo,yn())[e]||"",wn={},Mn=e=>e.closeReasonReducer&&e.closeReasonReducer.status,Ln=e=>{var t;return(null===(t=e.closeReasonReducer)||void 0===t?void 0:t.closeReasonEditingCache)||wn},Un=e=>{var t=(0,On.useSelector)(Mn,yn()),r=(0,On.useSelector)(Ln,yn()),{isEditing:o}=r[e]||{};return"enabled"===t&&!!o},Gn=["banned","frozen"],jn=({status:e,userStatus:t,isBlocked:o})=>{var{isSubAccount:n}=mn();return"closed"===e?"closed":Gn.includes(t)?t:!(0,r.isVisitingCNSC)()&&n||!o?"":"blocked"},xn=[...Gn,"blocked"],kn=({dueTag:e,conversationStatus:t})=>e&&!xn.includes(t)?e:"",Fn=()=>{var e=(0,On.useSelector)(Mr,yn());return{noShopFilter:(0,r.checkEmptyObject)(e),shopFilter:e}},Hn=({unreadCount:e,sellerUnreadStatus:t})=>(0,r.isConversationUnread)({unread_count:e,seller_unread_status:t}),Yn=(e,t)=>{var o=(0,On.useSelector)(ko,yn())[e]||{},{autoTranslationStatus:n}=o;return t!==r.BizIdEnum.Buyer&&t!==r.BizIdEnum.SubAccount||n===r.SwitchStatus.ENABLED},Bn="function"==typeof IntersectionObserver;function Vn(e={}){var[t,r]=(0,hn.useState)(!1),o=(0,hn.useRef)(null),n=(0,hn.useRef)(null),{root:a=null,rootMargin:s="0px",threshold:i=1,once:c=!1,onIntersect:l}=e,u=(0,hn.useCallback)(((e,t)=>{var[o]=e;null!=o&&o.isIntersecting&&(null==o?void 0:o.intersectionRatio)>=1?(r(!0),null==l||l(o,t),c&&(t.unobserve(o.target),n.current=null)):r(!1)}),[c,l]);return(0,hn.useEffect)((()=>{if(Bn&&o.current){n.current&&n.current.disconnect(),n.current=new IntersectionObserver(u,{root:a,rootMargin:s,threshold:i});var e=n.current,t=o.current;return e.observe(t),()=>{Bn&&(e.disconnect(),n.current=null)}}}),[a,s,i,u]),[o,t]}var Wn=(e,t)=>{var r=(0,hn.useRef)(null),o=(0,hn.useCallback)(((...o)=>{r.current&&clearTimeout(r.current),r.current=setTimeout((()=>{e(...o)}),t)}),[e,t]);return(0,hn.useEffect)((()=>()=>{r.current&&clearTimeout(r.current)}),[]),o};function Qn(e){var t=(0,hn.useRef)(e);t.current=e;var r=(0,hn.useRef)();return r.current||(r.current=function(...e){return t.current.apply(this,e)}),r.current}function*zn(t,r,o){yield(0,e.takeEvery)(t,(function*(t){var n=t.payload.id;n?yield(0,e.race)({task:(0,e.call)(r,t),cancel:(0,e.take)((e=>e.type===o.toString()&&e.payload.id===n))}):yield(0,e.call)(r,t)}))}})(),E})(),e.exports=o(r(34857),r(20573),r(29494),r(96961),r(6678),r(82677),r(38104),r(58518),r(44900),r(36808),r(86843),r(55036))},53402:function(e,t,r){"use strict";e.exports=r(25061)},84701:function(e,t,r){var o,n,a;e.exports=(o=r(94184),n=r(86843),a=r(99468),(()=>{var e={747:e=>{e.exports='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M6.1742 11.2772C4.96284 8.36079 0 8.34581 0 8.34581C0 8.34581 3.07119 8.53866 5.21442 6.87251C7.35764 5.20656 7.36409 0.432297 7.36409 0.432297C7.36409 0.432297 7.68774 5.90341 9.70171 6.87251C11.7157 7.8418 14.3662 8.21621 14.3662 8.21621C14.3662 8.21621 9.63009 8.90508 8.68933 11.2772C7.74857 13.6492 7.51358 16.0001 7.51358 16.0001C7.51358 16.0001 7.38554 14.1937 6.1742 11.2772Z" fill="url(#paint0_linear_737_107180)"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3594 4.82011C11.821 3.52388 9.61523 3.51722 9.61523 3.51722C9.61523 3.51722 10.9802 3.60293 11.9328 2.8624C12.8854 2.12195 12.8883 0 12.8883 0C12.8883 0 13.0321 2.43168 13.9272 2.8624C14.8224 3.29321 16.0004 3.45961 16.0004 3.45961C16.0004 3.45961 13.8954 3.76579 13.4773 4.82011C13.0591 5.87434 12.9547 6.91923 12.9547 6.91923C12.9547 6.91923 12.8978 6.11634 12.3594 4.82011Z" fill="url(#paint1_linear_737_107180)"></path><defs><linearGradient id="paint0_linear_737_107180" x1="14.9539" y1="1.13993" x2="7.29229" y2="8.73387" gradientUnits="userSpaceOnUse"><stop stop-color="#EEC42D"></stop><stop offset="1" stop-color="#EE4D2D"></stop></linearGradient><linearGradient id="paint1_linear_737_107180" x1="16.2616" y1="0.314511" x2="12.8563" y2="3.68969" gradientUnits="userSpaceOnUse"><stop stop-color="#EEC42D"></stop><stop offset="1" stop-color="#EE4D2D"></stop></linearGradient></defs></svg>'},8288:e=>{e.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" class="chat-icon"><g clip-path="url(#clip0_265_12873)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15.126 16.187a.75.75 0 101.061-1.06L11.06 10l5.127-5.127a.75.75 0 00-1.06-1.06L10 8.939 4.873 3.813a.75.75 0 10-1.06 1.06L8.939 10l-5.126 5.127a.75.75 0 001.06 1.06L10 11.061l5.126 5.126z"></path></g><defs><clipPath><path d="M0 0h20v20H0z"></path></clipPath></defs></svg>'},2828:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" class="chat-icon"><path d="M7 0a7 7 0 110 14A7 7 0 017 0zm0 6.292L4.88 4.172a.5.5 0 00-.765.637l.058.07L6.292 7l-2.12 2.121a.5.5 0 00.637.765l.07-.058L7 7.708l2.121 2.12a.5.5 0 00.765-.637l-.058-.07L7.708 7l2.12-2.121a.5.5 0 00-.637-.765l-.07.058-2.12 2.12-2.122-2.12L7 6.292z"></path></svg>'},9447:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" class="chat-icon"><path d="M7 0a7 7 0 110 14A7 7 0 017 0zm.302 9.56c-.16.183-.299.275-.39.275-.046 0-.07 0-.115-.023-.046-.023-.046-.069-.046-.138s.023-.252.092-.504c.023-.092.069-.276.138-.528l.825-3.004-.458.091c-.161.023-.436.07-.803.115-.39.046-.665.069-.872.092v.275c.23 0 .39.023.482.069.092.046.137.114.137.252v.069c0 .023 0 .046-.022.092l-.643 2.385c-.046.183-.091.321-.114.413a1.882 1.882 0 00-.07.413c0 .252.07.435.23.55.16.115.321.183.528.183.344 0 .665-.137.963-.435.184-.184.436-.528.78-1.032l-.23-.16c-.114.183-.275.366-.412.55zm-.108-6.198a.711.711 0 00-.532.218.711.711 0 00-.218.532c0 .218.072.388.218.533a.711.711 0 00.532.218.711.711 0 00.532-.218.711.711 0 00.218-.532.711.711 0 00-.218-.533.711.711 0 00-.532-.218z"></path></svg>'},3941:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 14" class="chat-icon"><path d="M13.582 4.276a6.977 6.977 0 00-1.5-2.225A6.977 6.977 0 007.131 0a6.956 6.956 0 00-4.95 2.051A6.977 6.977 0 00.13 7.001a6.956 6.956 0 002.05 4.95A6.988 6.988 0 007.132 14c.945 0 1.863-.185 2.726-.55a6.951 6.951 0 002.224-1.5A6.988 6.988 0 0014.131 7c0-.944-.183-1.862-.549-2.724zm-6.45 6.663a.876.876 0 11.001-1.752.876.876 0 01-.002 1.752zm.875-7.004c0 .002 0 .002 0 0v.012a.793.793 0 01-.016.152l-.425 3.825a.438.438 0 01-.87.001l-.425-3.824a.793.793 0 01-.015-.152v-.034a.876.876 0 011.75 0v.02z"></path></svg>'},2248:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" class="chat-icon"><path d="M7 0a7 7 0 110 14A7 7 0 017 0zm3.146 4.929L6.097 8.978 3.854 6.734a.5.5 0 10-.708.707l2.598 2.598a.5.5 0 00.707 0l4.403-4.403a.5.5 0 00-.708-.707z"></path></svg>'},8310:e=>{"use strict";e.exports=o},8156:e=>{"use strict";e.exports=n},5473:e=>{"use strict";e.exports=a}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var s={};return(()=>{"use strict";r.r(s),r.d(s,{default:()=>y});var e=r(5473),t=r.n(e),o=r(8156),n=r.n(o),a=r(8310),i=r.n(a),c=r(2248),l=r.n(c),u=r(2828),_=r.n(u),d=r(3941),p=r.n(d),S=r(9447),E=r.n(S),v=r(8288),T=r.n(v),f=r(747),h=r.n(f);const O={root:"qk8HcS1veu",content:"i6xFxbUJy0","msg-alert":"V8PYjKIzUj",msgAlert:"V8PYjKIzUj",normal:"uEVHwkddgf",success:"CYIOIVrUNV",error:"qATiJNvRcf",warn:"NE4XGeVE_4",info:"SGbCqUvg1s",highlight:"Izu_vioI6K",icon:"NLSosCWzVU","alert-icon":"n9Uin1AXqK NLSosCWzVU",alertIcon:"n9Uin1AXqK NLSosCWzVU","enhancement-noti":"wV3pYzF2jp",enhancementNoti:"wV3pYzF2jp","alert-icon-success":"BqNuyihNZm",alertIconSuccess:"BqNuyihNZm","alert-icon-error":"ilWTKnVD2h",alertIconError:"ilWTKnVD2h","alert-icon-info":"TWDtL150yN",alertIconInfo:"TWDtL150yN","alert-icon-warn":"MVyhYgfTfW",alertIconWarn:"MVyhYgfTfW","alert-icon-highlight":"eDMQORPAKn",alertIconHighlight:"eDMQORPAKn","alert-close":"od5EZwbuyM",alertClose:"od5EZwbuyM","close-icon":"Yi576Kxch2 NLSosCWzVU",closeIcon:"Yi576Kxch2 NLSosCWzVU","need-float":"tyGNDMk_QD",needFloat:"tyGNDMk_QD"};var g={success:l(),error:_(),info:E(),warn:p(),highlight:h()};const y=({type:e="warn",showIcon:r,closeable:o,onClose:a,content:s,icon:c,isBar:l,needFloat:u,className:_,contentClassName:d,keepBackground:p=!1})=>{if(!s)return null;var S=i()(O.icon,O["alert-icon-".concat(e)],O.alertIcon,p?O.enhancementNoti:""),E=i()(_,O.root,p?O.normal:O[e],l?"":O.msgAlert,u?O.needFloat:"");return n().createElement("span",{className:E},r&&(c||n().createElement(t(),{svg:g[e],className:S})),n().createElement("span",{className:i()(O.content,d)},s),o&&n().createElement("div",{className:O.alertClose,onClick:e=>a&&a(e)},n().createElement(t(),{svg:T(),className:O.closeIcon})))}})(),s})())},92615:function(e,t,r){"use strict";e.exports=r(84701)},99468:function(e,t,r){var o,n;e.exports=(o=r(94184),n=r(86843),(()=>{"use strict";var e={8310:e=>{e.exports=o},8156:e=>{e.exports=n}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};return(()=>{r.r(a),r.d(a,{default:()=>i});var e=r(8156),t=r.n(e);const o="GHUxSkxNuJ";var n=r(8310),s=r.n(n);const i=e=>{var{svg:r,style:n={},className:a,onClick:i}=e,c=s()(o,a);return t().createElement("i",{onClick:i,style:n,className:c,dangerouslySetInnerHTML:{__html:r}})}})(),a})())},69193:function(e,t,r){"use strict";e.exports=r(99468)},22193:function(e,t,r){var o;e.exports=(o=r(86843),(()=>{"use strict";var e={8156:e=>{e.exports=o}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};return(()=>{r.r(n),r.d(n,{default:()=>_});var e=r(8156),t=r.n(e);const o="SbG_pFWCiW",a="kOcjq_yQuK",s="Zk4z7tTqaE",i="HrQFl6UVN_",c="UCRIgeBPof",l="kmss6JpUXN kOcjq_yQuK",u="Q3uoPWJlY_",_=({isInit:e=!1,text:r})=>t().createElement("div",{className:o},t().createElement("div",{className:e?a:l},t().createElement("i",{className:s}),t().createElement("i",{className:i}),t().createElement("i",{className:c})),e&&r&&t().createElement("div",{className:u},r))})(),n})())},11876:function(e,t,r){"use strict";e.exports=r(22193)},76955:function(e,t,r){var o,n;e.exports=(o=r(94184),n=r(86843),(()=>{"use strict";var e={8310:e=>{e.exports=o},8156:e=>{e.exports=n}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};return(()=>{r.r(a),r.d(a,{default:()=>i});var e=r(8156),t=r.n(e),o=r(8310),n=r.n(o);const s={animation:"mtSDzvuYwh",breathe:"WxZczoU9Y2",line:"uYvboya2A0","line-first":"Ni__LTrxDO mtSDzvuYwh",lineFirst:"Ni__LTrxDO mtSDzvuYwh","line-second":"FpEp58JgHm mtSDzvuYwh",lineSecond:"FpEp58JgHm mtSDzvuYwh",square:"zccgav569R mtSDzvuYwh",circle:"Vm7b3BCuyS mtSDzvuYwh"},i=r=>{var{half:o=!1,type:a="line",children:i,className:c="",style:l}=r,u=(0,e.useMemo)((()=>n()(c,s[a])),[c,a]);return t().createElement("div",{className:u,style:l},"line"===a&&t().createElement(t().Fragment,null,t().createElement("div",{className:s.lineFirst}),!o&&t().createElement("div",{className:s.lineSecond})),i)}})(),a})())},27067:function(e,t,r){"use strict";e.exports=r(76955)},66069:function(e,t,r){var o;o=(e,t,r,o)=>(()=>{"use strict";var n={95:(e,t,r)=>{r.d(t,{D:()=>i,t:()=>c});var o=r(661),n=r.n(o),a=r(480),s=!1,i=(e,t,r="common")=>{s||((e,t)=>{s=!0;var r=t||(0,a.CE)();n().init({lng:r,fallbackLng:r,defaultNS:"common",keySeparator:!1,debug:!1,resources:e&&e.resources||{},interpolation:{prefix:"{",suffix:"}",escapeValue:!1},react:{wait:!1,bindI18n:"languageChanged loaded",bindStore:"added removed",nsMode:"default"}})})({resources:{}},e),n().changeLanguage(e),n().addResourceBundle(e,r,t,!0,!0)},c=n().t.bind(n())},480:(e,t,r)=>{r.d(t,{$S:()=>R,CE:()=>k,E3:()=>P,H9:()=>p,IE:()=>G,JS:()=>S,Jy:()=>w,L6:()=>x,NJ:()=>y,S1:()=>c,Tb:()=>I,Vm:()=>C,X7:()=>j,Y8:()=>O,YH:()=>U,Yc:()=>d,dV:()=>M,ef:()=>E,jq:()=>b,jz:()=>F,pM:()=>v,qk:()=>A,u7:()=>D,xC:()=>L,z$:()=>h});var o,n,a,s,i={sg:"en",ph:"en",tw:"zh-Hant",my:"ms-MY",th:"th-TH",vn:"vi-VN",id:"id-ID",br:"pt-BR",in:"hi",cn:"zh-CN",mx:"es-MX",co:"es-CO",cl:"es-CL",ar:"es-AR",pl:"pl",es:"es-ES",fr:"fr",us:"en",kr:"en",kh:"km-KH",mm:"my-MM",la:"lo-LA"},c=(e,t,r)=>{o=e.toLowerCase(),n="liveish"===t?"live-test":"stable"===t?"test-stable":t,a=r,s=i[o]||"en"},l=["my","br","mx","co","ar","mm","la"],u=["id","th"],_=["us"],d=e=>"kh"===e?"kh.com":l.includes(e)?"com.".concat(e):u.includes(e)?"co.".concat(e):_.includes(e)?"com":e,p=e=>"tw"===e?"xiapi":e.toLowerCase(),S=e=>d(e),E=()=>"live"===n?"":"".concat(n,"."),v=()=>"live"===n?"shopee":"".concat(n,".shopee"),T=()=>"live"===n?"shopeebrasil":"".concat(n,".shopeebrasil");function f(){var e=window.location.hostname;return e&&e.includes("shopeebrasil")}var h=()=>"cn"===o,O=()=>"kr"===o;function g(){return y()&&!h()}function y(){var e=window.location.hostname;return e&&e.includes("cn")}var m=(e,t)=>"seller"===e?"vn"!==t||g()?"seller":"banhang":e,b=(e,t)=>{var r=t?t.toLowerCase():o;return g()?((e,t)=>{var r=t?t.toLowerCase():o;return"".concat(m(e,r),".").concat(p(r),".").concat(v(),".").concat("cn")})(e,r):"kh"===r?"".concat(m(e,r),".").concat(f()?T():v()).concat(S(r)):"".concat(m(e,r),".").concat(f()?T():v(),".").concat(S(r))},A=e=>b("seller",e),R=e=>{var t=e?e.toLowerCase():o;return"kh"===t?"seller-service.cs.".concat(v()).concat(S(t)):"seller-service.cs.".concat(v(),".").concat(S(t))},C=()=>"".concat(A(),"/webchat/api"),P=()=>"".concat(A(),"/api"),D=e=>{var t=e?e.toLowerCase():o;return"cn"!==t&&"kr"!==t||(t="my"),y()?"".concat(p(t),".").concat(E()).concat("xiapibuy.com"):"kh"===t?"".concat(v()).concat(S(t)):"".concat(v(),".").concat(S(t))},I=()=>{var e=o;return"cn"!==e&&"kr"!==e||(e="my"),"kh"===e?"".concat(v()).concat(S(e)):"".concat(v(),".").concat(S(e))},N=["sg","my","th","ph","vn","id","tw","br","ar","kh","mm","la"],w=e=>{var t=e?e.toLowerCase():o;if(h())return"https://s-cf-sg.shopeesz.com/file/";if(O())return"https://cf.shopee.sg/file/";var r=N.includes(t);return g()&&r?"https://s-cf-".concat(t,".shopeesz.com/file/"):"kh"===t?"https://cf.shopee".concat(d(t),"/file/"):"https://cf.shopee.".concat(d(t),"/file/")},M=e=>{var t=e?e.toLowerCase():o;return"tw"===t&&y()?"https://cvf.shopee.cn/file/":"kh"===t?"https://cvf.shopee".concat(d(t),"/file/"):"https://cvf.shopee.".concat(d(t),"/file/")},L=()=>"https://".concat(b("seller"),"/webchat/conversations"),U=()=>"https://".concat(b("seller"),"/webchat"),G=()=>n,j=()=>o,x=()=>a,k=()=>s,F=()=>y()?"https://deo.shopeesz.com/shopee/":"https://deo.shopeemobile.com/shopee/"},602:e=>{e.exports=t},661:t=>{t.exports=e},598:e=>{e.exports=r},349:e=>{e.exports=o}},a={};function s(e){var t=a[e];if(void 0!==t)return t.exports;var r=a[e]={exports:{}};return n[e](r,r.exports,s),r.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return(()=>{s.r(i),s.d(i,{AccountType:()=>we,ActionType:()=>A,AffiliateTypeEnum:()=>Z,AlertType:()=>Ge,AllChatsFolders:()=>pe,BannerTypeEnum:()=>se,BizIdEnum:()=>X,ChatListTypingDisplay:()=>w,ChatWithTypeEnum:()=>K,ChatWithTypeMap:()=>oe,ChatbotFromType:()=>Re,ChatbotKbEnhancementType:()=>b,ChatbotPauseEntranceTypes:()=>m,ChatbotToggle:()=>Ce,ConversationListTab:()=>ne,ConversationSource:()=>Pe,ConversationTab:()=>$,ConversationTypeEnum:()=>q,CustomShareEvent:()=>We,DataFetchStatus:()=>F,LS:()=>Qt,LogisticsCardLabel:()=>d,LogisticsEntranceTypes:()=>f,LogisticsMessageTypes:()=>xo,MAX_MEDIA_NUM:()=>a,MAX_Z_INDEX:()=>ze,MINI_MIN_TEXT_BOX_HEIGHT:()=>S,ManualMessageSource:()=>L,MessageErrorCode:()=>n,MessageLabelType:()=>v,MessageOption:()=>e,MessageSendStatus:()=>o,MessageShortcutGroupType:()=>c,MessageSource:()=>De,MessageTypes:()=>r,NoticeOrderTitle:()=>E,OfferStatus:()=>V,OfficialConvType:()=>J,OperationStatus:()=>H,OrderDeliveryStatus:()=>p,OrderDeliveryStatusKeyMap:()=>T,QueueStatusEntranceType:()=>y,RREntranceTypes:()=>h,RRNoticeTypes:()=>g,ReturnCardStatus:()=>l,ReturnSolution:()=>u,SellerUnreadStatus:()=>Ee,ServeTodayFolders:()=>de,ServeTodayFoldersV2:()=>Se,ServeTodayTab:()=>_e,ShareDataType:()=>Qe,SlaType:()=>_,SocketConnectionStatus:()=>W,SocketToAlertType:()=>je,StartChatErrorCode:()=>Ue,StorageKey:()=>Ve,SubAccountChatTypeMap:()=>re,SubAccountRole:()=>Ne,SubAccountTagMap:()=>te,SwitchStatus:()=>Y,TrackRRType:()=>O,TrackerOperation:()=>Le,TranslationStatus:()=>B,UnreadSource:()=>Ie,UserMode:()=>fe,capitalizeFirstLetter:()=>ot,changeLanguage:()=>Tn.D,chatbotLabelText:()=>N,chatbotProductCard:()=>ko,checkAIBannerGuide:()=>kt,checkAssistantHighlightGuide:()=>Ht,checkAutoReplyHighlightGuide:()=>Yt,checkEmptyObject:()=>qe,checkMiniUnrepliedGuide:()=>Ft,checkRegionFilterGuide:()=>Bt,checkSpecialShops:()=>er,cnDomainHash:()=>et.H9,compareSameDayOfTimestamp:()=>yt,customizeTime:()=>ht,debounce:()=>Ut,defaultLocalInMall:()=>Ye,detectTextAndTimestamp:()=>dn,domainHash:()=>et.Yc,domainPrefix:()=>et.pM,domainSuffix:()=>et.JS,envPrefix:()=>et.ef,escapeRegex:()=>sn,fillMessagePreview:()=>en,formatMessageTime:()=>gt,formatTransifyKeyWithNumber:()=>Mt,getApiServer:()=>et.Vm,getCDNUrl:()=>et.jz,getConversationStatusTag:()=>pn,getCurrentTimestampString:()=>cn,getCustomMessageText:()=>Uo,getDefaultFolderStatus:()=>be,getDefaultFolderStatusV2:()=>Ae,getFileServer:()=>et.Jy,getFormattedTime:()=>Ot,getGlobalConfigTranslatedText:()=>vn,getHasSameSourceAndTarget:()=>$o,getItem:()=>zt,getLANGUAGE_MAPPING_V2Key:()=>ct,getLocaleText:()=>Jo,getLogisticsCardTitle:()=>rn,getLogisticsIssueCardTitle:()=>on,getMallTranslationLocale:()=>dt,getMallUrl:()=>et.u7,getMallUrlIgnoreCn:()=>et.Tb,getMessageIsSend:()=>an,getProjectUrl:()=>et.jq,getRRMessageTitle:()=>tn,getRequestBizId:()=>Oe,getRowHeight:()=>ue,getRuntimeLocale:()=>et.CE,getRuntimeRegion:()=>et.X7,getRuntimeServer:()=>et.IE,getRuntimeVersion:()=>et.L6,getSCApiServer:()=>et.E3,getSellerCenterUrl:()=>et.qk,getSellerServiceUrl:()=>et.$S,getServiceLocale:()=>_t,getSystemMessageByLocale:()=>Zo,getTextMessagePreviewShowTranslation:()=>qo,getTranslatedText:()=>En,getTranslationLocale:()=>lt,getUrlParam:()=>Lt,getVideoServer:()=>et.dV,getWebChatPureUrl:()=>et.YH,getWebChatUrl:()=>et.xC,greaterThan:()=>Xe,handlePreview:()=>nn,hasTargetMessageOption:()=>Ko,init:()=>et.S1,isConversationRead:()=>Te,isConversationUnread:()=>ve,isDeletedMessage:()=>Xo,isElementFullyInViewport:()=>Me,isElementVisibleAtLeast:()=>Sn,isMainSubaccount:()=>hn,isMessageLabelType:()=>I,isSubaccount:()=>fn,isVisitingCNSC:()=>et.z$,isVisitingCn:()=>et.NJ,isVisitingKRSC:()=>et.Y8,localeInMallToTspLocale:()=>Be,newFormatMessageTime:()=>bt,persistLimit:()=>Xt,previewLoadingMessage:()=>Qo,previewMessage:()=>Wo,removeItem:()=>Kt,searchHighlightConversation:()=>he,setItem:()=>qt,showAIAssistantLabel:()=>R,showChatbotLabel:()=>P,showReviewLabel:()=>C,showTcsLink:()=>D,showVideoMessageTypes:()=>M,simpleEqualCheck:()=>Ke,subAccountAffiliateBiz:()=>ee,throttle:()=>Gt,trackerMap:()=>ae,unifyLocale:()=>at,updateTimeLocale:()=>Et});var e,t=s(95).t,r={MSG_TYPE_TEXT:"text",MSG_TYPE_IMAGE:"image",MSG_TYPE_OFFER:"offer",MSG_TYPE_PRODUCT:"product",MSG_TYPE_ORDER:"order",MSG_TYPE_STICKER:"sticker",MSG_TYPE_NOTIFICATION:"notification",MSG_TYPE_VOUCHER:"voucher",MSG_TYPE_ITEM_LIST:"item_list",MSG_TYPE_SHOPPING_CART:"shopping_cart",MSG_TYPE_FAQ:"faq",MSG_TYPE_FAQ_QUESTION:"faq_question",MSG_TYPE_FAQ_FEEDBACK:"faq_feedback",MSG_TYPE_FAQ_LIVEAGENT:"faq_liveagent",MSG_TYPE_FAQ_UNSUPPORTED:"faq_unsupported",MSG_TYPE_FAQ_FEEDBACK_PROMPT:"faq_feedback_prompt",MSG_TYPE_FAQ_LIVEAGENT_PROMPT:"faq_liveagent_prompt",MSG_TYPE_UNTATED_ORDER_REMINDER:"unrated_order_reminder",MSG_TYPE_FLASH_SALE:"flash_sale",MSG_TYPE_BUNDLE_DEAL:"bundle_deal",MSG_TYPE_BUNDLE_MESSAGE:"bundle_message",MSG_TYPE_OPTION_PACK:"option_pack",MSG_TYPE_SELECTED_OPTION:"selected_option",MSG_TYPE_ADD_ON_DEAL:"add_on_deal",MSG_TYPE_VIDEO:"video",MSG_TYPE_IMAGE_WITH_TEXT:"image_with_text",MSG_TYPE_RATE_CARD:"rating_card",MSG_TYPE_NEW_FAQ:"new_faq",MSG_TYPE_FAQ_CATEGORY_CHOICE:"faq_category_choice",MSG_TYPE_FAQ_QUESTION_LIST:"faq_question_list",MSG_TYPE_FAQ_TYPE_CHOICE:"faq_type_choice",MSG_TYPE_FAQ_CATEGORY_LIST:"faq_category_list",MSG_TYPE_FAQ_TYPE_BOT_REQUEST_TEXT_MESSAGE:"faq_bot_request_text",MSG_TYPE_FAQ_TYPE_BOT_REQUEST_ORDER_MESSAGE:"faq_bot_request_order",FAQ_TYPE_BOT_RESPONSE_MESSAGE:"faq_bot_response",MSG_TYPE_SECURITY_TIPS:"security_tips",MSG_TYPE_CRM_ITEM_LIST:"crm_item_list",MSG_TYPE_RR:"return_refund_card",MSG_TYPE_CRM_ORDER_RATE:"crm_order_rate",MSG_TYPE_LOGISTICS_CARD:"logistics_card",MSG_TYPE_LOGISTICS_ISSUE_ENQUIRY_CARD:"logistics_issue_enquiry_card",MSG_TYPE_EXPEDITED_LOGISTICS_CARD:"expedited_logistics_card",MSG_TYPE_LATE_DELIVERY_COMPENSATION_VOUCHER:"late_delivery_compensation_voucher",MSG_TYPE_LOADING:"loading",MSG_TYPE_CUSTOMER_SERVICE_ENTRANCE:"customer_service_entrance",MSG_TYPE_INSURANCE_CS_GUIDE:"insurance_cs_guide",MSG_TYPE_FAQ_BOT_REVIEW_SUMMARY_CARD:"faq_bot_review_summary_card",MSG_TYPE_FAQ_BOT_GALLERY_CARD:"faq_bot_buyer_gallery_card",MSG_TYPE_RESTOCK_REMINDER_CARD:"bot_restock_reminder_card",MSG_TYPE_OUT_STOCK_CARD:"bot_out_stock_card",MSG_TYPE_FAQ_BOT_TIMELINE_CARD:"faq_bot_timeline_card",MSG_TYPE_BOT_BARGAIN_CARD:"faq_bot_price_history_card",MSG_TYPE_FAQ_BOT_AUTHENTIC_CARD:"faq_bot_authentic_card",MSG_TYPE_FAQ_TYPE_BOT_CONTACT_COURIER_CARD:"faq_bot_contact_courier_card",MSG_TYPE_RAISE_RR_CARD:"rr_entrance_card",MSG_TYPE_INQUIRY_RR_OPERATION_CARD:"track_rr_status_card",MSG_TYPE_INQUIRY_RR_OPERATION_FEEDBACK_CARD:"rr_operate_feedback_card",MSG_TYPE_FAQ_TYPE_BOT_ITEM_COMPARISON:"faq_type_bot_item_comparison",MSG_TYPE_INFORM_PROMOTION:"crm_bundle_item_inform_promotion",MSG_TYPE_NEW_ARRIVAL:"crm_bundle_item_new_arrival",MSG_TYPE_CUSTOM_MESSAGE:"crm_bundle_item_custom_message",MSG_TYPE_TEXT_WITH_BUBBLE:"text_with_bubble",MSG_TYPE_QUESTION_LIST:"question_list",MSG_TYPE_RICH_TEXT:"rich_text",MSG_TYPE_FAQ_BOT_SUGGESTION_CARD:"bot_text_with_suggestion_card",MSG_TYPE_FAQ_BOT_VOUCHER_PRODUCT:"bot_voucher_product",MSG_TYPE_SET_STOCK_REMINDER_CARD:"out_of_stock_reminder_card",MSG_TYPE_FAQ_BOT_RAISE_RR_CARD:"faq_bot_raise_rr_card",MSG_TYPE_FAQ_BOT_RAISE_RR_CARD_FEEDBACK_CARD:"faq_bot_raise_rr_feedback_card",MSG_TYPE_FAQ_BOT_TRACK_RR_STATUS_CARD:"faq_bot_track_rr_status_card",MSG_TYPE_FAQ_BOT_TRACK_RR_STATUS_FEEDBACK_CARD:"faq_bot_operate_rr_feedback_card",MSG_TYPE_FAQ_BOT_ITEM_COLLECTIONS:"faq_bot_item_collections",MSG_TYPE_FAQ_BOT_TEXT_WITH_SHORTCUT:"faq_bot_text_with_shortcut",MSG_TYPE_FAQ_BOT_PRODUCT:"product_new",MSG_TYPE_FAQ_BOT_SELECT_PRODUCT:"faq_bot_select_product",MSG_TYPE_OFFICIAL_CHAT_BANNER:"official_chat_banner",MSG_TYPE_OFFICIAL_CHAT_VOUCHER:"official_chat_voucher",MSG_TYPE_OFFICIAL_CHAT_REPAYMENT:"official_chat_repayment",MSG_TYPE_CREDIT_CS_GUIDE:"cs_guide",MSG_TYPE_FAQ_BOT_VOUCHER_FULFILLMENT:"faq_bot_voucher_fulfillment",MSG_TYPE_FAQ_BOT_MARKDOWN:"markdown",MSG_TYPE_FAQ_TYPE_BOT_ITEM_VIDEO_CARD:"faq_bot_item_video_card",MSG_TYPE_CHAT_ORDER_INVITATION_CARD:"chat_order_invitation_card",MSG_TYPE_FAQ_TYPE_BOT_TEXT_WITH_OPTION:"bot_text_with_option",MSG_TYPE_VARIATION_CARD:"variation_card",MSG_TYPE_FAQ_BOT_PROMOTION_PRODUCT_CARD:"faq_bot_promotion_product",MSG_TYPE_ACTIVE_CHATBOT_CARD:"active_chatbot_card",MSG_TYPE_FAQ_TYPE_BOT_MULTI_PRODUCTS_CARD:"faq_bot_multi_products_card",MSG_TYPE_FAQ_TYPE_FIRST_MSG_ITEM_RCMD:"first_msg_item_rcmd"},o={SENDING:1,FAILED:2,SUCCEED:3,DELIVERY:4,READ:5},n={SENDER_FORBIDDEN:27,FORBIDDEN:28,LIMITING:29,CUSTOM_ERROR:42,BLACKLIST:43,CANCEL_ORDER:44,UNVERIFIED_PHONE_NUMBER:45,EXCEED_DAILY_LIMIT:26,UNTRUSTED_NETWORK:46,NEED_CAPTCHA:47,DFP_ERROR:48,SPAMMER:49,FAQ_EXPIRED:50,FAQ_SESSION_OLD:51,NEED_CAPTCHA_VERIFY:52,FROM_USER_FROZEN:53,TO_USER_FROZEN:54,FAQ_PAUSED:55,SYSTEM_SEND_RATE_CARD:56,MESSAGE_REPETITIVE_LEVEL_1:57,DEFAULT:-1,SHOP_BIND_SUBACCOUNT:58},a=9,c={ALL:-1,PERSONAL:1,TEAM:2};!function(e){e[e.MSG_OPT_NORMAL=0]="MSG_OPT_NORMAL",e[e.MSG_OPT_AUTO_REPLY=1]="MSG_OPT_AUTO_REPLY",e[e.MSG_OPT_BLOCKED=2]="MSG_OPT_BLOCKED",e[e.MSG_OPT_CENSORED_BLACKLIST=16]="MSG_OPT_CENSORED_BLACKLIST",e[e.MSG_OPT_CENSORED_WHITELIST=32]="MSG_OPT_CENSORED_WHITELIST",e[e.MSG_OPT_IGNORE_UNREAD_FOR_RECEIVER=64]="MSG_OPT_IGNORE_UNREAD_FOR_RECEIVER",e[e.MSG_OPT_IGNORE_UNREAD_FOR_SENDER=128]="MSG_OPT_IGNORE_UNREAD_FOR_SENDER",e[e.MSG_OPT_INVISIBLE_FOR_RECEIVER=256]="MSG_OPT_INVISIBLE_FOR_RECEIVER",e[e.MSG_OPT_INVISIBLE_FOR_SENDER=512]="MSG_OPT_INVISIBLE_FOR_SENDER",e[e.MSG_OPT_ADS=1024]="MSG_OPT_ADS",e[e.MSG_OPT_FAQ_SESSION=2048]="MSG_OPT_FAQ_SESSION",e[e.MSG_OPT_TRIGGER_FAQ=4096]="MSG_OPT_TRIGGER_FAQ",e[e.MSG_OPT_SOCIAL_MESSAGE=8192]="MSG_OPT_SOCIAL_MESSAGE",e[e.MSG_OPT_OFFWORK_AUTOREPLY=16384]="MSG_OPT_OFFWORK_AUTOREPLY",e[e.MSG_OPT_CANCELORDER_WARNING_SENT=32768]="MSG_OPT_CANCELORDER_WARNING_SENT",e[e.MSG_OPT_CANCELORDER_WARNING_RETRACT=65536]="MSG_OPT_CANCELORDER_WARNING_RETRACT",e[e.MSG_OPT_CANCELORDER_WARNING_NOT_SEND=66496]="MSG_OPT_CANCELORDER_WARNING_NOT_SEND",e[e.MSG_OPT_CHATBOT_SESSION=131072]="MSG_OPT_CHATBOT_SESSION",e[e.MSG_OPT_TRIGGER_CHATBOT=262144]="MSG_OPT_TRIGGER_CHATBOT",e[e.MSG_OPT_PRIVATE_MESSAGE=524288]="MSG_OPT_PRIVATE_MESSAGE",e[e.MSG_OPT_SILENT_FOR_SENDER=1048576]="MSG_OPT_SILENT_FOR_SENDER",e[e.MSG_OPT_DELETE=2097152]="MSG_OPT_DELETE",e[e.MSG_OPT_RECALL=8388608]="MSG_OPT_RECALL",e[e.MSG_OPT_TRIGGER_TOP_BANNER_UPDATE=536870912]="MSG_OPT_TRIGGER_TOP_BANNER_UPDATE"}(e||(e={}));var l,u,_,d,p,S=88;!function(e){e[e.Submit=1]="Submit",e[e.Refund=2]="Refund",e[e.Reject=3]="Reject"}(l||(l={})),function(e){e[e.ReturnAndRefund=0]="ReturnAndRefund",e[e.Return=1]="Return"}(u||(u={})),function(e){e[e.day=1]="day",e[e.hour=2]="hour"}(_||(_={})),function(e){e[e.Inquiry=1]="Inquiry",e[e.Expedite=2]="Expedite"}(d||(d={})),function(e){e[e.Normal=0]="Normal",e[e.Stuck=1]="Stuck",e[e.AfterEstimated=2]="AfterEstimated",e[e.AfterGuarantee=3]="AfterGuarantee"}(p||(p={}));var E,v,T={Normal:"normal",Stuck:"stuck",AfterEstimated:"exceed",AfterGuarantee:"latest"},f=["inquiry_logistics_switch_order","expedite_delivery_switch_order","inquiry_logistics","expedite_delivery"],h=["rr_entrance","noti_type_raise_return_refund_switch_order","noti_type_track_return_refund_switch_order"],O="noti_type_track_return_refund_switch_order",g=["noti_type_raise_return_refund_switch_order","noti_type_track_return_refund_switch_order"],y="choice_queue_status",m=["noti_type_seller_send_message_in_chatbot","noti_type_seller_pause_chatbot"],b="noti_type_seller_item_kb_enhancement";!function(e){e.rr_entrance="modal.select_order.title",e.noti_type_raise_return_refund_switch_order="modal.select_raise_rr_order.title",e.noti_type_track_return_refund_switch_order="modal.select_track_rr_order.title"}(E||(E={})),function(e){e[e.AUTO_REPLY=1]="AUTO_REPLY",e[e.OFFWORK_AUTO_REPLY=2]="OFFWORK_AUTO_REPLY",e[e.CHAT_ASSISTANT=3]="CHAT_ASSISTANT",e[e.CHAT_ASSITANT_WITH_TCS=4]="CHAT_ASSITANT_WITH_TCS",e[e.CHAT_ASSISTANT_WITH_REVIEW=5]="CHAT_ASSISTANT_WITH_REVIEW",e[e.CHAT_ASSISTANT_WITH_REVIEW_AND_TCS=6]="CHAT_ASSISTANT_WITH_REVIEW_AND_TCS"}(v||(v={}));var A,R=e=>[v.CHAT_ASSISTANT,v.CHAT_ASSITANT_WITH_TCS].includes(e),C=e=>[v.CHAT_ASSISTANT_WITH_REVIEW,v.CHAT_ASSISTANT_WITH_REVIEW_AND_TCS].includes(e),P=e=>R(e)||C(e),D=e=>[v.CHAT_ASSITANT_WITH_TCS,v.CHAT_ASSISTANT_WITH_REVIEW_AND_TCS].includes(e),I=e=>Object.values(v).includes(e),N=e=>R(e)?t("message.label_type.ai_assistant"):C(e)?t("message.label_type.support_review"):"";!function(e){e.Call="call",e.Email="email",e.WhatsApp="whatsapp",e.Line="line",e.Facebook="facebook",e.Dots="3dots"}(A||(A={}));var w,M=[r.MSG_TYPE_VIDEO,r.MSG_TYPE_PRODUCT,r.MSG_TYPE_FAQ_TYPE_BOT_ITEM_VIDEO_CARD],L=["old_webchat","new_webchat","ios","android","mini_webchat","pc_mall_minichat","mweb","openapi","ios_minichat","android_minichat"];function U(e){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}function G(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==U(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t);if("object"!==U(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===U(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){G(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}!function(e){e[e.TYPING_DOT=1]="TYPING_DOT",e[e.DOT=2]="DOT",e[e.DOT_TYPING=3]="DOT_TYPING"}(w||(w={}));var k={NORMAL:"normal",PENDING:"pending",SUCCEED:"succeed",FAILED:"failed"},F=x(x({},k),{},{INIT_PENDING:"pendingInit",INIT_FAILED:"failedInit",TEMPORY_ERROR:"temporyError"}),H=x(x({},k),{},{BLACKLIST_ERROR:"blacklistError",INTERNAL_SERVER_ERROR:"internalServerError"}),Y={ENABLED:"enabled",DISABLED:"disabled",NO_PERSSION:"no_permission"},B={SUCCEED:"succeed",FAILED:"failed",HISTORY:"history",SHOW:"show",PENDING:"pending"},V={PENDING:"pending",ACCEPTED:"accepted",REJECTED:"rejected",CANCELLED:"cancelled"},W={CONNECT:"connect",CONNECT_ERROR:"connect_error",DISCONNECT:"disconnect",RECONNECT_ATTEMPT:"reconnect_attempt",RECONNECT_ERROR:"reconnect_error",RECONNECTING:"reconnecting",RECONNECT:"reconnect"};function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){G(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var q,K,X,J,$={CUSTOMER:"customer",AGENT:"agent"};!function(e){e[e.Normal=0]="Normal",e[e.Agent=1]="Agent",e[e.ServingToday=2]="ServingToday"}(q||(q={})),function(e){e.Buyer="buyer",e.Driver="driver",e.Affiliate="affiliate"}(K||(K={})),function(e){e[e.Buyer=0]="Buyer",e[e.SubAccount=2]="SubAccount",e[e.Driver=9]="Driver",e[e.Affiliate=11]="Affiliate",e[e.Chatbot=12]="Chatbot",e[e.MCN=14]="MCN",e[e.KOL=15]="KOL"}(X||(X={})),function(e){e[e.OFFICIAL_CREDIT=1]="OFFICIAL_CREDIT"}(J||(J={}));var Z,ee=[X.MCN,X.KOL],te={[X.SubAccount]:"buyer",[X.MCN]:"mcn",[X.KOL]:"kol"},re={[K.Buyer]:[X.SubAccount],[K.Affiliate]:[X.KOL,X.MCN]},oe={[K.Buyer]:X.Buyer,[K.Driver]:X.Driver,[K.Affiliate]:X.Affiliate},ne={TODAY:"today",ALL:"all"},ae={[ne.ALL]:"all_chats",[ne.TODAY]:"serving_today"};!function(e){e[e.KOL=1]="KOL",e[e.MCN=2]="MCN"}(Z||(Z={}));var se,{itemHeight:ie}={itemHeight:{conversationCellForBCSubAccount:84,conversationCellForBCSubAccountTH:94,conversationCell:62,conversationCellTH:70,shopCardCell:212,shopListCell:72,voucherCell:146,conversationShopListCell:60,dropdownShopListCell:44,contactCell:48},itemWidth:{shopCardCell:356}},{conversationCellForBCSubAccount:ce,conversationCell:le}=ie,ue=e=>e?ce:le,_e={PINNED:"pinned",UNREPLIED:"unreplied",AUTOREPLY:"auto_replied",MANUALREPLY:"manually_replied",ALL_BUYERS:"all_buyers",BUYER_TO_PAY:"to_pay",INQUIRY_WITHOUT_ORDER:"inquiry_without_order"},de=[_e.PINNED,_e.UNREPLIED,_e.AUTOREPLY,_e.MANUALREPLY],pe=[_e.BUYER_TO_PAY,_e.INQUIRY_WITHOUT_ORDER,_e.ALL_BUYERS],Se=[_e.UNREPLIED,_e.PINNED,_e.AUTOREPLY,_e.MANUALREPLY],Ee={SHOW:1,HIDE:2},ve=(e={})=>{var{unread_count:t=0,seller_unread_status:r}=e;return"number"==typeof t&&t>0||r===Ee.SHOW},Te=(e={})=>0===e.unread_count&&e.seller_unread_status!==Ee.SHOW;!function(e){e[e.GET=0]="GET",e[e.UPDATE_PRODUCT=1]="UPDATE_PRODUCT",e[e.UPDATE_ORDER=2]="UPDATE_ORDER",e[e.UPDATE_RECOMMEND=7]="UPDATE_RECOMMEND"}(se||(se={}));var fe,he=e=>{var t,r,o,n,a,s,i=null===(t=e.find((e=>"auto_replied"===e.type)))||void 0===t?void 0:t.conversations,c=null===(r=e.find((e=>"pinned"===e.type)))||void 0===r||null===(o=r.conversations)||void 0===o?void 0:o.map((e=>null==e?void 0:e.id)),l=null===(n=e.find((e=>"unreplied"===e.type)))||void 0===n?void 0:n.conversations,u=null==l||null===(a=l.find((e=>{var t;return"exit_faq"===(null===(t=e.latest_message_content)||void 0===t?void 0:t.notification_type)})))||void 0===a?void 0:a.id;return[null==i||null===(s=i.find((e=>!c.includes(e.id))))||void 0===s?void 0:s.id,u]},Oe=(e,t)=>t?X.Chatbot:e,ge=de[0],ye=de.slice(0),me={[de[1]]:!1,[de[0]]:!1,[de[2]]:!1,[de[3]]:!1},be=(e,t,r)=>{var o=null==r?void 0:r.length;if(t&&4===Object.keys(e).length){var n=z({},me);n[ge]=e[ge];var a=ye.find((t=>e[t]));return a&&(n[a]=!0),o&&(n.upreplied=!0,n.auto_replied=!0),n}return null},Ae=(e,t,r)=>{var[o,n]=r,a={serveTodaySingleFolderStatus:"",singleFolderStatus:""};if(t){var s="",i="";Se.every((t=>{var r;return null===(r=Object.keys(e))||void 0===r?void 0:r.includes(t)}))&&((s=Se.find((t=>e[t]))||"")&&(o?s=_e.AUTOREPLY:n&&(s=_e.UNREPLIED)),a=z(z({},a),{},{serveTodaySingleFolderStatus:s})),pe.every((t=>{var r;return(null===(r=Object.keys(e))||void 0===r?void 0:r.includes(t))||t===_e.ALL_BUYERS}))&&(i=pe.find((t=>e[t]))||"",a=z(z({},a),{},{singleFolderStatus:i}))}return a};!function(e){e.MONITOR="monitor",e.SERVING="serving"}(fe||(fe={}));var Re,Ce,Pe={SYNC:4,SELECTOR:13},De={SEND:7},Ie={PRELOAD:1},Ne={MAIN_SUBACCOUNT:"main_subaccount",ADMIN_SUBACCOUNT:"admin_subaccount",NORMAL_SUBACCOUNT:"normal_subaccount"},we={SELLER:"seller",SUBACCOUNT:"subaccount"},Me=e=>{if(!e)return!1;var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=window.innerHeight&&t.right<=window.innerWidth},Le={CLICK:"click",IMPRESSION:"impression",ACTION_DRAG_VIDEO:"action_drag_video",DELETE_PREVIEW_MEDIA:"delete_preview_media",CLOSE_PREVIEW_MEDIA:"close_preview_media",VIEW:"view",ACTION_SELECT:"action_select",ACTION_SEARCH:"action_search",ACTION_HOVER:"action_hover",ACTION_TOGGLE_ON_SUCCESS:"action_toggle_on_success",ACTION_TOGGLE_OFF_SUCCESS:"action_toggle_off_success",ACTION_DISAPPEAR:"action_disappear",ACTIVATE_CHATBOT_SUCCESS:"activate_chatbot_success"};!function(e){e.LandingPage="SIPDirectChatFromChatLandingPage",e.ProductPage="SIPProductPage",e.OrderPage="SIPOrderPageFromBuyer",e.ShopPage="SIPShopPage"}(Re||(Re={})),function(e){e[e.Disable=0]="Disable",e[e.AutoToggle=1]="AutoToggle",e[e.Opt=2]="Opt"}(Ce||(Ce={}));var Ue,Ge={error:"error",success:"success",normal:"normal",warn:"warn",info:"info",highlight:"highlight"},je={pending:Ge.warn,error:Ge.error,resolved:Ge.success};!function(e){e[e.Login=0]="Login",e[e.Redirection=1]="Redirection",e[e.Messages=2]="Messages",e[e.Conversations=3]="Conversations"}(Ue||(Ue={}));var xe,ke,Fe,He,Ye={sg:"en",ph:"en",tw:"zhHant",id:"id",th:"th",vn:"vi",my:"en",br:"pt-BR",mx:"es-MX",cl:"es-CL",pl:"pl",co:"es-CO",kh:"km-KH",mm:"my-MM",la:"lo-LA"},Be={en:"en",zhHans:"zh-Hans","ms-my":"ms-MY",zhHant:"zh-Hant",id:"id",th:"th",vi:"vi","pt-BR":"pt-BR","es-MX":"es-MX","es-CL":"es-CL","es-CO":"es-CO","es-AR":"es-AR",pl:"pl",fr:"fr","es-ES":"es-ES",fil:"fil",my:"my",km:"km","km-KH":"km-KH","my-MM":"my-MM","lo-LA":"lo-LA"},Ve={USERID:"__chat_userid__",LAST_ACTIVE:"last-active-time",MINI_ALERT:"mini-should-show-alert",MINI_TEXT_BOX_HEIGHT:"mini-text-box-height"},We={ACK:"ack",TAB_FOCUSED:"tabFocused",CALC_CONNECTIONS:"calcConnections",CLOSE_CONNECTION:"closeConnection",SHARE_API_DATA:"shareApiData"},Qe={UNREAD:"unread",UPDATE_SETTING:"updateSetting"},ze=199999,qe=e=>!e||0===Object.keys(e).length,Ke=(e,t)=>JSON.stringify(e)===JSON.stringify(t),Xe=(e,t)=>{if(!e)return!1;if(!t)return!0;var r=(e+="").length,o=(t+="").length;if(r!==o)return r>o;var n=e.split(""),a=null;return n.forEach(((e,r)=>{"boolean"!=typeof a&&(a=parseInt(e)>parseInt(t[r])||parseInt(e)===parseInt(t[r])&&null)})),!!a},Je=s(602),$e=s(598),Ze=s.n($e),et=s(480),tt=["hans","hant"],rt=["my","en","zh-hans","zh-hant","ms-my","th-th","vi-vn","id-id","zh-cn","pt-br","hi","es-mx","es-co","es-cl","es-es","es-ar","pl","fr","fil","km"],ot=e=>"".concat(e[0].toUpperCase()).concat(e.substring(1)),nt=e=>{if(e.includes("-")){var t=e.split("-");return tt.includes(t[1])?"".concat(t[0],"-").concat(ot(t[1])):"".concat(t[0],"-").concat(t[1].toUpperCase())}return e},at=e=>{var t=(e||"en").toLowerCase(),r="en";for(var o of rt)if(o.includes(t)){r=nt(o);break}return r},st={en:"default","ms-MY":"ms","th-TH":"th",th:"th","zh-Hans":"zh-Hans","zh-Hant":"zh-Hant","vi-VN":"vi",vi:"vi","id-ID":"id",id:"id","zh-CN":"zh-Hans","pt-BR":"pt-BR",hi:"hi","es-MX":"es-MX","es-CO":"es-CO","es-CL":"es-CL",pl:"pl","es-ES":"es-ES",fr:"fr","es-AR":"es-AR",fil:"ph",my:"my",km:"km","km-KH":"km-KH","my-MM":"my-MM","lo-LA":"lo-LA"},it={en:"SG",ms:"MY",th:"TH","zh-Hans":"CN","zh-Hant":"TW",vi:"VN",ph:"PH",id:"ID","pt-BR":"BR","es-MX":"MX","es-CO":"CO","es-CL":"CL","es-AR":"AR",fr:"FR",pl:"PL","es-ES":"ES",hi:"IN",fil:"PH",my:"MM",default:"SG",km:"VN","km-KH":"KH","my-MM":"MM","lo-LA":"LA"},ct=e=>{var t=at(e);return it[st[t]]||it.default},lt=e=>{var t=at(e);switch(t){case"th-TH":return"th";case"vi-VN":return"vi";case"id-ID":return"id";default:return t}},ut={en:"default","ms-MY":"ms-my","th-TH":"th",th:"th","zh-Hans":"tw","zh-Hant":"tw","vi-VN":"vn",vi:"vn",km:"vn","id-ID":"id",id:"id","zh-CN":"cn","pt-BR":"pt-br",hi:"hi","es-MX":"es-mx","es-CO":"es-co","es-CL":"es-cl",pl:"pl","es-ES":"es-es",fr:"fr","es-AR":"es-ar",fil:"fil",my:"my"},_t=e=>{var t=at(e);return ut[t]||"default"},dt=()=>{var e,t=Ze().get("language");if(t)e=Be[t]||"en";else{var r=Ye[(0,et.X7)()]||"en";e=Be[r]||"en"}return e},pt=s(95).t,St=()=>{},Et=e=>{var t=ct(e);xe=t;var r=(0,Je.getBoundUtils)(t,e);St=r.formatTime},vt=e=>St(e,"hh:mm");!function(e){e.Today="today",e.Yesterday="yesterday"}(ke||(ke={})),function(e){e[e.Time=0]="Time"}(Fe||(Fe={})),function(e){e[e.sunday=0]="sunday",e[e.monday=1]="monday",e[e.tuesday=2]="tuesday",e[e.wednesday=3]="wednesday",e[e.thursday=4]="thursday",e[e.friday=5]="friday",e[e.saturday=6]="saturday"}(He||(He={}));var Tt,ft=e=>{var{value:t,date:r,suffix:o,prefix:n}=e,a="",s="";if(n&&(a=pt("conversation_detail.message_list.".concat(n.type))+(void 0===n.separator?"  ":n.separator)),o){var i=o.type===Fe.Time?vt(r):"";s=(void 0===o.separator?", ":o.separator)+i}return a+t+s};!function(e){e[e.Yesterday=0]="Yesterday",e[e.Today=1]="Today",e[e.ThisMonth=2]="ThisMonth",e[e.ThisYear=3]="ThisYear",e[e.ThisWeek=4]="ThisWeek",e[e.NONE=5]="NONE"}(Tt||(Tt={}));var ht=(e,t)=>{var{noTodayFlag:r,noTimeFlag:o,needFullFormat:n,onlyKeepDate:a,isConvPreview:s}=t||{},i=new Date(e),c=St(e,{month:"short",day:"short",year:"long"});if(n)return ft({value:c,date:i,suffix:{type:Fe.Time}});if(a)return c;var l=["tw","cn"].includes(xe.toLowerCase()),u=((e,t)=>{var r=new Date,o=new Date(e);if(t){var n=r-o,a=(new Date).setHours(0,0,0,0);if(n<=6048e5&&n>=r.getTime()-a+864e5)return Tt.ThisWeek}if(r.getFullYear()===o.getFullYear()){if(r.getMonth()===o.getMonth()){var s=r.getDate(),i=o.getDate();return s===i?Tt.Today:s-1===i?Tt.Yesterday:Tt.ThisMonth}return Tt.ThisYear}return Tt.NONE})(e,s);switch(u){case Tt.Today:var _=r?void 0:{type:ke.Today},d={type:Fe.Time,separator:""};return ft({value:"",date:i,prefix:_,suffix:d});case Tt.Yesterday:var p={type:ke.Yesterday},S=o?void 0:{type:Fe.Time,separator:""};return ft({value:"",date:i,prefix:p,suffix:S});case Tt.ThisWeek:return pt("common.".concat(He[new Date(e).getDay()]));case Tt.ThisMonth:case Tt.ThisYear:var E=o?void 0:{type:Fe.Time};return ft({value:St(e,s?l?"MM/dd":"dd/MM":{month:"short",day:"short"}),date:i,suffix:E});default:var v=o?void 0:{type:Fe.Time};return ft({value:St(e,s?l?"yy/MM/dd":"dd/MM/yy":{month:"short",day:"short",year:"long"}),date:i,suffix:v})}},Ot=(e,t="")=>St(e,t||"yyyy-MM-dd hh:mm"),gt=e=>{var{created_at:t,created_timestamp:r}=e;return ht(t||1e3*r,{noTodayFlag:!0,noTimeFlag:!0,isConvPreview:!0})},yt=(e,t)=>St(e,{month:"short",day:"short",year:"long"})===St(t,{month:"short",day:"short",year:"long"}),mt={0:"sunday",1:"monday",2:"tuesday",3:"wednesday",4:"thursday",5:"friday",6:"saturday"},bt=(e,t)=>{var r=1e3*e;switch(t){case"time":return vt(r);case"date":var o=new Date,n=new Date(r);if(o.getFullYear()===n.getFullYear()){if(o.getMonth()===n.getMonth()){var a=o.getDate(),s=n.getDate();if(a===s)return pt("conversation_detail.message_list.today");if(a-1===s)return pt("conversation_detail.message_list.yesterday");if(a-s<7){var i=n.getDay();return pt("common.".concat(mt[i]))}return St(r,{month:"short",day:"short"})}return St(r,{month:"short",day:"short"})}return St(r,{month:"short",day:"short",year:"long"})}},At=s(661),Rt=s.n(At),Ct=e=>0===e||1===e?"one":e>=1e6?"many":"other",Pt=e=>1===e?"one":Number.isInteger(e)?[2,3,4].includes(e%10)&&![12,13,14].includes(e%100)?"few":![2,3,4].includes(e%10)||[12,13,14].includes(e%100)?"many":"other":"other",Dt=e=>e<=1?"one":"other",It={fr:Ct,pl:Pt,default:Dt},Nt={fr:(e,t)=>"".concat(Ct(e),".").concat(Ct(t)),pl:(e,t)=>"".concat(Pt(e),".").concat(Pt(t)),default:(e,t)=>"".concat(Dt(e),"_").concat(Dt(t))},wt=["fr","pl"],Mt=(e,t,r)=>{var o=Rt().language||"en",n=wt.includes(o)?o:"default";return void 0!==r?"".concat(e,"_").concat(Nt[n](t,r)):"".concat(e,"_").concat(It[n](t))},Lt=(e,t)=>{var r=t||window.location.search,o=null;if(r){var n=r.indexOf("?")+1,a=new RegExp("(^|&)"+e+"=([^&]*)(&|$)");o=r.substr(n).match(a)}return o?unescape(o[2]):null},Ut=(e,t=200,r=1e3)=>{var o,n=Date.now();return(...a)=>{o&&(clearTimeout(o),o=null),Date.now()-n>r?(e(...a),n=Date.now()):o=window.setTimeout((()=>{e(...a),n=Date.now()}),t)}},Gt=function(e,t,r={}){var o,n,a,s=null,i=0,c=function(){i=!1===r.leading?0:(new Date).getTime(),s=null,a=e.apply(o,n),s||(o=n=null)};return function(...l){var u=(new Date).getTime();i||!1!==r.leading||(i=u);var _=t-(u-i);return o=this,n=l,_<=0||_>t?(s&&(clearTimeout(s),s=null),i=u,a=e.apply(o,n),s||(o=n=null)):s||!1===r.trailing||(s=window.setTimeout(c,_)),a}},jt="modal",xt=(e,t)=>{var{superType:r,secondaryType:o}=t,n=e.find((e=>e.name===r));if(n){var a=n.children;if(a.length){var s=a.find((e=>e.name===o));return s||!1}return!1}return!1},kt=e=>xt(e,{superType:"AI-Banner",secondaryType:jt}),Ft=e=>xt(e,{superType:"MiniChat-Unreplied-Filter",secondaryType:jt}),Ht=e=>xt(e,{superType:"Onboarding-Highlight-Assistant",secondaryType:jt}),Yt=e=>xt(e,{superType:"Onboarding-Highlight-AutoReplied",secondaryType:jt}),Bt=e=>!!window.__WEBCHAT_SESSION__.use_top_region_ui&&xt(e,{superType:"Region-Filter",secondaryType:jt}),Vt=s(349),Wt=s.n(Vt),Qt={getItem:(e,t)=>{try{var r=window.localStorage.getItem(e);return null==r?r:t?JSON.parse(r):r}catch(e){console.warn("*** LocalStorage Error: Can not get LocalStorage *** \n".concat(e))}},setItem:(e,t,r)=>{try{var o=r?JSON.stringify(t):t;window.localStorage.setItem(e,o)}catch(e){console.warn("*** LocalStorage Error: Can not set LocalStorage *** \n".concat(e))}},removeItem:e=>{try{window.localStorage.removeItem(e)}catch(e){console.warn("*** LocalStorage Error: Can not remove LocalStorage *** \n".concat(e))}}},zt=(e,t=!1)=>t?Qt.getItem(e):Wt().getItem(e),qt=(e,t)=>Wt().setItem(e,t),Kt=(e,t)=>t?Qt.removeItem(e):Wt().removeItem(e),Xt=Wt().supports(Wt().INDEXEDDB)||Wt().supports(Wt().WEBSQL)?1e3:100,Jt=[1173241077,1261497292,1262080160,178828848,110573301,51115741],$t=[601262932,601263083],Zt=[441174],er=e=>{var t=(0,et.IE)();return("live"===t?Jt:"staging"===t?Zt:$t).includes(e)},tr=s(95).t;function rr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function or(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rr(Object(r),!0).forEach((function(t){G(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var{MSG_TYPE_TEXT:nr,MSG_TYPE_IMAGE:ar,MSG_TYPE_PRODUCT:sr,MSG_TYPE_ORDER:ir,MSG_TYPE_STICKER:cr,MSG_TYPE_NOTIFICATION:lr,MSG_TYPE_VOUCHER:ur,MSG_TYPE_ITEM_LIST:_r,MSG_TYPE_FAQ:dr,MSG_TYPE_FAQ_QUESTION:pr,MSG_TYPE_FAQ_LIVEAGENT:Sr,MSG_TYPE_FAQ_FEEDBACK:Er,MSG_TYPE_FAQ_UNSUPPORTED:vr,MSG_TYPE_FAQ_FEEDBACK_PROMPT:Tr,MSG_TYPE_FAQ_LIVEAGENT_PROMPT:fr,MSG_TYPE_BUNDLE_MESSAGE:hr,MSG_TYPE_OPTION_PACK:Or,MSG_TYPE_SELECTED_OPTION:gr,MSG_TYPE_VIDEO:yr,MSG_TYPE_IMAGE_WITH_TEXT:mr,MSG_TYPE_RATE_CARD:br,MSG_TYPE_NEW_FAQ:Ar,MSG_TYPE_FAQ_CATEGORY_CHOICE:Rr,MSG_TYPE_FAQ_QUESTION_LIST:Cr,MSG_TYPE_FAQ_TYPE_CHOICE:Pr,MSG_TYPE_FAQ_CATEGORY_LIST:Dr,MSG_TYPE_FAQ_TYPE_BOT_REQUEST_TEXT_MESSAGE:Ir,MSG_TYPE_FAQ_TYPE_BOT_REQUEST_ORDER_MESSAGE:Nr,FAQ_TYPE_BOT_RESPONSE_MESSAGE:wr,MSG_TYPE_SHOPPING_CART:Mr,MSG_TYPE_CRM_ITEM_LIST:Lr,MSG_TYPE_RR:Ur,MSG_TYPE_CRM_ORDER_RATE:Gr,MSG_TYPE_LOGISTICS_CARD:jr,MSG_TYPE_LOGISTICS_ISSUE_ENQUIRY_CARD:xr,MSG_TYPE_EXPEDITED_LOGISTICS_CARD:kr,MSG_TYPE_LATE_DELIVERY_COMPENSATION_VOUCHER:Fr,MSG_TYPE_CUSTOMER_SERVICE_ENTRANCE:Hr,MSG_TYPE_INSURANCE_CS_GUIDE:Yr,MSG_TYPE_FAQ_BOT_REVIEW_SUMMARY_CARD:Br,MSG_TYPE_QUESTION_LIST:Vr,MSG_TYPE_TEXT_WITH_BUBBLE:Wr,MSG_TYPE_OUT_STOCK_CARD:Qr,MSG_TYPE_RESTOCK_REMINDER_CARD:zr,MSG_TYPE_FAQ_BOT_TIMELINE_CARD:qr,MSG_TYPE_BOT_BARGAIN_CARD:Kr,MSG_TYPE_FAQ_BOT_AUTHENTIC_CARD:Xr,MSG_TYPE_FAQ_TYPE_BOT_CONTACT_COURIER_CARD:Jr,MSG_TYPE_RAISE_RR_CARD:$r,MSG_TYPE_INQUIRY_RR_OPERATION_CARD:Zr,MSG_TYPE_INQUIRY_RR_OPERATION_FEEDBACK_CARD:eo,MSG_TYPE_FAQ_TYPE_BOT_ITEM_COMPARISON:to,MSG_TYPE_INFORM_PROMOTION:ro,MSG_TYPE_NEW_ARRIVAL:oo,MSG_TYPE_CUSTOM_MESSAGE:no,MSG_TYPE_FAQ_BOT_SUGGESTION_CARD:ao,MSG_TYPE_SET_STOCK_REMINDER_CARD:so,MSG_TYPE_FAQ_BOT_RAISE_RR_CARD:io,MSG_TYPE_FAQ_BOT_RAISE_RR_CARD_FEEDBACK_CARD:co,MSG_TYPE_FAQ_BOT_TRACK_RR_STATUS_CARD:lo,MSG_TYPE_FAQ_BOT_TRACK_RR_STATUS_FEEDBACK_CARD:uo,MSG_TYPE_FAQ_BOT_ITEM_COLLECTIONS:_o,MSG_TYPE_FAQ_BOT_TEXT_WITH_SHORTCUT:po,MSG_TYPE_FAQ_BOT_PRODUCT:So,MSG_TYPE_FAQ_BOT_VOUCHER_PRODUCT:Eo,MSG_TYPE_FAQ_BOT_SELECT_PRODUCT:vo,MSG_TYPE_CREDIT_CS_GUIDE:To,MSG_TYPE_OFFICIAL_CHAT_BANNER:fo,MSG_TYPE_OFFICIAL_CHAT_REPAYMENT:ho,MSG_TYPE_OFFICIAL_CHAT_VOUCHER:Oo,MSG_TYPE_RICH_TEXT:go,MSG_TYPE_FAQ_BOT_VOUCHER_FULFILLMENT:yo,MSG_TYPE_FAQ_BOT_MARKDOWN:mo,MSG_TYPE_FAQ_TYPE_BOT_ITEM_VIDEO_CARD:bo,MSG_TYPE_FAQ_BOT_LIVE_STREAM_ITEM:Ao,MSG_TYPE_CHAT_ORDER_INVITATION_CARD:Ro,MSG_TYPE_ACTIVE_CHATBOT_CARD:Co,MSG_TYPE_FAQ_TYPE_BOT_MULTI_PRODUCTS_CARD:Po,MSG_TYPE_FAQ_TYPE_BOT_TEXT_WITH_OPTION:Do,MSG_TYPE_VARIATION_CARD:Io,MSG_TYPE_FAQ_BOT_PROMOTION_PRODUCT_CARD:No,MSG_TYPE_FAQ_TYPE_FIRST_MSG_ITEM_RCMD:wo}=r,Mo="common.unsupported_message",Lo={[Sr]:"faq.live_agent",[vr]:"faq.new_unsupport_input",[Tr]:"faq.feedback_prompt",[fr]:"faq.new_live_agent_prompt",[yr]:"conversation_detail.input_field.toolbar.video.tip",[mr]:"conversation_list.conversation_cell.new_image_message",["".concat(ur,"_shop")]:"conversation_detail.workstation.voucher_panel.shop_voucher",["".concat(ur,"_item")]:"conversation_detail.workstation.voucher_panel.item_voucher",["".concat(ur,"_product")]:"conversation_detail.workstation.voucher_panel.product_voucher"},Uo=(e,t)=>{var r=Lo[e]||Mo;return er(t)&&("faq.new_unsupport_input"!==r&&"faq.live_agent"!==r&&"faq.new_live_agent_prompt"!==r&&"conversation_detail.workstation.voucher_panel.shop_voucher"!==r||(r="".concat(r,"_idscs"))),tr(r)},Go=[Zr,Po],jo=[ar,hr,Nr,sr,ir,ur,br,cr,So,Po],xo=[jr,xr,kr,Fr],ko=[So,Ao,Po],Fo={[Io]:"preview.seller_view_inquiring_variation",["".concat(Io,"_buyer")]:"preview.buyer_view_inquiring_variation",[Mr]:"message.cart_reminder",[Xr]:"Authentic_card_preview",[Co]:"chat_list.preview.translate_failed",[Ro]:"common.product",["".concat(Ro,"_buyer")]:"message.invite_order.title",[Qr]:"preview.set_restock_reminder",[zr]:"preview.restock_reminder",[Kr]:"common.preview.bargain_card",[Ao]:"livestream_card_preview_text",[yr]:"conversation_detail.input_field.toolbar.video.tip",[Tr]:"faq.feedback_prompt",[mr]:"conversation_list.conversation_cell.new_image_message",[so]:"preview.prefix.set_stock_reminder",[No]:"conversation_list.conversation_cell.new_faq_bot_multi_products_card_message"},Ho=[So,bo],Yo=[yr,Qr,zr,Kr,Ao,Ro,mr,So,so],Bo=(e,t)=>{var{type:r,content:o}=e,n=null==o?void 0:o.title;switch(r){case To:case Yr:n=null==o?void 0:o.chat_general_text;break;case io:case co:case lo:case uo:n=null==o?void 0:o.card_title;break;case Do:n=null==o?void 0:o.text;break;case Wr:if(n=null==o?void 0:o.text,1===(null==o?void 0:o.bubble_type))return tr("modal.select_order.title")}return En(n,t)||tr(Mo)},Vo=[...f,...h,y,...m],Wo=({message:t,enableTranslation:r,locale:o,conversationShopId:n,currentSellerAccountId:a,isChatlistPreview:s,toShopId:i,isSubAccount:c,isCBSubAccount:l})=>{var u=lt(o),{text:_,chatbotPrefix:d}=((t,r)=>{if(!t)return{text:tr(Mo)};var{type:o,message_option:n,crm_message_preview:a,custom_preview_text:s,label_info:{label_type:i}={}}=t,c=P(i);if(null!=a&&a.text&&!Go.includes(o)){var l=En(a,r);return{text:c?"".concat("").concat(l):l}}return Ko(n,e.MSG_OPT_CENSORED_BLACKLIST)?{text:"".concat("").concat(tr("common.blacklist.replaced_text"))}:o?{chatbotPrefix:""}:{text:"".concat("").concat(tr(Mo))}})(t,u);if(void 0!==_)return{text:_};var p,S,{type:E,content:v={}}=t,{text:T="",translation:f}=v||{},h=an(t,{isAgent:!1,shop_id:n});switch(E){case mo:case go:case Gr:case Br:case _o:case po:case Hr:case qr:S=((e,t,r)=>{var o,n,{custom_preview_text:a,type:s,content:i}=e,c=En(a,t),l="";switch(s){case _o:l=null==i||null===(o=i.item_collections)||void 0===o||null===(n=o[0])||void 0===n?void 0:n.collection_name;break;case po:l=null==i?void 0:i.text;break;case Hr:return l=tr("common.chat_with_shopee"),1===(null==i?void 0:i.button_type)?c||l:tr("text.customer_service_entrance");case qr:var u;if(!r)return null==i||null===(u=i.business_info)||void 0===u?void 0:u.quoted_text}return c||l||tr(Mo)})(t,u,s);break;case Vr:case Lr:case ro:case oo:case no:case To:case Yr:case io:case co:case lo:case uo:case Do:case Wr:case Eo:S=Bo(t,u);break;case $r:case eo:case Zr:case Ur:S=((e,t,r,o)=>{var n,a,{type:s,content:i}=e,c="";switch(s){case $r:case eo:c=En(null==i?void 0:i.card_title,t);break;case Zr:c=En(r?null==i?void 0:i.card_title_for_sender:null==i?void 0:i.card_title_for_receiver,t);break;case Ur:c=tn({isBuyer:o===(null==i?void 0:i.user_id),solution:null==i||null===(n=i.rr_detail)||void 0===n?void 0:n.solution,status:null==i||null===(a=i.rr_detail)||void 0===a?void 0:a.status})}return"[".concat(tr("label.return_and_refund"),"] ").concat(c)})(t,u,h,a);break;case Sr:case pr:case Er:case gr:case Or:case Rr:case Ir:case vo:case fo:case Oo:case ao:case to:case Ar:case dr:case wr:case yo:case ho:S=((e,t)=>{var r,o,n,a,s,i,c,{type:l,content:u}=e,_=(null==u?void 0:u.text)||(null==u?void 0:u.title)||"";switch(l){case Jr:_=(null==u||null===(r=u.business_info)||void 0===r?void 0:r.quoted_text)||"";break;case ao:case to:_=(null==u?void 0:u.comparison_summary)||"";break;case Ar:case dr:var d;_=(t?null==u||null===(d=u.translated_opening)||void 0===d?void 0:d.text:null==u?void 0:u.opening)||(null==u?void 0:u.opening)||tr("faq.no_set.chat_bot_title");break;case wr:var{message:{plain_text:p=""}={},reply_type:S}=JSON.parse(null==u?void 0:u.bot_data)||{};_=(1===S||1001===S?p:null==u?void 0:u.preview_text)||tr(Mo);break;case yo:_=(null==u||null===(o=u.promo_title)||void 0===o||null===(n=o.text)||void 0===n?void 0:n.replace(/<\/?b>/g,""))||(null==u||null===(a=u.card_title)||void 0===a?void 0:a.text)||"";break;case ho:_="[".concat(null==u||null===(s=u.preview)||void 0===s||null===(i=s.prefix)||void 0===i?void 0:i.replace(/[[\]]/g,""),"] ").concat(null==u||null===(c=u.bill_status)||void 0===c?void 0:c.content)}return _})(t,l);break;case ar:case hr:case Nr:case sr:case ir:case br:case cr:case So:case Po:case _r:case bo:case yr:case Qr:case zr:case Kr:case Ao:case Co:case Xr:case Mr:case Io:case Ro:case mr:case No:S=((e,t,r,o,n)=>{var a,s,i,c,l=tr(((e,t)=>{var r=Ho.includes(e)?sr:e;return jo.includes(r)?"conversation_list.conversation_cell.new_".concat(r,"_message"):e===_r?"common.tips.recommended".concat(t?"":"_for_you"):""})(e,r)||Fo[e]);if(Yo.includes(e)){switch(e){case Ro:return tr(Fo["".concat(e,"_buyer")]);case Ao:return tr(Mo)}var u="";switch(e){case Ro:u=null==t||null===(a=t.item_card_v2)||void 0===a||null===(s=a.name)||void 0===s?void 0:s.text;break;case mr:u=(null==t?void 0:t.caption)||(null==t?void 0:t.title)||(null==t?void 0:t.text);break;case So:u=(null==t||null===(i=t.models)||void 0===i||null===(c=i[0])||void 0===c?void 0:c.model_name)||(null==t?void 0:t.name);break;case so:u=tr("label.out_stock.title")}return"[".concat(l,"]").concat(u?" ".concat(u):"")}if(e===Io)return tr(Fo["".concat(e,"_buyer")]);var _="";switch(e){case sr:_=null==t?void 0:t.product_name;break;case ir:_=((null==t?void 0:t.products)||[]).map((e=>e.title)).join("; ");break;case br:_=tr(r?"conversation_list.preview.rate_card_sender":"rate_card.rate_out_service");break;case cr:if(null!=t&&t.sticker_name)return"[".concat(null==t?void 0:t.sticker_name,"]");break;case _r:_=((null==t?void 0:t.chat_product_infos)||[]).map((e=>e.name)).join("; ");break;case bo:_=Bo(null==t?void 0:t.name,o);break;case ur:if(null!=t&&t.type)return _=" ".concat(null==t?void 0:t.discount_text,", ").concat(null==t?void 0:t.rule_text),"[".concat(Uo("".concat(ur,"_").concat(e),n),"]").concat(_)}return"".concat(l).concat(_?" ".concat(_):"")})(E,v,h,u,i);break;case nr:S=h?T:qo({message:t,isSend:h,isSubAccount:c,enableTranslation:r})&&(null==f?void 0:f.text)||T,l&&(S=(null==f?void 0:f.text)||T);break;case Cr:case Pr:case Dr:S=((e,t)=>{var{type:r,content:o}=e;return Jo(r===Pr?null==o?void 0:o.faq_type_choice_translation:null==o?void 0:o.fixed_title,t)})(t,o);break;case vr:case fr:S=((e,t,r)=>{var{type:o,content:n}=e;return o===fr&&((null==n?void 0:n.live_agent_text)||[]).length?Jo(null==n?void 0:n.live_agent_text,t):Uo(o,r)})(t,o,i);break;case lr:var{notification_for_sender:O,notification_for_receiver:g,notifications_for_sender_hyperlink:y,notifications_for_receiver_hyperlink:m,notification_type:A}=Zo(v,o);if(A===b)S=h?g:O;else if(Vo.includes(null==v?void 0:v.notification_type)){var R;null!==(R=S=h?y:m)&&void 0!==R&&R.includes("<a>")&&(S=S.replace(/<\/?a>/g,""))}else S=h?O:g;break;case jr:case kr:case xr:case Fr:S=((e,t)=>{var r,{type:o,content:n={}}=e,a=tr("message.logistics_card.preview.prefix"),s="";switch(o){case jr:case kr:s=rn(o,n,(null==n||null===(r=n.common_info)||void 0===r?void 0:r.user_id)===t,!0);break;case xr:s=on(null==n?void 0:n.enquiry_info);break;case Fr:s=tr("message.late_delivery_compensation_voucher.title")}return"[".concat(a,"] ").concat(s)})(t,a);break;case ho:h||(p=!0);break;case wo:var{item_card_v2s:C}=v||{},D=null==C?void 0:C.length;S=tr(1===D?"common.recommend_product":"conversation_list.conversation_cell.new_faq_bot_multi_products_card_message");break;default:S=tr(Mo)}return{text:"".concat(d).concat(S),isPendingReceivedOffer:p}},Qo=e=>{var t={[w.TYPING_DOT]:"common.typing_dot",[w.DOT]:"common.dot",[w.DOT_TYPING]:"common.dot_typing"};return{text:tr(null==t?void 0:t[e])||"",isPendingReceivedOffer:!0}},zo=["crm","proactive_update"],qo=({message:t,isSend:o,isSubAccount:n,enableTranslation:a})=>{var{send_status:s,message_option:i,content:c={},country:l,type:u,source:_}=t,d=$o(c);return!o&&(n||"ID"!==l)&&u===r.MSG_TYPE_TEXT&&!zo.includes(_)&&i!==e.MSG_OPT_SOCIAL_MESSAGE&&2!==s&&a&&!d},Ko=(e,t)=>(e&t)===t,Xo=(t={})=>Ko(t.message_option,e.MSG_OPT_DELETE),Jo=(e=[],t)=>(e.find((e=>lt(t).toLocaleLowerCase().includes(e.lang.toLocaleLowerCase())))||e.find((e=>"en"===e.lang))||{}).text,$o=e=>{var{translation:t,mid:r={}}=e||{};if(!t)return!0;var{source_language:o=""}=r,{final:n,mid:a,target_language:s="",source_language:i=""}=t||{},c=n?n.target_language:s,l=n?n.source_language:i,u=a?a.source_language:o;return u?u===c:l===c&&"unknown"!==l},Zo=(e,t)=>{var{noti_text_of_all_languages:r=[]}=e||{};if(!r.length)return e;var o=r.find((e=>lt(t).toLocaleLowerCase().includes(e.language.toLocaleLowerCase())));if(o)return o;var n=r.find((e=>"en"===e.language));return n||e},en=e=>{var{type:t,textContent:r,content:o}=e,n={};switch(t){case ir:var{products:a}=r||{};n={products:a};break;case ur:var{rule_text:s,discount_text:i,type:c}=r||{};n={rule_text:s,discount_text:i,type:c};break;case sr:n={product_name:o.product_name||(null==r?void 0:r.name)}}return or(or({},e),{},{content:or(or({},o),n)})},tn=({isBuyer:e,status:t,solution:r})=>{var o=r===u.Return?"return":"return_refund",n=t===l.Submit?"proposed":t===l.Refund?"succeed":"rejected";return tr("rr_message_title.".concat(e?"buyer":"seller",".").concat(o,".").concat(n))},rn=(e,t,o,n)=>{var{common_info:{card_label:a,order_delivery_status:s}={},logistic_tracking_info:{estimate_delivery_time:i,stuck_time:c}={},expedite_delivery_button:l}=t||{},u=e===r.MSG_TYPE_EXPEDITED_LOGISTICS_CARD,_=a===d.Inquiry,S=T[p[s]],E="".concat(Ot(1e3*i,"www"),", ").concat(Ot(1e3*i,"LHDS")),v=n?E:"<a>".concat(E,"</a>"),f=Math.floor(c/86400),h="stuck"===S&&0===f,O="";if(u&&o&&!_)O=tr("message.expedited_logistics_card.title.buyer.expedite");else if(o){var g=l||u||s!==p.AfterGuarantee&&s!==p.AfterEstimated&&(s!==p.Stuck||_)?"":".unable_expedite";O=tr("message.".concat(e,".title.buyer.").concat(_?"inquiry":"expedite",".").concat(S).concat(g),{date:v,num:f}),h&&!u&&(O=_?tr("message.logistics_card.title.buyer.inquiry.normal",{date:v}):tr("message.logistics_card.title.buyer.expedite.nostuck".concat(g)))}else O=tr("message.logistics_card.title.seller.".concat(S),{date:v,num:f}),h&&(O="".concat(tr("message.logistics_card.title.seller.normal",{date:v})).concat(tr("message.logistics_card.title.buyer.expedite.nostuck.unable_expedite")));return O},on=e=>{var{display_sla_type:t,display_sla_value:r,enquiry_id:o}=e||{};if(t===_.day&&r&&o&&"0"!==o){var n="".concat(_[t],"s");return tr("message.issue_enquiry_card.title.".concat(n),{value:r})}return tr("message.issue_enquiry_card.title.unavailable")},nn=(e,t)=>{if(!e||!t.includes("]"))return{prefix:t,suffix:""};var r=t.split("] "),o=r.shift(),n=r.join(" ");return{prefix:"".concat(o,"]"),suffix:" ".concat(n)}},an=(e={},t={})=>{var{isAgent:r,to_tob_user_id:o,shop_id:n}=t,{from_id:a,to_shop_id:s}=e;return r?a!==o:s!==n},sn=e=>e.replace(/[.[\]{}()+?*^\\$?]/g,"\\$&"),cn=()=>Math.ceil(Date.now()/1e3).toString(),ln=e=>{var t=document.createElement("span");return t.setAttribute("style","\n  font-size: 12px;\n  line-height: 16px;\n  margin-left: 8px\n"),t.innerText=e,t},un=(e,t,r,o)=>{var n=document.createElement("pre"),a=(e=>"".concat("\n  margin: 0;\n  box-sizing: border-box;\n  padding: 8px 10px 10px;\n  font-size: 14px;\n  line-height: 20px;\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  position: fixed;\n  left: -1000;\n  right: -1000;\n","max-width: ").concat(e,"px"))(e);if(n.id="chat-text-pre",n.setAttribute("style",a),n.innerText=t,r){var s=ln(r);if(n.appendChild(s),o){var i=(()=>{var e=document.createElement("span");return e.setAttribute("style","\n  width: 20px;\n  height: 1px;\n  display: inline-block;\n"),e})();n.appendChild(i)}}return n},_n=(e,t="height")=>{document.body.appendChild(e);var r=e.getBoundingClientRect(),o="height"===t?r.height:r.width;return document.body.removeChild(e),o},dn=(e,t,r,o)=>{var n=un(r,e),a=ln(t),s=un(r,e,t,o),i=_n(n);return{conflict:i!==_n(s),multiLine:i>38,timeWidth:_n(a,"width"),widthConflict:_n(s,"width")>_n(n,"width")}},pn=({isSubAccount:e,status:t,userStatus:r,isBlocked:o})=>"closed"===t?"closed":["banned","frozen"].includes(r)?r:!(0,et.z$)()&&e||!o?"":"blocked",Sn=(e,t=40)=>{var r,o,n=document.getElementById("infinite-list");if(!e||!n)return!1;var a=null==n||null===(r=n.getBoundingClientRect)||void 0===r?void 0:r.call(n),s=null==e||null===(o=e.getBoundingClientRect)||void 0===o?void 0:o.call(e);return Math.min(null==s?void 0:s.bottom,null==a?void 0:a.bottom)-Math.max(null==s?void 0:s.top,null==a?void 0:a.top)>t},En=(e,t)=>{var r,o,n,a;return"string"==typeof e?e:(null==e||null===(r=e.translated_with_lang)||void 0===r||null===(o=r.find((e=>e.language.toLocaleLowerCase()===(null==t?void 0:t.toLocaleLowerCase()))))||void 0===o?void 0:o.text)||(null==e||null===(n=e.translated_text)||void 0===n||null===(a=n.find((e=>e.translated_language.toLocaleLowerCase()===(null==t?void 0:t.toLocaleLowerCase()))))||void 0===a?void 0:a.translated_text)||(null==e?void 0:e.text)||""},vn=(e,t)=>{var r,o,n;return null===(r=(null===(o=Object.values(e))||void 0===o?void 0:o.find((e=>e.lang===lt(t))))||(null===(n=Object.values(e))||void 0===n?void 0:n.find((e=>"en"===e.lang))))||void 0===r?void 0:r.text},Tn=s(95),fn=e=>e===we.SUBACCOUNT,hn=(e,t)=>fn(e)&&t===Ne.MAIN_SUBACCOUNT})(),i})(),e.exports=o(r(58518),r(88186),r(36808),r(69483))},29494:function(e,t,r){"use strict";e.exports=r(66069)}}]);